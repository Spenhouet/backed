import{S as P,i as S,s as T,y as v,a as B,k as D,z as b,c as I,l as L,m as V,h as c,n as j,A as k,b as w,g as $,d as A,B as y}from"../chunks/index.6847575b.js";import{b as g}from"../chunks/paths.4ec4a3a6.js";import{T as O,n as G}from"../chunks/index.efd07943.js";import{P as C}from"../chunks/public.d1f81b30.js";import{c as N,f as R}from"../chunks/string-formatting.ca7775a2.js";import{S as q}from"../chunks/index.b15051cd.js";import{l as z}from"../chunks/lodash.default.76769d5d.js";function E(t){let r,i,o,l,n;return r=new q({props:{title:t[2].title,description:t[2].description,openGraph:{title:t[2].title,description:t[2].description,url:t[2].url,type:"website",images:[t[2].image]},twitter:{site:"@bcked_com",title:t[2].title,description:t[2].description,image:t[2].image.url,imageAlt:t[2].image.alt}}}),l=new O({props:{data:t[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"numAssets",title:"Assets",class:"hidden sm:table-cell"},{id:"tvl",title:"Total Value Locked (TVL)",class:""}],rows:t[1],sort:[{by:"tvl"}],class:"sm:rounded-lg"}}),{c(){v(r.$$.fragment),i=B(),o=D("div"),v(l.$$.fragment),this.h()},l(e){b(r.$$.fragment,e),i=I(e),o=L(e,"DIV",{class:!0});var a=V(o);b(l.$$.fragment,a),a.forEach(c),this.h()},h(){j(o,"class","w-full pt-8")},m(e,a){k(r,e,a),w(e,i,a),w(e,o,a),k(l,o,null),n=!0},p(e,[a]){const m={};a&4&&(m.title=e[2].title),a&4&&(m.description=e[2].description),a&4&&(m.openGraph={title:e[2].title,description:e[2].description,url:e[2].url,type:"website",images:[e[2].image]}),a&4&&(m.twitter={site:"@bcked_com",title:e[2].title,description:e[2].description,image:e[2].image.url,imageAlt:e[2].image.alt}),r.$set(m);const u={};a&1&&(u.data=e[0]),a&2&&(u.rows=e[1]),l.$set(u)},i(e){n||($(r.$$.fragment,e),$(l.$$.fragment,e),n=!0)},o(e){A(r.$$.fragment,e),A(l.$$.fragment,e),n=!1},d(e){y(r,e),e&&c(i),e&&c(o),y(l)}}}function M(t,r,i){let o,l,n,e,a,m,u,{data:f}=r;return t.$$set=s=>{"data"in s&&i(0,f=s.data)},t.$$.update=()=>{t.$$.dirty&1&&i(4,{assetsPrice:o,assetsBacking:l,graphData:n,chainsDetails:e,chainsIcons:a}=f,n,(i(5,e),i(0,f)),(i(3,a),i(0,f))),t.$$.dirty&16&&G(n),t.$$.dirty&56&&i(1,m=Object.values(e).map(s=>{const d=n.nodes.filter(p=>p.data.chain==s.id).filter(p=>!p.data.details.tags.includes("lp"));return{...s,numAssets:d.length,tvl:z.sumBy(d,p=>{var h,_;return((_=(h=p.data.history)==null?void 0:h.at(-1))==null?void 0:_.mcap)??0})}}).filter(s=>s.tvl).sort((s,d)=>N(s.tvl,d.tvl)).map((s,d)=>{var p;return{rank:{text:d+1,value:d},name:{text:s.name,value:s.name,icon:`${g}/${(p=a[s.id])==null?void 0:p.href}`},"name-path":{text:`${g}/chains/${s.id}`,value:`${g}/chains/${s.id}`},numAssets:{text:s.numAssets,value:s.numAssets},tvl:{text:R(s.tvl),value:s.tvl}}})),t.$$.dirty&2&&i(2,u={title:"bcked: Chains Ranking",description:`Ranking of ${m.length} chains based on total value locked (TVL). See all ...`,url:`${C}/chains`,image:{url:`${C}/chains/preview.jpg`,width:1200,height:630,alt:"Preview of chains ranking."}})},[f,m,u,a,n,e]}class X extends P{constructor(r){super(),S(this,r,M,E,T,{data:0})}}export{X as default};
