import{S as ye,i as De,s as Le,C as Ve,R as ee,a5 as pe,a6 as ce,m as M,h as $,n as L,a7 as de,b as w,H as D,L as X,D as Ce,E as Ne,F as Me,V as je,g as h,d as b,$ as Ie,P as $e,T as Se,M as Y,y as E,a as O,z as T,c as q,A as V,B as C,a0 as Pe,e as _e,v as ge,f as he,k as A,q as U,l as B,r as H,u as x}from"../chunks/index.467a0851.js";import{b as F}from"../chunks/paths.028ee9c5.js";import{p as Ae}from"../chunks/stores.fead2aa4.js";import{u as Be,c as Ue,M as He,a as ve,H as Ee,F as Oe,I as Te}from"../chunks/array.9b90dc3f.js";import{P as qe}from"../chunks/page.42a793c3.js";import{T as Fe}from"../chunks/table.7d0fcfed.js";import{P as be}from"../chunks/public.d1f81b30.js";import{f as G,b as Ke}from"../chunks/string-formatting.ca7775a2.js";import{E as ze}from"../chunks/ExternalLink.63af8cd9.js";import{S as Ge}from"../chunks/index.7ee114f9.js";import{l as Z}from"../chunks/lodash.default.76769d5d.js";function Re(l){let t,r,s,a,e;const i=l[2].default,o=Ve(i,l,l[1],null);let n=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},l[0]],u={};for(let f=0;f<n.length;f+=1)u=ee(u,n[f]);return{c(){t=pe("svg"),o&&o.c(),r=pe("path"),this.h()},l(f){t=ce(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var d=M(t);o&&o.l(d),r=ce(d,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),M(r).forEach($),d.forEach($),this.h()},h(){L(r,"stroke-linecap","round"),L(r,"stroke-linejoin","round"),L(r,"stroke-width","2"),L(r,"d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),de(t,u)},m(f,d){w(f,t,d),o&&o.m(t,null),D(t,r),s=!0,a||(e=[X(t,"click",l[3]),X(t,"mouseover",l[4]),X(t,"mouseenter",l[5]),X(t,"mouseleave",l[6]),X(t,"keydown",l[7])],a=!0)},p(f,[d]){o&&o.p&&(!s||d&2)&&Ce(o,i,f,f[1],s?Me(i,f[1],d,null):Ne(f[1]),null),de(t,u=je(n,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},d&1&&f[0]]))},i(f){s||(h(o,f),s=!0)},o(f){b(o,f),s=!1},d(f){f&&$(t),o&&o.d(f),a=!1,Ie(e)}}}function Je(l,t,r){const s=[];let a=$e(t,s),{$$slots:e={},$$scope:i}=t;function o(p){Y.call(this,l,p)}function n(p){Y.call(this,l,p)}function u(p){Y.call(this,l,p)}function f(p){Y.call(this,l,p)}function d(p){Y.call(this,l,p)}return l.$$set=p=>{t=ee(ee({},t),Se(p)),r(0,a=$e(t,s)),"$$scope"in p&&r(1,i=p.$$scope)},[a,i,e,o,n,u,f,d]}class Qe extends ye{constructor(t){super(),De(this,t,Je,Re,Le,{})}}function we(l){let t,r;return t=new Te({props:{href:F+"/assets/"+l[1].native,icon:Qe,$$slots:{default:[We]},$$scope:{ctx:l}}}),{c(){E(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){V(t,s,a),r=!0},p(s,a){const e={};a&2&&(e.href=F+"/assets/"+s[1].native),a&32834&&(e.$$scope={dirty:a,ctx:s}),t.$set(e)},i(s){r||(h(t.$$.fragment,s),r=!0)},o(s){b(t.$$.fragment,s),r=!1},d(s){C(t,s)}}}function We(l){var a;let t,r=((a=l[6][l[1].native])==null?void 0:a.name)+"",s;return{c(){t=U("Native: "),s=U(r)},l(e){t=H(e,"Native: "),s=H(e,r)},m(e,i){w(e,t,i),w(e,s,i)},p(e,i){var o;i&66&&r!==(r=((o=e[6][e[1].native])==null?void 0:o.name)+"")&&x(s,r)},d(e){e&&$(t),e&&$(s)}}}function ke(l){let t,r;return t=new Te({props:{href:l[1].explorer,icon:ze,$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){E(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){V(t,s,a),r=!0},p(s,a){const e={};a&2&&(e.href=s[1].explorer),a&32770&&(e.$$scope={dirty:a,ctx:s}),t.$set(e)},i(s){r||(h(t.$$.fragment,s),r=!0)},o(s){b(t.$$.fragment,s),r=!1},d(s){C(t,s)}}}function Xe(l){let t,r=l[1].explorer+"",s;return{c(){t=U("Explorer: "),s=U(r)},l(a){t=H(a,"Explorer: "),s=H(a,r)},m(a,e){w(a,t,e),w(a,s,e)},p(a,e){e&2&&r!==(r=a[1].explorer+"")&&x(s,r)},d(a){a&&$(t),a&&$(s)}}}function Ye(l){let t,r,s,a=l[1].native&&we(l),e=l[1].explorer&&ke(l);return{c(){a&&a.c(),t=O(),e&&e.c(),r=_e()},l(i){a&&a.l(i),t=q(i),e&&e.l(i),r=_e()},m(i,o){a&&a.m(i,o),w(i,t,o),e&&e.m(i,o),w(i,r,o),s=!0},p(i,o){i[1].native?a?(a.p(i,o),o&2&&h(a,1)):(a=we(i),a.c(),h(a,1),a.m(t.parentNode,t)):a&&(ge(),b(a,1,1,()=>{a=null}),he()),i[1].explorer?e?(e.p(i,o),o&2&&h(e,1)):(e=ke(i),e.c(),h(e,1),e.m(r.parentNode,r)):e&&(ge(),b(e,1,1,()=>{e=null}),he())},i(i){s||(h(a),h(e),s=!0)},o(i){b(a),b(e),s=!1},d(i){a&&a.d(i),i&&$(t),e&&e.d(i),i&&$(r)}}}function Ze(l){var R;let t,r,s,a,e,i,o,n=l[3].length+"",u,f,d,p,j,N,k=G(((R=l[2].at(-1))==null?void 0:R.value)??0)+"",K,c,_,v,y;return t=new Ee({props:{title:"TVL History",subtitle:"View "+l[1].name+"'s total value locked (TVL) history."}}),v=new Oe({props:{formatter:G,data:l[2].length?l[2]:[{date:new Date().toISOString(),value:0}]}}),{c(){E(t.$$.fragment),r=O(),s=A("div"),a=A("dl"),e=A("dt"),i=U("Current Number of Assets"),o=A("dd"),u=U(n),f=O(),d=A("dl"),p=A("dt"),j=U("Current Total Value Locked (TVL)"),N=A("dd"),K=U(k),c=O(),_=A("div"),E(v.$$.fragment),this.h()},l(m){T(t.$$.fragment,m),r=q(m),s=B(m,"DIV",{class:!0});var g=M(s);a=B(g,"DL",{});var I=M(a);e=B(I,"DT",{class:!0});var S=M(e);i=H(S,"Current Number of Assets"),S.forEach($),o=B(I,"DD",{class:!0});var P=M(o);u=H(P,n),P.forEach($),I.forEach($),f=q(g),d=B(g,"DL",{class:!0});var z=M(d);p=B(z,"DT",{class:!0});var J=M(p);j=H(J,"Current Total Value Locked (TVL)"),J.forEach($),N=B(z,"DD",{class:!0});var Q=M(N);K=H(Q,k),Q.forEach($),z.forEach($),g.forEach($),c=q(m),_=B(m,"DIV",{class:!0});var W=M(_);T(v.$$.fragment,W),W.forEach($),this.h()},h(){L(e,"class","text-sm font-medium text-gray-500 truncate"),L(o,"class","mt-1 text-3xl font-semibold text-gray-900"),L(p,"class","text-sm font-medium text-gray-500 truncate"),L(N,"class","mt-1 text-3xl font-semibold text-gray-900"),L(d,"class","text-right"),L(s,"class","flex items-center justify-between mt-5 sm:mt-6 px-4 sm:px-6"),L(_,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(m,g){V(t,m,g),w(m,r,g),w(m,s,g),D(s,a),D(a,e),D(e,i),D(a,o),D(o,u),D(s,f),D(s,d),D(d,p),D(p,j),D(d,N),D(N,K),w(m,c,g),w(m,_,g),V(v,_,null),y=!0},p(m,g){var P;const I={};g&2&&(I.subtitle="View "+m[1].name+"'s total value locked (TVL) history."),t.$set(I),(!y||g&8)&&n!==(n=m[3].length+"")&&x(u,n),(!y||g&4)&&k!==(k=G(((P=m[2].at(-1))==null?void 0:P.value)??0)+"")&&x(K,k);const S={};g&4&&(S.data=m[2].length?m[2]:[{date:new Date().toISOString(),value:0}]),v.$set(S)},i(m){y||(h(t.$$.fragment,m),h(v.$$.fragment,m),y=!0)},o(m){b(t.$$.fragment,m),b(v.$$.fragment,m),y=!1},d(m){C(t,m),m&&$(r),m&&$(s),m&&$(c),m&&$(_),C(v)}}}function xe(l){let t,r,s,a;return t=new Ee({props:{title:"Assets on Chain",subtitle:"List of assets on "+l[1].name+"."}}),s=new Fe({props:{data:l[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden sm:table-cell"},{id:"supply",title:"Supply",class:"hidden sm:table-cell"},{id:"mcap",title:"Market Cap",class:""}],rows:l[3].map(l[13]),sort:[{by:"mcap"}],class:"mt-5 sm:mt-6"}}),{c(){E(t.$$.fragment),r=O(),E(s.$$.fragment)},l(e){T(t.$$.fragment,e),r=q(e),T(s.$$.fragment,e)},m(e,i){V(t,e,i),w(e,r,i),V(s,e,i),a=!0},p(e,i){const o={};i&2&&(o.subtitle="List of assets on "+e[1].name+"."),t.$set(o);const n={};i&1&&(n.data=e[0]),i&8&&(n.rows=e[3].map(e[13])),s.$set(n)},i(e){a||(h(t.$$.fragment,e),h(s.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),b(s.$$.fragment,e),a=!1},d(e){C(t,e),e&&$(r),C(s,e)}}}function et(l){var o;let t,r,s,a,e,i;return t=new He({props:{title:l[1].name,iconUrl:F+"/"+((o=l[5])==null?void 0:o.href),$$slots:{default:[Ye]},$$scope:{ctx:l}}}),s=new ve({props:{$$slots:{default:[Ze]},$$scope:{ctx:l}}}),e=new ve({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[xe]},$$scope:{ctx:l}}}),{c(){E(t.$$.fragment),r=O(),E(s.$$.fragment),a=O(),E(e.$$.fragment)},l(n){T(t.$$.fragment,n),r=q(n),T(s.$$.fragment,n),a=q(n),T(e.$$.fragment,n)},m(n,u){V(t,n,u),w(n,r,u),V(s,n,u),w(n,a,u),V(e,n,u),i=!0},p(n,u){var j;const f={};u&2&&(f.title=n[1].name),u&32&&(f.iconUrl=F+"/"+((j=n[5])==null?void 0:j.href)),u&32834&&(f.$$scope={dirty:u,ctx:n}),t.$set(f);const d={};u&32782&&(d.$$scope={dirty:u,ctx:n}),s.$set(d);const p={};u&32779&&(p.$$scope={dirty:u,ctx:n}),e.$set(p)},i(n){i||(h(t.$$.fragment,n),h(s.$$.fragment,n),h(e.$$.fragment,n),i=!0)},o(n){b(t.$$.fragment,n),b(s.$$.fragment,n),b(e.$$.fragment,n),i=!1},d(n){C(t,n),n&&$(r),C(s,n),n&&$(a),C(e,n)}}}function tt(l){let t,r,s,a;return t=new Ge({props:{title:l[4].title,description:l[4].description,openGraph:{title:l[4].title,description:l[4].description,url:l[4].url,type:"website",images:[l[4].image]},twitter:{site:"@bcked_com",title:l[4].title,description:l[4].description,image:l[4].image.url,imageAlt:l[4].image.alt}}}),s=new qe({props:{class:"px-0",$$slots:{default:[et]},$$scope:{ctx:l}}}),{c(){E(t.$$.fragment),r=O(),E(s.$$.fragment)},l(e){T(t.$$.fragment,e),r=q(e),T(s.$$.fragment,e)},m(e,i){V(t,e,i),w(e,r,i),V(s,e,i),a=!0},p(e,[i]){const o={};i&16&&(o.title=e[4].title),i&16&&(o.description=e[4].description),i&16&&(o.openGraph={title:e[4].title,description:e[4].description,url:e[4].url,type:"website",images:[e[4].image]}),i&16&&(o.twitter={site:"@bcked_com",title:e[4].title,description:e[4].description,image:e[4].image.url,imageAlt:e[4].image.alt}),t.$set(o);const n={};i&32879&&(n.$$scope={dirty:i,ctx:e}),s.$set(n)},i(e){a||(h(t.$$.fragment,e),h(s.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),b(s.$$.fragment,e),a=!1},d(e){C(t,e),e&&$(r),C(s,e)}}}function st(l,t,r){let s,a,e,i,o,n,u,f,d,p,j,N;Pe(l,Ae,c=>r(12,N=c));let{data:k}=t;const K=c=>{var _,v,y,R,m,g,I,S,P,z,J,Q,W,te,se,ae,re,le,ie,ne,oe,fe,me,ue;return{name:{text:c.details.name,value:c.details.name,icon:`${F}/assets/${c.details.id}/icon.svg`},"name-path":{text:`${F}/assets/${c.details.id}`,value:`${F}/assets/${c.details.id}`},price:{text:(y=(v=(_=c.history)==null?void 0:_.at(-1))==null?void 0:v.price)!=null&&y.usd?G(((g=(m=(R=c.history)==null?void 0:R.at(-1))==null?void 0:m.price)==null?void 0:g.usd)??0):"UNK",value:(P=(S=(I=c.history)==null?void 0:I.at(-1))==null?void 0:S.price)==null?void 0:P.usd},supply:{text:(Q=(J=(z=c.history)==null?void 0:z.at(-1))==null?void 0:J.supply)!=null&&Q.total?Ke(((se=(te=(W=c.history)==null?void 0:W.at(-1))==null?void 0:te.supply)==null?void 0:se.total)??0):"UNK",value:(le=(re=(ae=c.history)==null?void 0:ae.at(-1))==null?void 0:re.supply)==null?void 0:le.total},mcap:{text:(ne=(ie=c.history)==null?void 0:ie.at(-1))!=null&&ne.mcap?G(((fe=(oe=c.history)==null?void 0:oe.at(-1))==null?void 0:fe.mcap)??0):"UNK",value:(ue=(me=c.history)==null?void 0:me.at(-1))==null?void 0:ue.mcap}}};return l.$$set=c=>{"data"in c&&r(0,k=c.data)},l.$$.update=()=>{var c;l.$$.dirty&1&&r(11,{chainsDetails:s,chainsIcons:a,assetsDetails:e,graphData:i}=k,s,(r(10,a),r(0,k)),(r(6,e),r(0,k)),(r(9,i),r(0,k))),l.$$.dirty&4096&&r(7,o=N.params.id),l.$$.dirty&2176&&r(1,n=s[o]),l.$$.dirty&1152&&r(5,u=a[o]),l.$$.dirty&640&&r(3,f=i.nodes.filter(_=>{var v;return((v=_.data.chain)==null?void 0:v.id)==o}).map(_=>_.data)),l.$$.dirty&8&&r(8,d=Be(Z.flatMap(f,_=>Z.map(_.history,"timestamp")),60*60*1e3).sort()),l.$$.dirty&264&&r(2,p=Z.map(d,_=>({date:_,value:Math.max(Z.sumBy(f,v=>{var y;return((y=Ue(v.history,_))==null?void 0:y.mcap)??0}),0)}))),l.$$.dirty&12&&(f.length,G(((c=p.at(-1))==null?void 0:c.value)??0)),l.$$.dirty&130&&r(4,j={title:`${n.name}'s assets`,description:`See all assets of ${n.name}. Learn more ...`,url:`${be}/issuers/${o}`,image:{url:`${be}/previews/issuers/${o}.jpg`,width:1200,height:630,alt:`Preview of ${n.name}'s detail view.`}})},[k,n,p,f,j,u,e,o,d,i,a,s,N,K]}class dt extends ye{constructor(t){super(),De(this,t,st,tt,Le,{data:0})}}export{dt as default};
