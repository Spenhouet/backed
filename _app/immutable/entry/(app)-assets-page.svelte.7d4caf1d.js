import{S,i as A,s as C,k as D,y as K,l as T,m as j,z as q,h as N,n as z,b as E,A as I,g as L,d as M,B as R}from"../chunks/index.6847575b.js";import{b as f}from"../chunks/paths.31d50263.js";import{T as V}from"../chunks/table.10d03a5b.js";import{f as p,a as U}from"../chunks/string-formatting.ca7775a2.js";import{n as F}from"../chunks/index.4679d6cd.js";function G(c){let l,s,r;return s=new V({props:{data:c[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden lg:table-cell"},{id:"backing-assets",title:"Backing Assets",class:"hidden sm:table-cell"},{id:"backing-ratio",title:"Backing Ratio",class:"hidden sm:table-cell"},{id:"backing-usd",title:"Backing in USD",class:""},{id:"mcap",title:"Market Cap",class:"hidden lg:table-cell"},{id:"backing-uniformity",title:"Backing Uniformity",class:"hidden lg:table-cell"}],rows:c[1].nodes.filter(c[4]).map(c[5]),sort:[{by:"mcap"},{by:"backing-usd"}],class:""}}),{c(){l=D("div"),K(s.$$.fragment),this.h()},l(n){l=T(n,"DIV",{class:!0});var a=j(l);q(s.$$.fragment,a),a.forEach(N),this.h()},h(){z(l,"class","w-full pt-8")},m(n,a){E(n,l,a),I(s,l,null),r=!0},p(n,[a]){const i={};a&1&&(i.data=n[0]),a&14&&(i.rows=n[1].nodes.filter(n[4]).map(n[5])),s.$set(i)},i(n){r||(L(s.$$.fragment,n),r=!0)},o(n){M(s.$$.fragment,n),r=!1},d(n){n&&N(l),R(s)}}}function H(c,l,s){let r,n,a,i,{data:d}=l,o;const w=({id:e,data:{details:u,issuer:t}})=>{var m,g;return((m=o.getLinks(e))==null?void 0:m.length)&&!((g=u==null?void 0:u.tags)!=null&&g.includes("lp"))},P=({id:e,data:{details:u,history:t}},m)=>{var g,b,k,_,v,$,B,x;return{rank:{text:m+1,value:m},name:{text:u.name,value:u.name,icon:`${f}/assets/${e}/icon.svg`},price:{text:(b=(g=t==null?void 0:t.at(-1))==null?void 0:g.price)!=null&&b.usd?p(((_=(k=t==null?void 0:t.at(-1))==null?void 0:k.price)==null?void 0:_.usd)??0):"UNK",value:($=(v=t==null?void 0:t.at(-1))==null?void 0:v.price)==null?void 0:$.usd},"backing-assets":{text:a[e].underlying.count,value:a[e].underlying.count},"backing-ratio":{text:U(a[e].underlying.ratio),value:a[e].underlying.ratio},"backing-usd":{text:a[e].underlying.usd?p(a[e].underlying.usd):"UNK",value:a[e].underlying.usd},mcap:{text:(B=t==null?void 0:t.at(-1))!=null&&B.mcap?p(t.at(-1).mcap):"UNK",value:(x=t==null?void 0:t.at(-1))==null?void 0:x.mcap},"backing-uniformity":{text:a[e].underlying.ratio>0?U(a[e].underlying.uniformity):"N/A",value:a[e].underlying.uniformity},"name-path":{text:`${f}/assets/${e}`,value:`${f}/assets/${e}`}}};return c.$$set=e=>{"data"in e&&s(0,d=e.data)},c.$$.update=()=>{c.$$.dirty&1&&s(3,{assetsPrice:r,assetsBacking:n,assetsStats:a,graphData:i}=d,a,(s(1,i),s(0,d))),c.$$.dirty&2&&s(2,o=F(i))},[d,i,o,a,w,P]}class Y extends S{constructor(l){super(),A(this,l,H,G,C,{data:0})}}export{Y as default};
