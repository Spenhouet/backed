import{S as G,i as L,s as M,y as S,a as T,k as h,z as U,c as z,l as E,m as O,h as b,n as V,A as C,b as D,g as K,d as I,B as R}from"../chunks/index.6847575b.js";import{b as k}from"../chunks/paths.6d7048d6.js";import{T as F}from"../chunks/table.64920bb9.js";import{P as j}from"../chunks/public.d1f81b30.js";import{f as _,a as q}from"../chunks/string-formatting.ca7775a2.js";import{n as H}from"../chunks/index.4679d6cd.js";import{S as J}from"../chunks/index.b15051cd.js";function Q(t){let l,r,c,m,a;return l=new J({props:{title:t[2].title,description:t[2].description,openGraph:{title:t[2].title,description:t[2].description,url:t[2].url,type:"website",images:[t[2].image]},twitter:{site:"@bcked_com",title:t[2].title,description:t[2].description,image:t[2].image.url,imageAlt:t[2].image.alt}}}),m=new F({props:{data:t[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden lg:table-cell"},{id:"backing-assets",title:"Backing Assets",class:"hidden sm:table-cell"},{id:"backing-ratio",title:"Backing Ratio",class:"hidden sm:table-cell"},{id:"backing-usd",title:"Backing in USD",class:""},{id:"mcap",title:"Market Cap",class:"hidden lg:table-cell"},{id:"backing-uniformity",title:"Backing Uniformity",class:"hidden lg:table-cell"}],rows:t[1],sort:[{by:"mcap"},{by:"backing-usd"}],class:""}}),{c(){S(l.$$.fragment),r=T(),c=h("div"),S(m.$$.fragment),this.h()},l(e){U(l.$$.fragment,e),r=z(e),c=E(e,"DIV",{class:!0});var i=O(c);U(m.$$.fragment,i),i.forEach(b),this.h()},h(){V(c,"class","w-full pt-8")},m(e,i){C(l,e,i),D(e,r,i),D(e,c,i),C(m,c,null),a=!0},p(e,[i]){const u={};i&4&&(u.title=e[2].title),i&4&&(u.description=e[2].description),i&4&&(u.openGraph={title:e[2].title,description:e[2].description,url:e[2].url,type:"website",images:[e[2].image]}),i&4&&(u.twitter={site:"@bcked_com",title:e[2].title,description:e[2].description,image:e[2].image.url,imageAlt:e[2].image.alt}),l.$set(u);const g={};i&1&&(g.data=e[0]),i&2&&(g.rows=e[1]),m.$set(g)},i(e){a||(K(l.$$.fragment,e),K(m.$$.fragment,e),a=!0)},o(e){I(l.$$.fragment,e),I(m.$$.fragment,e),a=!1},d(e){R(l,e),e&&b(r),e&&b(c),R(m)}}}function W(t,l,r){let c,m,a,e,i,u,{data:g}=l,f;return t.$$set=n=>{"data"in n&&r(0,g=n.data)},t.$$.update=()=>{t.$$.dirty&1&&r(4,{assetsPrice:c,assetsBacking:m,assetsStats:a,graphData:e}=g,a,(r(5,e),r(0,g))),t.$$.dirty&32&&r(3,f=H(e)),t.$$.dirty&56&&r(1,i=e.nodes.filter(({id:n,data:{details:o,issuer:s}})=>{var p,d;return((p=f.getLinks(n))==null?void 0:p.length)&&!((d=o==null?void 0:o.tags)!=null&&d.includes("lp"))}).map(({id:n,data:{details:o,history:s}},p)=>{var d,$,v,w,A,B,N,P;return{rank:{text:p+1,value:p},name:{text:o.name,value:o.name,icon:`${k}/assets/${n}/icon.svg`},price:{text:($=(d=s==null?void 0:s.at(-1))==null?void 0:d.price)!=null&&$.usd?_(((w=(v=s==null?void 0:s.at(-1))==null?void 0:v.price)==null?void 0:w.usd)??0):"UNK",value:(B=(A=s==null?void 0:s.at(-1))==null?void 0:A.price)==null?void 0:B.usd},"backing-assets":{text:a[n].underlying.count,value:a[n].underlying.count},"backing-ratio":{text:a[n].underlying.ratio?q(a[n].underlying.ratio):"UNK",value:a[n].underlying.ratio},"backing-usd":{text:a[n].underlying.usd?_(a[n].underlying.usd):"UNK",value:a[n].underlying.usd},mcap:{text:(N=s==null?void 0:s.at(-1))!=null&&N.mcap?_(s.at(-1).mcap):"UNK",value:(P=s==null?void 0:s.at(-1))==null?void 0:P.mcap},"backing-uniformity":{text:(a[n].underlying.ratio??0)>0?q(a[n].underlying.uniformity):"N/A",value:a[n].underlying.uniformity},"name-path":{text:`${k}/assets/${n}`,value:`${k}/assets/${n}`}}})),t.$$.dirty&2&&r(2,u={title:"bcked: Asset Ranking",description:`Ranking of ${i.length} unique assets based on their backing. See all ...`,url:`${j}/assets`,image:{url:`${j}/assets/preview.jpg`,width:1200,height:630,alt:"Preview of asset ranking."}})},[g,i,u,f,a,e]}class ae extends G{constructor(l){super(),L(this,l,W,Q,M,{data:0})}}export{ae as default};
