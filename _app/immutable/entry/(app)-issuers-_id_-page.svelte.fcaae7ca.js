import{S as Ve,i as Ee,s as Ne,y as N,a as j,z as I,c as H,A as S,b as D,g as _,d as y,B as C,h as u,a0 as Ie,e as ge,v as _e,f as he,k,q as R,l as V,m as E,r as W,n as U,H as g,u as de}from"../chunks/index.467a0851.js";import{b as Q}from"../chunks/paths.028ee9c5.js";import{p as Se}from"../chunks/stores.fead2aa4.js";import{u as ye,c as ve,M as Ce,I as Ae,a as $e,H as ce,F as De}from"../chunks/array.9b90dc3f.js";import{P as Pe}from"../chunks/page.42a793c3.js";import{T as ke}from"../chunks/table.7d0fcfed.js";import{P as be}from"../chunks/public.d1f81b30.js";import{f as O,b as we}from"../chunks/string-formatting.ca7775a2.js";import{E as Ue}from"../chunks/ExternalLink.63af8cd9.js";import{S as Me}from"../chunks/index.7ee114f9.js";import{l as J}from"../chunks/lodash.default.76769d5d.js";function je(l){let a=l[1].reference+"",i;return{c(){i=R(a)},l(s){i=W(s,a)},m(s,m){D(s,i,m)},p(s,m){m&2&&a!==(a=s[1].reference+"")&&de(i,a)},d(s){s&&u(i)}}}function He(l){let a,i;return a=new Ae({props:{href:l[1].reference,icon:Ue,$$slots:{default:[je]},$$scope:{ctx:l}}}),{c(){N(a.$$.fragment)},l(s){I(a.$$.fragment,s)},m(s,m){S(a,s,m),i=!0},p(s,m){const e={};m&2&&(e.href=s[1].reference),m&2097154&&(e.$$scope={dirty:m,ctx:s}),a.$set(e)},i(s){i||(_(a.$$.fragment,s),i=!0)},o(s){y(a.$$.fragment,s),i=!1},d(s){C(a,s)}}}function Le(l){let a,i,s,m;return a=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:l}}}),s=new $e({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){N(a.$$.fragment),i=j(),N(s.$$.fragment)},l(e){I(a.$$.fragment,e),i=H(e),I(s.$$.fragment,e)},m(e,r){S(a,e,r),D(e,i,r),S(s,e,r),m=!0},p(e,r){const f={};r&2097226&&(f.$$scope={dirty:r,ctx:e}),a.$set(f);const n={};r&2097163&&(n.$$scope={dirty:r,ctx:e}),s.$set(n)},i(e){m||(_(a.$$.fragment,e),_(s.$$.fragment,e),m=!0)},o(e){y(a.$$.fragment,e),y(s.$$.fragment,e),m=!1},d(e){C(a,e),e&&u(i),C(s,e)}}}function Be(l){var X;let a,i,s,m,e,r,f,n=l[3].length+"",d,b,c,h,q,w,P=O(((X=l[6].at(-1))==null?void 0:X.value)??0)+"",B,K,v,$,A;return a=new ce({props:{title:"TVL History",subtitle:"View "+l[1].name+"'s total value locked (TVL) history."}}),$=new De({props:{formatter:O,data:l[6].length?l[6]:[{date:new Date().toISOString(),value:0}]}}),{c(){N(a.$$.fragment),i=j(),s=k("div"),m=k("dl"),e=k("dt"),r=R("Current Number of Assets"),f=k("dd"),d=R(n),b=j(),c=k("dl"),h=k("dt"),q=R(`Current Total Value Locked (TVL)
					`),w=k("dd"),B=R(P),K=j(),v=k("div"),N($.$$.fragment),this.h()},l(t){I(a.$$.fragment,t),i=H(t),s=V(t,"DIV",{class:!0});var o=E(s);m=V(o,"DL",{});var p=E(m);e=V(p,"DT",{class:!0});var L=E(e);r=W(L,"Current Number of Assets"),L.forEach(u),f=V(p,"DD",{class:!0});var T=E(f);d=W(T,n),T.forEach(u),p.forEach(u),b=H(o),c=V(o,"DL",{class:!0});var M=E(c);h=V(M,"DT",{class:!0});var F=E(h);q=W(F,`Current Total Value Locked (TVL)
					`),F.forEach(u),w=V(M,"DD",{class:!0});var G=E(w);B=W(G,P),G.forEach(u),M.forEach(u),o.forEach(u),K=H(t),v=V(t,"DIV",{class:!0});var z=E(v);I($.$$.fragment,z),z.forEach(u),this.h()},h(){U(e,"class","text-sm font-medium text-gray-500 truncate"),U(f,"class","mt-1 text-3xl font-semibold text-gray-900"),U(h,"class","text-sm font-medium text-gray-500 truncate"),U(w,"class","mt-1 text-3xl font-semibold text-gray-900"),U(c,"class","text-right"),U(s,"class","flex items-center justify-between mt-5 sm:mt-6 px-4 sm:px-6"),U(v,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(t,o){S(a,t,o),D(t,i,o),D(t,s,o),g(s,m),g(m,e),g(e,r),g(m,f),g(f,d),g(s,b),g(s,c),g(c,h),g(h,q),g(c,w),g(w,B),D(t,K,o),D(t,v,o),S($,v,null),A=!0},p(t,o){var T;const p={};o&2&&(p.subtitle="View "+t[1].name+"'s total value locked (TVL) history."),a.$set(p),(!A||o&8)&&n!==(n=t[3].length+"")&&de(d,n),(!A||o&64)&&P!==(P=O(((T=t[6].at(-1))==null?void 0:T.value)??0)+"")&&de(B,P);const L={};o&64&&(L.data=t[6].length?t[6]:[{date:new Date().toISOString(),value:0}]),$.$set(L)},i(t){A||(_(a.$$.fragment,t),_($.$$.fragment,t),A=!0)},o(t){y(a.$$.fragment,t),y($.$$.fragment,t),A=!1},d(t){C(a,t),t&&u(i),t&&u(s),t&&u(K),t&&u(v),C($)}}}function Ke(l){let a,i,s,m;return a=new ce({props:{title:"Issued Assets",subtitle:"List of assets issued by "+l[1].name+"."}}),s=new ke({props:{data:l[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden sm:table-cell"},{id:"supply",title:"Supply",class:"hidden sm:table-cell"},{id:"mcap",title:"Market Cap",class:""}],rows:l[3].map(l[16]),sort:[{by:"mcap"}],class:"mt-5 sm:mt-6"}}),{c(){N(a.$$.fragment),i=j(),N(s.$$.fragment)},l(e){I(a.$$.fragment,e),i=H(e),I(s.$$.fragment,e)},m(e,r){S(a,e,r),D(e,i,r),S(s,e,r),m=!0},p(e,r){const f={};r&2&&(f.subtitle="List of assets issued by "+e[1].name+"."),a.$set(f);const n={};r&1&&(n.data=e[0]),r&8&&(n.rows=e[3].map(e[16])),s.$set(n)},i(e){m||(_(a.$$.fragment,e),_(s.$$.fragment,e),m=!0)},o(e){y(a.$$.fragment,e),y(s.$$.fragment,e),m=!1},d(e){C(a,e),e&&u(i),C(s,e)}}}function Te(l){let a,i,s,m;return a=new $e({props:{$$slots:{default:[Oe]},$$scope:{ctx:l}}}),s=new $e({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[qe]},$$scope:{ctx:l}}}),{c(){N(a.$$.fragment),i=j(),N(s.$$.fragment)},l(e){I(a.$$.fragment,e),i=H(e),I(s.$$.fragment,e)},m(e,r){S(a,e,r),D(e,i,r),S(s,e,r),m=!0},p(e,r){const f={};r&2097190&&(f.$$scope={dirty:r,ctx:e}),a.$set(f);const n={};r&2097159&&(n.$$scope={dirty:r,ctx:e}),s.$set(n)},i(e){m||(_(a.$$.fragment,e),_(s.$$.fragment,e),m=!0)},o(e){y(a.$$.fragment,e),y(s.$$.fragment,e),m=!1},d(e){C(a,e),e&&u(i),C(s,e)}}}function Oe(l){var X;let a,i,s,m,e,r,f,n=l[2].length+"",d,b,c,h,q,w,P=O(((X=l[5].at(-1))==null?void 0:X.value)??0)+"",B,K,v,$,A;return a=new ce({props:{title:"TVL History",subtitle:"View "+l[1].name+"'s total value locked (TVL) history."}}),$=new De({props:{formatter:O,data:l[5].length?l[5]:[{date:new Date().toISOString(),value:0}]}}),{c(){N(a.$$.fragment),i=j(),s=k("div"),m=k("dl"),e=k("dt"),r=R("Current Number of Assets"),f=k("dd"),d=R(n),b=j(),c=k("dl"),h=k("dt"),q=R(`Current Total Value Locked (TVL)
					`),w=k("dd"),B=R(P),K=j(),v=k("div"),N($.$$.fragment),this.h()},l(t){I(a.$$.fragment,t),i=H(t),s=V(t,"DIV",{class:!0});var o=E(s);m=V(o,"DL",{});var p=E(m);e=V(p,"DT",{class:!0});var L=E(e);r=W(L,"Current Number of Assets"),L.forEach(u),f=V(p,"DD",{class:!0});var T=E(f);d=W(T,n),T.forEach(u),p.forEach(u),b=H(o),c=V(o,"DL",{class:!0});var M=E(c);h=V(M,"DT",{class:!0});var F=E(h);q=W(F,`Current Total Value Locked (TVL)
					`),F.forEach(u),w=V(M,"DD",{class:!0});var G=E(w);B=W(G,P),G.forEach(u),M.forEach(u),o.forEach(u),K=H(t),v=V(t,"DIV",{class:!0});var z=E(v);I($.$$.fragment,z),z.forEach(u),this.h()},h(){U(e,"class","text-sm font-medium text-gray-500 truncate"),U(f,"class","mt-1 text-3xl font-semibold text-gray-900"),U(h,"class","text-sm font-medium text-gray-500 truncate"),U(w,"class","mt-1 text-3xl font-semibold text-gray-900"),U(c,"class","text-right"),U(s,"class","flex items-center justify-between mt-5 sm:mt-6 px-4 sm:px-6"),U(v,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(t,o){S(a,t,o),D(t,i,o),D(t,s,o),g(s,m),g(m,e),g(e,r),g(m,f),g(f,d),g(s,b),g(s,c),g(c,h),g(h,q),g(c,w),g(w,B),D(t,K,o),D(t,v,o),S($,v,null),A=!0},p(t,o){var T;const p={};o&2&&(p.subtitle="View "+t[1].name+"'s total value locked (TVL) history."),a.$set(p),(!A||o&4)&&n!==(n=t[2].length+"")&&de(d,n),(!A||o&32)&&P!==(P=O(((T=t[5].at(-1))==null?void 0:T.value)??0)+"")&&de(B,P);const L={};o&32&&(L.data=t[5].length?t[5]:[{date:new Date().toISOString(),value:0}]),$.$set(L)},i(t){A||(_(a.$$.fragment,t),_($.$$.fragment,t),A=!0)},o(t){y(a.$$.fragment,t),y($.$$.fragment,t),A=!1},d(t){C(a,t),t&&u(i),t&&u(s),t&&u(K),t&&u(v),C($)}}}function qe(l){let a,i,s,m;return a=new ce({props:{title:"Issued LP Tokens",subtitle:"List of LP tokens issued by "+l[1].name+"."}}),s=new ke({props:{data:l[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden sm:table-cell"},{id:"supply",title:"Supply",class:"hidden sm:table-cell"},{id:"mcap",title:"Market Cap",class:""}],rows:l[2].map(l[17]),sort:[{by:"mcap"}],class:"mt-5 sm:mt-6"}}),{c(){N(a.$$.fragment),i=j(),N(s.$$.fragment)},l(e){I(a.$$.fragment,e),i=H(e),I(s.$$.fragment,e)},m(e,r){S(a,e,r),D(e,i,r),S(s,e,r),m=!0},p(e,r){const f={};r&2&&(f.subtitle="List of LP tokens issued by "+e[1].name+"."),a.$set(f);const n={};r&1&&(n.data=e[0]),r&4&&(n.rows=e[2].map(e[17])),s.$set(n)},i(e){m||(_(a.$$.fragment,e),_(s.$$.fragment,e),m=!0)},o(e){y(a.$$.fragment,e),y(s.$$.fragment,e),m=!1},d(e){C(a,e),e&&u(i),C(s,e)}}}function Fe(l){let a,i,s,m,e;a=new Ce({props:{title:l[1].name,iconUrl:l[7]?`${Q}/${l[7].href}`:`${Q}/default-icon.png`,$$slots:{default:[He]},$$scope:{ctx:l}}});let r=l[3].length&&Le(l),f=l[2].length&&Te(l);return{c(){N(a.$$.fragment),i=j(),r&&r.c(),s=j(),f&&f.c(),m=ge()},l(n){I(a.$$.fragment,n),i=H(n),r&&r.l(n),s=H(n),f&&f.l(n),m=ge()},m(n,d){S(a,n,d),D(n,i,d),r&&r.m(n,d),D(n,s,d),f&&f.m(n,d),D(n,m,d),e=!0},p(n,d){const b={};d&2&&(b.title=n[1].name),d&128&&(b.iconUrl=n[7]?`${Q}/${n[7].href}`:`${Q}/default-icon.png`),d&2097154&&(b.$$scope={dirty:d,ctx:n}),a.$set(b),n[3].length?r?(r.p(n,d),d&8&&_(r,1)):(r=Le(n),r.c(),_(r,1),r.m(s.parentNode,s)):r&&(_e(),y(r,1,1,()=>{r=null}),he()),n[2].length?f?(f.p(n,d),d&4&&_(f,1)):(f=Te(n),f.c(),_(f,1),f.m(m.parentNode,m)):f&&(_e(),y(f,1,1,()=>{f=null}),he())},i(n){e||(_(a.$$.fragment,n),_(r),_(f),e=!0)},o(n){y(a.$$.fragment,n),y(r),y(f),e=!1},d(n){C(a,n),n&&u(i),r&&r.d(n),n&&u(s),f&&f.d(n),n&&u(m)}}}function Ge(l){let a,i,s,m;return a=new Me({props:{title:l[4].title,description:l[4].description,openGraph:{title:l[4].title,description:l[4].description,url:l[4].url,type:"website",images:[l[4].image]},twitter:{site:"@bcked_com",title:l[4].title,description:l[4].description,image:l[4].image.url,imageAlt:l[4].image.alt}}}),s=new Pe({props:{class:"px-0",$$slots:{default:[Fe]},$$scope:{ctx:l}}}),{c(){N(a.$$.fragment),i=j(),N(s.$$.fragment)},l(e){I(a.$$.fragment,e),i=H(e),I(s.$$.fragment,e)},m(e,r){S(a,e,r),D(e,i,r),S(s,e,r),m=!0},p(e,[r]){const f={};r&16&&(f.title=e[4].title),r&16&&(f.description=e[4].description),r&16&&(f.openGraph={title:e[4].title,description:e[4].description,url:e[4].url,type:"website",images:[e[4].image]}),r&16&&(f.twitter={site:"@bcked_com",title:e[4].title,description:e[4].description,image:e[4].image.url,imageAlt:e[4].image.alt}),a.$set(f);const n={};r&2097391&&(n.$$scope={dirty:r,ctx:e}),s.$set(n)},i(e){m||(_(a.$$.fragment,e),_(s.$$.fragment,e),m=!0)},o(e){y(a.$$.fragment,e),y(s.$$.fragment,e),m=!1},d(e){C(a,e),e&&u(i),C(s,e)}}}function ze(l,a,i){let s,m,e,r,f,n,d,b,c,h,q,w,P,B,K,v;Ie(l,Se,t=>i(15,v=t));let{data:$}=a;const A=t=>{var o,p,L,T,M,F,G,z,Y,Z,x,ee,te,se,ae,re,le,ie,ne,me,fe,oe,ue,pe;return{name:{text:t.details.name,value:t.details.name,icon:`${Q}/assets/${t.details.id}/icon.svg`},"name-path":{text:`${Q}/assets/${t.details.id}`,value:`${Q}/assets/${t.details.id}`},price:{text:(L=(p=(o=t.history)==null?void 0:o.at(-1))==null?void 0:p.price)!=null&&L.usd?O(((F=(M=(T=t.history)==null?void 0:T.at(-1))==null?void 0:M.price)==null?void 0:F.usd)??0):"UNK",value:(Y=(z=(G=t.history)==null?void 0:G.at(-1))==null?void 0:z.price)==null?void 0:Y.usd},supply:{text:(ee=(x=(Z=t.history)==null?void 0:Z.at(-1))==null?void 0:x.supply)!=null&&ee.total?we(((ae=(se=(te=t.history)==null?void 0:te.at(-1))==null?void 0:se.supply)==null?void 0:ae.total)??0):"UNK",value:(ie=(le=(re=t.history)==null?void 0:re.at(-1))==null?void 0:le.supply)==null?void 0:ie.total},mcap:{text:(me=(ne=t.history)==null?void 0:ne.at(-1))!=null&&me.mcap?O(((oe=(fe=t.history)==null?void 0:fe.at(-1))==null?void 0:oe.mcap)??0):"UNK",value:(pe=(ue=t.history)==null?void 0:ue.at(-1))==null?void 0:pe.mcap}}},X=t=>{var o,p,L,T,M,F,G,z,Y,Z,x,ee,te,se,ae,re,le,ie,ne,me,fe,oe,ue,pe;return{name:{text:t.details.name,value:t.details.name,icon:`${Q}/assets/${t.details.id}/icon.svg`},"name-path":{text:`${Q}/assets/${t.details.id}`,value:`${Q}/assets/${t.details.id}`},price:{text:(L=(p=(o=t.history)==null?void 0:o.at(-1))==null?void 0:p.price)!=null&&L.usd?O(((F=(M=(T=t.history)==null?void 0:T.at(-1))==null?void 0:M.price)==null?void 0:F.usd)??0):"UNK",value:(Y=(z=(G=t.history)==null?void 0:G.at(-1))==null?void 0:z.price)==null?void 0:Y.usd},supply:{text:(ee=(x=(Z=t.history)==null?void 0:Z.at(-1))==null?void 0:x.supply)!=null&&ee.total?we(((ae=(se=(te=t.history)==null?void 0:te.at(-1))==null?void 0:se.supply)==null?void 0:ae.total)??0):"UNK",value:(ie=(le=(re=t.history)==null?void 0:re.at(-1))==null?void 0:le.supply)==null?void 0:ie.total},mcap:{text:(me=(ne=t.history)==null?void 0:ne.at(-1))!=null&&me.mcap?O(((oe=(fe=t.history)==null?void 0:fe.at(-1))==null?void 0:oe.mcap)??0):"UNK",value:(pe=(ue=t.history)==null?void 0:ue.at(-1))==null?void 0:pe.mcap}}};return l.$$set=t=>{"data"in t&&i(0,$=t.data)},l.$$.update=()=>{l.$$.dirty&1&&i(14,{issuersDetails:s,issuersIcons:m,assetsDetails:e,graphData:r}=$,s,(i(13,m),i(0,$)),(i(12,r),i(0,$))),l.$$.dirty&32768&&i(8,f=v.params.id),l.$$.dirty&16640&&i(1,n=s[f]),l.$$.dirty&8448&&i(7,d=m[f]),l.$$.dirty&4352&&i(11,b=r.nodes.filter(t=>t.data.details.issuer==f).map(t=>t.data)),l.$$.dirty&2048&&i(3,c=b.filter(t=>!t.details.tags.includes("lp"))),l.$$.dirty&2048&&i(2,h=b.filter(t=>t.details.tags.includes("lp"))),l.$$.dirty&8&&i(10,q=ye(J.flatMap(c,t=>J.map(t.history,"timestamp")),60*60*1e3).sort()),l.$$.dirty&4&&i(9,w=ye(J.flatMap(h,t=>J.map(t.history,"timestamp")),60*60*1e3).sort()),l.$$.dirty&1032&&i(6,P=J.map(q,t=>({date:t,value:J.sumBy(c,o=>{var p;return((p=ve(o.history,t))==null?void 0:p.mcap)??0})}))),l.$$.dirty&516&&i(5,B=J.map(w,t=>({date:t,value:J.sumBy(h,o=>{var p;return((p=ve(o.history,t))==null?void 0:p.mcap)??0})}))),l.$$.dirty&8&&(c.length,O(J.sumBy(c,t=>{var o,p;return((p=(o=t.history)==null?void 0:o.at(-1))==null?void 0:p.mcap)??0}))),l.$$.dirty&4&&(h.length,O(J.sumBy(h,t=>{var o,p;return((p=(o=t.history)==null?void 0:o.at(-1))==null?void 0:p.mcap)??0}))),l.$$.dirty&258&&i(4,K={title:`${n.name}'s assets`,description:`See all assets of ${n.name}. Learn more ...`,url:`${be}/issuers/${f}`,image:{url:`${be}/previews/issuers/${f}.jpg`,width:1200,height:630,alt:`Preview of ${n.name}'s detail view.`}})},[$,n,h,c,K,B,P,d,f,w,q,b,r,m,s,v,A,X]}class at extends Ve{constructor(a){super(),Ee(this,a,ze,Ge,Ne,{data:0})}}export{at as default};
