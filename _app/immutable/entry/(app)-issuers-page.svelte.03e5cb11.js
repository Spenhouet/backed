import{S as P,i as T,s as B,y as b,a as D,k as L,z as k,c as V,l as j,m as C,h as c,n as O,A as w,b as $,g as A,d as y,B as I}from"../chunks/index.6847575b.js";import{b as g}from"../chunks/paths.443631a3.js";import{T as G}from"../chunks/table.5c22ed51.js";import{P as S}from"../chunks/public.d1f81b30.js";import{c as N,f as R}from"../chunks/string-formatting.ca7775a2.js";import{n as q}from"../chunks/index.4679d6cd.js";import{S as z}from"../chunks/index.b15051cd.js";import{l as E}from"../chunks/lodash.default.76769d5d.js";function M(t){let r,i,o,l,d;return r=new z({props:{title:t[2].title,description:t[2].description,openGraph:{title:t[2].title,description:t[2].description,url:t[2].url,type:"website",images:[t[2].image]},twitter:{site:"@bcked_com",title:t[2].title,description:t[2].description,image:t[2].image.url,imageAlt:t[2].image.alt}}}),l=new G({props:{data:t[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"numAssets",title:"Assets",class:"hidden sm:table-cell"},{id:"tvl",title:"Total Value Locked (TVL)",class:""}],rows:t[1],sort:[{by:"tvl"}],class:""}}),{c(){b(r.$$.fragment),i=D(),o=L("div"),b(l.$$.fragment),this.h()},l(e){k(r.$$.fragment,e),i=V(e),o=j(e,"DIV",{class:!0});var a=C(o);k(l.$$.fragment,a),a.forEach(c),this.h()},h(){O(o,"class","w-full pt-8")},m(e,a){w(r,e,a),$(e,i,a),$(e,o,a),w(l,o,null),d=!0},p(e,[a]){const n={};a&4&&(n.title=e[2].title),a&4&&(n.description=e[2].description),a&4&&(n.openGraph={title:e[2].title,description:e[2].description,url:e[2].url,type:"website",images:[e[2].image]}),a&4&&(n.twitter={site:"@bcked_com",title:e[2].title,description:e[2].description,image:e[2].image.url,imageAlt:e[2].image.alt}),r.$set(n);const p={};a&1&&(p.data=e[0]),a&2&&(p.rows=e[1]),l.$set(p)},i(e){d||(A(r.$$.fragment,e),A(l.$$.fragment,e),d=!0)},o(e){y(r.$$.fragment,e),y(l.$$.fragment,e),d=!1},d(e){I(r,e),e&&c(i),e&&c(o),I(l)}}}function U(t,r,i){let o,l,d,e,a,n,p,h,{data:f}=r;return t.$$set=s=>{"data"in s&&i(0,f=s.data)},t.$$.update=()=>{t.$$.dirty&1&&i(4,{assetsPrice:o,assetsBacking:l,assetsStats:d,graphData:e,issuersDetails:a,issuersIcons:n}=f,e,(i(5,a),i(0,f)),(i(3,n),i(0,f))),t.$$.dirty&16&&q(e),t.$$.dirty&56&&i(1,p=Object.values(a).map(s=>{const u=e.nodes.filter(m=>m.data.details.issuer==s.id).filter(m=>!m.data.details.tags.includes("lp"));return{...s,numAssets:u.length,tvl:E.sumBy(u,m=>{var _,v;return((v=(_=m.data.history)==null?void 0:_.at(-1))==null?void 0:v.mcap)??0})}}).filter(s=>s.tvl).sort((s,u)=>N(s.tvl,u.tvl)).map((s,u)=>{var m;return{rank:{text:u+1,value:u},name:{text:s.name,value:s.name,icon:`${g}/${(m=n[s.id])==null?void 0:m.href}`},"name-path":{text:`${g}/issuers/${s.id}`,value:`${g}/issuers/${s.id}`},numAssets:{text:s.numAssets,value:s.numAssets},tvl:{text:R(s.tvl),value:s.tvl}}})),t.$$.dirty&2&&i(2,h={title:"bcked: Issuers Ranking",description:`Ranking of ${p.length} issuers based on total value locked (TVL). See all ...`,url:`${S}/issuers`,image:{url:`${S}/issuers/preview.jpg`,width:1200,height:630,alt:"Preview of issuers ranking."}})},[f,p,h,n,e,a]}class Z extends P{constructor(r){super(),T(this,r,U,M,B,{data:0})}}export{Z as default};
