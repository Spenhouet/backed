import{S as Z,i as y,s as x,y as O,a as ee,k as ae,z as V,c as te,l as ie,m as ne,h as p,n as se,A as F,b as H,g as J,d as Q,B as W}from"../chunks/index.e8ba378b.js";import{b as f}from"../chunks/paths.0d97b3bc.js";import{T as le,n as re}from"../chunks/index.a81de394.js";import{P as X}from"../chunks/public.d1f81b30.js";import{f as b,a as Y}from"../chunks/string-formatting.ca7775a2.js";import{S as me}from"../chunks/index.36ed8b92.js";function ue(t){let n,s,m,l,r;return n=new me({props:{title:t[2].title,description:t[2].description,openGraph:{title:t[2].title,description:t[2].description,url:t[2].url,type:"website",images:[t[2].image]},twitter:{site:"@bcked_com",title:t[2].title,description:t[2].description,image:t[2].image.url,imageAlt:t[2].image.alt}}}),l=new le({props:{data:t[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden lg:table-cell"},{id:"backing-assets",title:"Backing Assets",class:"hidden sm:table-cell"},{id:"backing-ratio",title:"Backing Ratio",class:"hidden sm:table-cell"},{id:"backing-usd",title:"Backing in USD",class:""},{id:"mcap",title:"Market Cap",class:"hidden lg:table-cell"},{id:"backing-uniformity",title:"Backing Uniformity",class:"hidden lg:table-cell"}],rows:t[1],sort:[{by:"mcap"},{by:"backing-usd"}],class:""}}),{c(){O(n.$$.fragment),s=ee(),m=ae("div"),O(l.$$.fragment),this.h()},l(e){V(n.$$.fragment,e),s=te(e),m=ie(e,"DIV",{class:!0});var i=ne(m);V(l.$$.fragment,i),i.forEach(p),this.h()},h(){se(m,"class","w-full pt-8")},m(e,i){F(n,e,i),H(e,s,i),H(e,m,i),F(l,m,null),r=!0},p(e,[i]){const u={};i&4&&(u.title=e[2].title),i&4&&(u.description=e[2].description),i&4&&(u.openGraph={title:e[2].title,description:e[2].description,url:e[2].url,type:"website",images:[e[2].image]}),i&4&&(u.twitter={site:"@bcked_com",title:e[2].title,description:e[2].description,image:e[2].image.url,imageAlt:e[2].image.alt}),n.$set(u);const g={};i&1&&(g.data=e[0]),i&2&&(g.rows=e[1]),l.$set(g)},i(e){r||(J(n.$$.fragment,e),J(l.$$.fragment,e),r=!0)},o(e){Q(n.$$.fragment,e),Q(l.$$.fragment,e),r=!1},d(e){W(n,e),e&&p(s),e&&p(m),W(l)}}}function ce(t,n,s){let m,l,r,e,i,{data:u}=n,g;return t.$$set=c=>{"data"in c&&s(0,u=c.data)},t.$$.update=()=>{t.$$.dirty&1&&s(4,{assetsPrice:m,assetsBacking:l,graphData:r}=u,r),t.$$.dirty&16&&s(3,g=re(r)),t.$$.dirty&24&&s(1,e=r.nodes.filter(({id:c,data:{details:d}})=>{var a,o;return((a=g.getLinks(c))==null?void 0:a.length)&&!((o=d==null?void 0:d.tags)!=null&&o.includes("lp"))}).map(({id:c,data:{details:d,history:a}},o)=>{var k,v,_,$,w,N,S,U,A,B,P,K,C,D,I,R,j,q,G,L,M,T,h,z,E;return{rank:{text:(o+1).toString(),value:o},name:{text:d.name,value:d.name,icon:`${f}/assets/${c}/icon.svg`},price:{text:(v=(k=a==null?void 0:a.at(-1))==null?void 0:k.price)!=null&&v.usd?b(a.at(-1).price.usd):"UNK",value:($=(_=a==null?void 0:a.at(-1))==null?void 0:_.price)==null?void 0:$.usd},"backing-assets":{text:(N=(w=a.at(-1))==null?void 0:w.underlying)!=null&&N.count?a.at(-1).underlying.count.toString():"UNK",value:(U=(S=a.at(-1))==null?void 0:S.underlying)==null?void 0:U.count},"backing-ratio":{text:(B=(A=a.at(-1))==null?void 0:A.underlying)!=null&&B.ratio?Y(a.at(-1).underlying.ratio.value):"UNK",value:(C=(K=(P=a.at(-1))==null?void 0:P.underlying)==null?void 0:K.ratio)==null?void 0:C.value},"backing-usd":{text:(I=(D=a.at(-1))==null?void 0:D.underlying)!=null&&I.usd?b(a.at(-1).underlying.usd):"UNK",value:(j=(R=a.at(-1))==null?void 0:R.underlying)==null?void 0:j.usd},mcap:{text:(q=a.at(-1))!=null&&q.mcap?b(a.at(-1).mcap.value):"UNK",value:(L=(G=a.at(-1))==null?void 0:G.mcap)==null?void 0:L.value},"backing-uniformity":{text:(((h=(T=(M=a.at(-1))==null?void 0:M.underlying)==null?void 0:T.ratio)==null?void 0:h.value)??0)>0?Y(a.at(-1).underlying.uniformity):"N/A",value:(E=(z=a.at(-1))==null?void 0:z.underlying)==null?void 0:E.uniformity},"name-path":{text:`${f}/assets/${c}`,value:`${f}/assets/${c}`}}})),t.$$.dirty&2&&s(2,i={title:"bcked: Asset Ranking",description:`Ranking of ${e.length} unique assets based on their backing. See all ...`,url:`${X}/assets`,image:{url:`${X}/assets/preview.jpg`,width:1200,height:630,alt:"Preview of asset ranking."}})},[u,e,i,g,r]}class ke extends Z{constructor(n){super(),y(this,n,ce,ue,x,{data:0})}}export{ke as default};
