import{S as ke,i as Le,s as Te,y as c,a as L,z as d,c as T,A as g,b,g as u,d as p,B as _,h as y,a1 as Ie,e as le,v as ne,f as me,k as de,l as ge,m as _e,n as he,q as Pe,r as Se,u as Ne}from"../chunks/index.6847575b.js";import{b as w}from"../chunks/paths.ad435f3d.js";import{p as De}from"../chunks/stores.36f4235c.js";import{u as fe,c as oe,M as Ue,I as Ve,a as Z,H as x,F as ye}from"../chunks/array.ee3f7a41.js";import{P as qe}from"../chunks/page.2972ba9c.js";import{T as be}from"../chunks/table.bce0a046.js";import{P as ue}from"../chunks/public.d1f81b30.js";import{f as I,b as pe}from"../chunks/string-formatting.ca7775a2.js";import{E as Ae}from"../chunks/ExternalLink.6f14238f.js";import{S as Me}from"../chunks/index.b15051cd.js";import{l as v}from"../chunks/lodash.default.76769d5d.js";function Be(i){let a=i[1].reference+"",r;return{c(){r=Pe(a)},l(s){r=Se(s,a)},m(s,n){b(s,r,n)},p(s,n){n&2&&a!==(a=s[1].reference+"")&&Ne(r,a)},d(s){s&&y(r)}}}function He(i){let a,r;return a=new Ve({props:{href:i[1].reference,icon:Ae,$$slots:{default:[Be]},$$scope:{ctx:i}}}),{c(){c(a.$$.fragment)},l(s){d(a.$$.fragment,s)},m(s,n){g(a,s,n),r=!0},p(s,n){const e={};n&2&&(e.href=s[1].reference),n&2097154&&(e.$$scope={dirty:n,ctx:s}),a.$set(e)},i(s){r||(u(a.$$.fragment,s),r=!0)},o(s){p(a.$$.fragment,s),r=!1},d(s){_(a,s)}}}function $e(i){let a,r,s,n;return a=new Z({props:{$$slots:{default:[Ke]},$$scope:{ctx:i}}}),s=new Z({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[Oe]},$$scope:{ctx:i}}}),{c(){c(a.$$.fragment),r=L(),c(s.$$.fragment)},l(e){d(a.$$.fragment,e),r=T(e),d(s.$$.fragment,e)},m(e,t){g(a,e,t),b(e,r,t),g(s,e,t),n=!0},p(e,t){const l={};t&2097218&&(l.$$scope={dirty:t,ctx:e}),a.$set(l);const m={};t&2097163&&(m.$$scope={dirty:t,ctx:e}),s.$set(m)},i(e){n||(u(a.$$.fragment,e),u(s.$$.fragment,e),n=!0)},o(e){p(a.$$.fragment,e),p(s.$$.fragment,e),n=!1},d(e){_(a,e),e&&y(r),_(s,e)}}}function Ke(i){let a,r,s,n,e;return a=new x({props:{title:"TVL History",subtitle:"The history of total value locked (TVL) in "+i[1].name+"."}}),n=new ye({props:{formatter:I,data:i[6].length?i[6]:[{date:new Date().toISOString(),value:0}]}}),{c(){c(a.$$.fragment),r=L(),s=de("div"),c(n.$$.fragment),this.h()},l(t){d(a.$$.fragment,t),r=T(t),s=ge(t,"DIV",{class:!0});var l=_e(s);d(n.$$.fragment,l),l.forEach(y),this.h()},h(){he(s,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(t,l){g(a,t,l),b(t,r,l),b(t,s,l),g(n,s,null),e=!0},p(t,l){const m={};l&2&&(m.subtitle="The history of total value locked (TVL) in "+t[1].name+"."),a.$set(m);const o={};l&64&&(o.data=t[6].length?t[6]:[{date:new Date().toISOString(),value:0}]),n.$set(o)},i(t){e||(u(a.$$.fragment,t),u(n.$$.fragment,t),e=!0)},o(t){p(a.$$.fragment,t),p(n.$$.fragment,t),e=!1},d(t){_(a,t),t&&y(r),t&&y(s),_(n)}}}function Oe(i){let a,r,s,n;return a=new x({props:{title:"Issued Assets",subtitle:"List of assets issued by "+i[1].name+"."}}),s=new be({props:{data:i[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden sm:table-cell"},{id:"supply",title:"Supply",class:"hidden sm:table-cell"},{id:"mcap",title:"Market Cap",class:""}],rows:i[3].map(i[16]),sort:[{by:"mcap"}],class:"mt-5 sm:mt-6"}}),{c(){c(a.$$.fragment),r=L(),c(s.$$.fragment)},l(e){d(a.$$.fragment,e),r=T(e),d(s.$$.fragment,e)},m(e,t){g(a,e,t),b(e,r,t),g(s,e,t),n=!0},p(e,t){const l={};t&2&&(l.subtitle="List of assets issued by "+e[1].name+"."),a.$set(l);const m={};t&1&&(m.data=e[0]),t&8&&(m.rows=e[3].map(e[16])),s.$set(m)},i(e){n||(u(a.$$.fragment,e),u(s.$$.fragment,e),n=!0)},o(e){p(a.$$.fragment,e),p(s.$$.fragment,e),n=!1},d(e){_(a,e),e&&y(r),_(s,e)}}}function ce(i){let a,r,s,n;return a=new Z({props:{$$slots:{default:[je]},$$scope:{ctx:i}}}),s=new Z({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[Ce]},$$scope:{ctx:i}}}),{c(){c(a.$$.fragment),r=L(),c(s.$$.fragment)},l(e){d(a.$$.fragment,e),r=T(e),d(s.$$.fragment,e)},m(e,t){g(a,e,t),b(e,r,t),g(s,e,t),n=!0},p(e,t){const l={};t&2097186&&(l.$$scope={dirty:t,ctx:e}),a.$set(l);const m={};t&2097159&&(m.$$scope={dirty:t,ctx:e}),s.$set(m)},i(e){n||(u(a.$$.fragment,e),u(s.$$.fragment,e),n=!0)},o(e){p(a.$$.fragment,e),p(s.$$.fragment,e),n=!1},d(e){_(a,e),e&&y(r),_(s,e)}}}function je(i){let a,r,s,n,e;return a=new x({props:{title:"LP History",subtitle:"The history of "+i[1].name+"'s liquidity provided by liquidity providers (LPs)."}}),n=new ye({props:{formatter:I,data:i[5].length?i[5]:[{date:new Date().toISOString(),value:0}]}}),{c(){c(a.$$.fragment),r=L(),s=de("div"),c(n.$$.fragment),this.h()},l(t){d(a.$$.fragment,t),r=T(t),s=ge(t,"DIV",{class:!0});var l=_e(s);d(n.$$.fragment,l),l.forEach(y),this.h()},h(){he(s,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(t,l){g(a,t,l),b(t,r,l),b(t,s,l),g(n,s,null),e=!0},p(t,l){const m={};l&2&&(m.subtitle="The history of "+t[1].name+"'s liquidity provided by liquidity providers (LPs)."),a.$set(m);const o={};l&32&&(o.data=t[5].length?t[5]:[{date:new Date().toISOString(),value:0}]),n.$set(o)},i(t){e||(u(a.$$.fragment,t),u(n.$$.fragment,t),e=!0)},o(t){p(a.$$.fragment,t),p(n.$$.fragment,t),e=!1},d(t){_(a,t),t&&y(r),t&&y(s),_(n)}}}function Ce(i){let a,r,s,n;return a=new x({props:{title:"Issued LP Tokens",subtitle:"List of LP tokens issued by "+i[1].name+"."}}),s=new be({props:{data:i[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"price",title:"Price",class:"hidden sm:table-cell"},{id:"supply",title:"Supply",class:"hidden sm:table-cell"},{id:"mcap",title:"Market Cap",class:""}],rows:i[2].map(i[17]),sort:[{by:"mcap"}],class:"mt-5 sm:mt-6"}}),{c(){c(a.$$.fragment),r=L(),c(s.$$.fragment)},l(e){d(a.$$.fragment,e),r=T(e),d(s.$$.fragment,e)},m(e,t){g(a,e,t),b(e,r,t),g(s,e,t),n=!0},p(e,t){const l={};t&2&&(l.subtitle="List of LP tokens issued by "+e[1].name+"."),a.$set(l);const m={};t&1&&(m.data=e[0]),t&4&&(m.rows=e[2].map(e[17])),s.$set(m)},i(e){n||(u(a.$$.fragment,e),u(s.$$.fragment,e),n=!0)},o(e){p(a.$$.fragment,e),p(s.$$.fragment,e),n=!1},d(e){_(a,e),e&&y(r),_(s,e)}}}function Ee(i){let a,r,s,n,e;a=new Ue({props:{title:i[1].name,iconUrl:i[7]?`${w}/${i[7].href}`:`${w}/default-icon.png`,$$slots:{default:[He]},$$scope:{ctx:i}}});let t=i[3].length&&$e(i),l=i[2].length&&ce(i);return{c(){c(a.$$.fragment),r=L(),t&&t.c(),s=L(),l&&l.c(),n=le()},l(m){d(a.$$.fragment,m),r=T(m),t&&t.l(m),s=T(m),l&&l.l(m),n=le()},m(m,o){g(a,m,o),b(m,r,o),t&&t.m(m,o),b(m,s,o),l&&l.m(m,o),b(m,n,o),e=!0},p(m,o){const k={};o&2&&(k.title=m[1].name),o&128&&(k.iconUrl=m[7]?`${w}/${m[7].href}`:`${w}/default-icon.png`),o&2097154&&(k.$$scope={dirty:o,ctx:m}),a.$set(k),m[3].length?t?(t.p(m,o),o&8&&u(t,1)):(t=$e(m),t.c(),u(t,1),t.m(s.parentNode,s)):t&&(ne(),p(t,1,1,()=>{t=null}),me()),m[2].length?l?(l.p(m,o),o&4&&u(l,1)):(l=ce(m),l.c(),u(l,1),l.m(n.parentNode,n)):l&&(ne(),p(l,1,1,()=>{l=null}),me())},i(m){e||(u(a.$$.fragment,m),u(t),u(l),e=!0)},o(m){p(a.$$.fragment,m),p(t),p(l),e=!1},d(m){_(a,m),m&&y(r),t&&t.d(m),m&&y(s),l&&l.d(m),m&&y(n)}}}function Fe(i){let a,r,s,n;return a=new Me({props:{title:i[4].title,description:i[4].description,openGraph:{title:i[4].title,description:i[4].description,url:i[4].url,type:"website",images:[i[4].image]},twitter:{site:"@bcked_com",title:i[4].title,description:i[4].description,image:i[4].image.url,imageAlt:i[4].image.alt}}}),s=new qe({props:{class:"px-0",$$slots:{default:[Ee]},$$scope:{ctx:i}}}),{c(){c(a.$$.fragment),r=L(),c(s.$$.fragment)},l(e){d(a.$$.fragment,e),r=T(e),d(s.$$.fragment,e)},m(e,t){g(a,e,t),b(e,r,t),g(s,e,t),n=!0},p(e,[t]){const l={};t&16&&(l.title=e[4].title),t&16&&(l.description=e[4].description),t&16&&(l.openGraph={title:e[4].title,description:e[4].description,url:e[4].url,type:"website",images:[e[4].image]}),t&16&&(l.twitter={site:"@bcked_com",title:e[4].title,description:e[4].description,image:e[4].image.url,imageAlt:e[4].image.alt}),a.$set(l);const m={};t&2097391&&(m.$$scope={dirty:t,ctx:e}),s.$set(m)},i(e){n||(u(a.$$.fragment,e),u(s.$$.fragment,e),n=!0)},o(e){p(a.$$.fragment,e),p(s.$$.fragment,e),n=!1},d(e){_(a,e),e&&y(r),_(s,e)}}}function Ge(i,a,r){let s,n,e,t,l,m,o,k,P,S,ee,te,ae,re,ie,se;Ie(i,De,f=>r(15,se=f));let{data:N}=a;const ve=f=>{var h,$,D,U,V,q,A,M,B,H,K,O,j,C,E,F,G,z,J,Q,R,W,X,Y;return{name:{text:f.details.name,value:f.details.name,icon:`${w}/assets/${f.details.id}/icon.svg`},"name-path":{text:`${w}/assets/${f.details.id}`,value:`${w}/assets/${f.details.id}`},price:{text:(D=($=(h=f.history)==null?void 0:h.at(-1))==null?void 0:$.price)!=null&&D.usd?I(((q=(V=(U=f.history)==null?void 0:U.at(-1))==null?void 0:V.price)==null?void 0:q.usd)??0):"UNK",value:(B=(M=(A=f.history)==null?void 0:A.at(-1))==null?void 0:M.price)==null?void 0:B.usd},supply:{text:(O=(K=(H=f.history)==null?void 0:H.at(-1))==null?void 0:K.supply)!=null&&O.total?pe(((E=(C=(j=f.history)==null?void 0:j.at(-1))==null?void 0:C.supply)==null?void 0:E.total)??0):"UNK",value:(z=(G=(F=f.history)==null?void 0:F.at(-1))==null?void 0:G.supply)==null?void 0:z.total},mcap:{text:(Q=(J=f.history)==null?void 0:J.at(-1))!=null&&Q.mcap?I(((W=(R=f.history)==null?void 0:R.at(-1))==null?void 0:W.mcap)??0):"UNK",value:(Y=(X=f.history)==null?void 0:X.at(-1))==null?void 0:Y.mcap}}},we=f=>{var h,$,D,U,V,q,A,M,B,H,K,O,j,C,E,F,G,z,J,Q,R,W,X,Y;return{name:{text:f.details.name,value:f.details.name,icon:`${w}/assets/${f.details.id}/icon.svg`},"name-path":{text:`${w}/assets/${f.details.id}`,value:`${w}/assets/${f.details.id}`},price:{text:(D=($=(h=f.history)==null?void 0:h.at(-1))==null?void 0:$.price)!=null&&D.usd?I(((q=(V=(U=f.history)==null?void 0:U.at(-1))==null?void 0:V.price)==null?void 0:q.usd)??0):"UNK",value:(B=(M=(A=f.history)==null?void 0:A.at(-1))==null?void 0:M.price)==null?void 0:B.usd},supply:{text:(O=(K=(H=f.history)==null?void 0:H.at(-1))==null?void 0:K.supply)!=null&&O.total?pe(((E=(C=(j=f.history)==null?void 0:j.at(-1))==null?void 0:C.supply)==null?void 0:E.total)??0):"UNK",value:(z=(G=(F=f.history)==null?void 0:F.at(-1))==null?void 0:G.supply)==null?void 0:z.total},mcap:{text:(Q=(J=f.history)==null?void 0:J.at(-1))!=null&&Q.mcap?I(((W=(R=f.history)==null?void 0:R.at(-1))==null?void 0:W.mcap)??0):"UNK",value:(Y=(X=f.history)==null?void 0:X.at(-1))==null?void 0:Y.mcap}}};return i.$$set=f=>{"data"in f&&r(0,N=f.data)},i.$$.update=()=>{i.$$.dirty&1&&r(14,{issuersDetails:s,issuersIcons:n,assetsDetails:e,graphData:t}=N,s,(r(13,n),r(0,N)),(r(12,t),r(0,N))),i.$$.dirty&32768&&r(8,l=se.params.id),i.$$.dirty&16640&&r(1,m=s[l]),i.$$.dirty&8448&&r(7,o=n[l]),i.$$.dirty&4352&&r(11,k=t.nodes.filter(f=>f.data.details.issuer==l).map(f=>f.data)),i.$$.dirty&2048&&r(3,P=k.filter(f=>!f.details.tags.includes("lp"))),i.$$.dirty&2048&&r(2,S=k.filter(f=>f.details.tags.includes("lp"))),i.$$.dirty&8&&r(10,ee=fe(v.flatMap(P,f=>v.map(f.history,"timestamp")),60*60*1e3).sort()),i.$$.dirty&4&&r(9,te=fe(v.flatMap(S,f=>v.map(f.history,"timestamp")),60*60*1e3).sort()),i.$$.dirty&1032&&r(6,ae=v.map(ee,f=>({date:f,value:v.sumBy(P,h=>{var $;return(($=oe(h.history,f))==null?void 0:$.mcap)??0})}))),i.$$.dirty&516&&r(5,re=v.map(te,f=>({date:f,value:v.sumBy(S,h=>{var $;return(($=oe(h.history,f))==null?void 0:$.mcap)??0})}))),i.$$.dirty&8&&(P.length,I(v.sumBy(P,f=>{var h,$;return(($=(h=f.history)==null?void 0:h.at(-1))==null?void 0:$.mcap)??0}))),i.$$.dirty&4&&(S.length,I(v.sumBy(S,f=>{var h,$;return(($=(h=f.history)==null?void 0:h.at(-1))==null?void 0:$.mcap)??0}))),i.$$.dirty&258&&r(4,ie={title:`${m.name}'s assets`,description:`See all assets of ${m.name}. Learn more ...`,url:`${ue}/issuers/${l}`,image:{url:`${ue}/issuers/${l}/preview.jpg`,width:1200,height:630,alt:`Preview of ${m.name}'s detail view.`}})},[N,m,S,P,ie,re,ae,o,l,te,ee,k,t,n,s,se,ve,we]}class st extends ke{constructor(a){super(),Le(this,a,Ge,Fe,Te,{data:0})}}export{st as default};
