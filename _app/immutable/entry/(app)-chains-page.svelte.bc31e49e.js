import{S as P,i as T,s as B,y as b,a as D,k as I,z as k,c as L,l as V,m as j,h as g,n as O,A as w,b as $,g as A,d as y,B as S}from"../chunks/index.6847575b.js";import{b as h}from"../chunks/paths.2c00a8a2.js";import{T as G}from"../chunks/table.38991ca6.js";import{P as C}from"../chunks/public.d1f81b30.js";import{c as N,f as R}from"../chunks/string-formatting.ca7775a2.js";import{n as q}from"../chunks/index.4679d6cd.js";import{S as z}from"../chunks/index.b15051cd.js";import{l as E}from"../chunks/lodash.default.76769d5d.js";function M(t){let r,i,o,l,u;return r=new z({props:{title:t[2].title,description:t[2].description,openGraph:{title:t[2].title,description:t[2].description,url:t[2].url,type:"website",images:[t[2].image]},twitter:{site:"@bcked_com",title:t[2].title,description:t[2].description,image:t[2].image.url,imageAlt:t[2].image.alt}}}),l=new G({props:{data:t[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"numAssets",title:"Assets",class:"hidden sm:table-cell"},{id:"tvl",title:"Total Value Locked (TVL)",class:""}],rows:t[1],sort:[{by:"tvl"}],class:"sm:rounded-lg"}}),{c(){b(r.$$.fragment),i=D(),o=I("div"),b(l.$$.fragment),this.h()},l(e){k(r.$$.fragment,e),i=L(e),o=V(e,"DIV",{class:!0});var a=j(o);k(l.$$.fragment,a),a.forEach(g),this.h()},h(){O(o,"class","w-full pt-8")},m(e,a){w(r,e,a),$(e,i,a),$(e,o,a),w(l,o,null),u=!0},p(e,[a]){const n={};a&4&&(n.title=e[2].title),a&4&&(n.description=e[2].description),a&4&&(n.openGraph={title:e[2].title,description:e[2].description,url:e[2].url,type:"website",images:[e[2].image]}),a&4&&(n.twitter={site:"@bcked_com",title:e[2].title,description:e[2].description,image:e[2].image.url,imageAlt:e[2].image.alt}),r.$set(n);const p={};a&1&&(p.data=e[0]),a&2&&(p.rows=e[1]),l.$set(p)},i(e){u||(A(r.$$.fragment,e),A(l.$$.fragment,e),u=!0)},o(e){y(r.$$.fragment,e),y(l.$$.fragment,e),u=!1},d(e){S(r,e),e&&g(i),e&&g(o),S(l)}}}function U(t,r,i){let o,l,u,e,a,n,p,_,{data:f}=r;return t.$$set=s=>{"data"in s&&i(0,f=s.data)},t.$$.update=()=>{t.$$.dirty&1&&i(4,{assetsPrice:o,assetsBacking:l,assetsStats:u,graphData:e,chainsDetails:a,chainsIcons:n}=f,e,(i(5,a),i(0,f)),(i(3,n),i(0,f))),t.$$.dirty&16&&q(e),t.$$.dirty&56&&i(1,p=Object.values(a).map(s=>{const d=e.nodes.filter(m=>{var c;return((c=m.data.chain)==null?void 0:c.id)==s.id}).filter(m=>!m.data.details.tags.includes("lp"));return{...s,numAssets:d.length,tvl:E.sumBy(d,m=>{var c,v;return((v=(c=m.data.history)==null?void 0:c.at(-1))==null?void 0:v.mcap)??0})}}).filter(s=>s.tvl).sort((s,d)=>N(s.tvl,d.tvl)).map((s,d)=>{var m;return{rank:{text:d+1,value:d},name:{text:s.name,value:s.name,icon:`${h}/${(m=n[s.id])==null?void 0:m.href}`},"name-path":{text:`${h}/chains/${s.id}`,value:`${h}/chains/${s.id}`},numAssets:{text:s.numAssets,value:s.numAssets},tvl:{text:R(s.tvl),value:s.tvl}}})),t.$$.dirty&2&&i(2,_={title:"bcked: Chains Ranking",description:`Ranking of ${p.length} chains based on total value locked (TVL). See all ...`,url:`${C}/chains`,image:{url:`${C}/chains/preview.jpg`,width:1200,height:630,alt:"Preview of chains ranking."}})},[f,p,_,n,e,a]}class Z extends P{constructor(r){super(),T(this,r,U,M,B,{data:0})}}export{Z as default};
