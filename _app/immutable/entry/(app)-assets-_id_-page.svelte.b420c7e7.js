var jw=Object.defineProperty;var Jw=(s,t,e)=>t in s?jw(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var to=(s,t,e)=>(Jw(s,typeof t!="symbol"?t+"":t,e),e);import{S as vi,i as _i,s as wi,C as Fs,R as me,a5 as Bt,a6 as kt,m as $,h as P,n as I,a7 as pi,b as et,H as rt,L as Ut,D as Bs,E as ks,F as Ds,V as Or,g as J,d as tt,$ as Ir,P as gi,T as Ar,M as Ht,k as Rt,l as Ot,ae as op,af as hp,G as xr,w as lp,q as $t,e as fi,r as te,u as Ee,v as Ke,f as je,I as kh,K as Xw,a0 as at,y as It,z as At,A as Pt,B as Lt,o as up,a1 as Mt,J as Zw,p as ui,a as jt,c as Jt}from"../chunks/index.467a0851.js";import{b as ci}from"../chunks/paths.6850d890.js";import{p as Qw}from"../chunks/stores.44b66e77.js";import{a as yf,n as $w,t as tb,c as eb,i as gh,l as ib,p as nb,b as mu,r as sb,M as rb,d as Qn,H as zs,I as ju,L as ob}from"../chunks/liquid-fill.9985b785.js";import{P as hb}from"../chunks/page.42a793c3.js";import{P as Xe}from"../chunks/public.550f299c.js";import{n as ap}from"../chunks/index.4679d6cd.js";import{w as xt,h as ie}from"../chunks/singletons.b82ea10c.js";import{i as lb}from"../chunks/init.77b53fdd.js";import{T as cp}from"../chunks/table.e88f6b53.js";import{m as Sf,a as Mf,n as fp}from"../chunks/index.2c9455fa.js";import{a as Is,f as Ae,b as xf}from"../chunks/string-formatting.ca7775a2.js";import{S as ub}from"../chunks/index.7ee114f9.js";import{l as mh}from"../chunks/lodash.default.76769d5d.js";function ab(s){let t,e,i,r,h;const l=s[2].default,a=Fs(l,s,s[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},s[0]],d={};for(let f=0;f<c.length;f+=1)d=me(d,c[f]);return{c(){t=Bt("svg"),a&&a.c(),e=Bt("path"),this.h()},l(f){t=kt(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var g=$(t);a&&a.l(g),e=kt(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),$(e).forEach(P),g.forEach(P),this.h()},h(){I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"),pi(t,d)},m(f,g){et(f,t,g),a&&a.m(t,null),rt(t,e),i=!0,r||(h=[Ut(t,"click",s[3]),Ut(t,"mouseover",s[4]),Ut(t,"mouseenter",s[5]),Ut(t,"mouseleave",s[6]),Ut(t,"keydown",s[7])],r=!0)},p(f,[g]){a&&a.p&&(!i||g&2)&&Bs(a,l,f,f[1],i?Ds(l,f[1],g,null):ks(f[1]),null),pi(t,d=Or(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},g&1&&f[0]]))},i(f){i||(J(a,f),i=!0)},o(f){tt(a,f),i=!1},d(f){f&&P(t),a&&a.d(f),r=!1,Ir(h)}}}function cb(s,t,e){const i=[];let r=gi(t,i),{$$slots:h={},$$scope:l}=t;function a(m){Ht.call(this,s,m)}function c(m){Ht.call(this,s,m)}function d(m){Ht.call(this,s,m)}function f(m){Ht.call(this,s,m)}function g(m){Ht.call(this,s,m)}return s.$$set=m=>{t=me(me({},t),Ar(m)),e(0,r=gi(t,i)),"$$scope"in m&&e(1,l=m.$$scope)},[r,l,h,a,c,d,f,g]}class fb extends vi{constructor(t){super(),_i(this,t,cb,ab,wi,{})}}function db(s){let t,e,i,r,h;const l=s[2].default,a=Fs(l,s,s[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},s[0]],d={};for(let f=0;f<c.length;f+=1)d=me(d,c[f]);return{c(){t=Bt("svg"),a&&a.c(),e=Bt("path"),this.h()},l(f){t=kt(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var g=$(t);a&&a.l(g),e=kt(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),$(e).forEach(P),g.forEach(P),this.h()},h(){I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"),pi(t,d)},m(f,g){et(f,t,g),a&&a.m(t,null),rt(t,e),i=!0,r||(h=[Ut(t,"click",s[3]),Ut(t,"mouseover",s[4]),Ut(t,"mouseenter",s[5]),Ut(t,"mouseleave",s[6]),Ut(t,"keydown",s[7])],r=!0)},p(f,[g]){a&&a.p&&(!i||g&2)&&Bs(a,l,f,f[1],i?Ds(l,f[1],g,null):ks(f[1]),null),pi(t,d=Or(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},g&1&&f[0]]))},i(f){i||(J(a,f),i=!0)},o(f){tt(a,f),i=!1},d(f){f&&P(t),a&&a.d(f),r=!1,Ir(h)}}}function pb(s,t,e){const i=[];let r=gi(t,i),{$$slots:h={},$$scope:l}=t;function a(m){Ht.call(this,s,m)}function c(m){Ht.call(this,s,m)}function d(m){Ht.call(this,s,m)}function f(m){Ht.call(this,s,m)}function g(m){Ht.call(this,s,m)}return s.$$set=m=>{t=me(me({},t),Ar(m)),e(0,r=gi(t,i)),"$$scope"in m&&e(1,l=m.$$scope)},[r,l,h,a,c,d,f,g]}class gb extends vi{constructor(t){super(),_i(this,t,pb,db,wi,{})}}function mb(s){let t,e,i,r,h;const l=s[2].default,a=Fs(l,s,s[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},s[0]],d={};for(let f=0;f<c.length;f+=1)d=me(d,c[f]);return{c(){t=Bt("svg"),a&&a.c(),e=Bt("path"),this.h()},l(f){t=kt(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var g=$(t);a&&a.l(g),e=kt(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),$(e).forEach(P),g.forEach(P),this.h()},h(){I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"),pi(t,d)},m(f,g){et(f,t,g),a&&a.m(t,null),rt(t,e),i=!0,r||(h=[Ut(t,"click",s[3]),Ut(t,"mouseover",s[4]),Ut(t,"mouseenter",s[5]),Ut(t,"mouseleave",s[6]),Ut(t,"keydown",s[7])],r=!0)},p(f,[g]){a&&a.p&&(!i||g&2)&&Bs(a,l,f,f[1],i?Ds(l,f[1],g,null):ks(f[1]),null),pi(t,d=Or(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},g&1&&f[0]]))},i(f){i||(J(a,f),i=!0)},o(f){tt(a,f),i=!1},d(f){f&&P(t),a&&a.d(f),r=!1,Ir(h)}}}function vb(s,t,e){const i=[];let r=gi(t,i),{$$slots:h={},$$scope:l}=t;function a(m){Ht.call(this,s,m)}function c(m){Ht.call(this,s,m)}function d(m){Ht.call(this,s,m)}function f(m){Ht.call(this,s,m)}function g(m){Ht.call(this,s,m)}return s.$$set=m=>{t=me(me({},t),Ar(m)),e(0,r=gi(t,i)),"$$scope"in m&&e(1,l=m.$$scope)},[r,l,h,a,c,d,f,g]}class _b extends vi{constructor(t){super(),_i(this,t,vb,mb,wi,{})}}function wb(s){let t,e,i,r,h;const l=s[2].default,a=Fs(l,s,s[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},s[0]],d={};for(let f=0;f<c.length;f+=1)d=me(d,c[f]);return{c(){t=Bt("svg"),a&&a.c(),e=Bt("path"),this.h()},l(f){t=kt(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var g=$(t);a&&a.l(g),e=kt(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),$(e).forEach(P),g.forEach(P),this.h()},h(){I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"),pi(t,d)},m(f,g){et(f,t,g),a&&a.m(t,null),rt(t,e),i=!0,r||(h=[Ut(t,"click",s[3]),Ut(t,"mouseover",s[4]),Ut(t,"mouseenter",s[5]),Ut(t,"mouseleave",s[6]),Ut(t,"keydown",s[7])],r=!0)},p(f,[g]){a&&a.p&&(!i||g&2)&&Bs(a,l,f,f[1],i?Ds(l,f[1],g,null):ks(f[1]),null),pi(t,d=Or(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},g&1&&f[0]]))},i(f){i||(J(a,f),i=!0)},o(f){tt(a,f),i=!1},d(f){f&&P(t),a&&a.d(f),r=!1,Ir(h)}}}function bb(s,t,e){const i=[];let r=gi(t,i),{$$slots:h={},$$scope:l}=t;function a(m){Ht.call(this,s,m)}function c(m){Ht.call(this,s,m)}function d(m){Ht.call(this,s,m)}function f(m){Ht.call(this,s,m)}function g(m){Ht.call(this,s,m)}return s.$$set=m=>{t=me(me({},t),Ar(m)),e(0,r=gi(t,i)),"$$scope"in m&&e(1,l=m.$$scope)},[r,l,h,a,c,d,f,g]}class yb extends vi{constructor(t){super(),_i(this,t,bb,wb,wi,{})}}function Sb(s){let t,e,i,r,h;const l=s[2].default,a=Fs(l,s,s[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},s[0]],d={};for(let f=0;f<c.length;f+=1)d=me(d,c[f]);return{c(){t=Bt("svg"),a&&a.c(),e=Bt("path"),this.h()},l(f){t=kt(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var g=$(t);a&&a.l(g),e=kt(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),$(e).forEach(P),g.forEach(P),this.h()},h(){I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"),pi(t,d)},m(f,g){et(f,t,g),a&&a.m(t,null),rt(t,e),i=!0,r||(h=[Ut(t,"click",s[3]),Ut(t,"mouseover",s[4]),Ut(t,"mouseenter",s[5]),Ut(t,"mouseleave",s[6]),Ut(t,"keydown",s[7])],r=!0)},p(f,[g]){a&&a.p&&(!i||g&2)&&Bs(a,l,f,f[1],i?Ds(l,f[1],g,null):ks(f[1]),null),pi(t,d=Or(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},g&1&&f[0]]))},i(f){i||(J(a,f),i=!0)},o(f){tt(a,f),i=!1},d(f){f&&P(t),a&&a.d(f),r=!1,Ir(h)}}}function Mb(s,t,e){const i=[];let r=gi(t,i),{$$slots:h={},$$scope:l}=t;function a(m){Ht.call(this,s,m)}function c(m){Ht.call(this,s,m)}function d(m){Ht.call(this,s,m)}function f(m){Ht.call(this,s,m)}function g(m){Ht.call(this,s,m)}return s.$$set=m=>{t=me(me({},t),Ar(m)),e(0,r=gi(t,i)),"$$scope"in m&&e(1,l=m.$$scope)},[r,l,h,a,c,d,f,g]}class xb extends vi{constructor(t){super(),_i(this,t,Mb,Sb,wi,{})}}function Cb(s){let t,e,i,r,h;const l=s[2].default,a=Fs(l,s,s[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},s[0]],d={};for(let f=0;f<c.length;f+=1)d=me(d,c[f]);return{c(){t=Bt("svg"),a&&a.c(),e=Bt("path"),this.h()},l(f){t=kt(f,"svg",{xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0});var g=$(t);a&&a.l(g),e=kt(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),$(e).forEach(P),g.forEach(P),this.h()},h(){I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"),pi(t,d)},m(f,g){et(f,t,g),a&&a.m(t,null),rt(t,e),i=!0,r||(h=[Ut(t,"click",s[3]),Ut(t,"mouseover",s[4]),Ut(t,"mouseenter",s[5]),Ut(t,"mouseleave",s[6]),Ut(t,"keydown",s[7])],r=!0)},p(f,[g]){a&&a.p&&(!i||g&2)&&Bs(a,l,f,f[1],i?Ds(l,f[1],g,null):ks(f[1]),null),pi(t,d=Or(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{viewBox:"0 0 24 24"},{stroke:"currentColor"},{"aria-hidden":"true"},g&1&&f[0]]))},i(f){i||(J(a,f),i=!0)},o(f){tt(a,f),i=!1},d(f){f&&P(t),a&&a.d(f),r=!1,Ir(h)}}}function Eb(s,t,e){const i=[];let r=gi(t,i),{$$slots:h={},$$scope:l}=t;function a(m){Ht.call(this,s,m)}function c(m){Ht.call(this,s,m)}function d(m){Ht.call(this,s,m)}function f(m){Ht.call(this,s,m)}function g(m){Ht.call(this,s,m)}return s.$$set=m=>{t=me(me({},t),Ar(m)),e(0,r=gi(t,i)),"$$scope"in m&&e(1,l=m.$$scope)},[r,l,h,a,c,d,f,g]}class Tb extends vi{constructor(t){super(),_i(this,t,Eb,Cb,wi,{})}}var eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zt(s){var t=s.width,e=s.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function As(s,t){return s.width===t.width&&s.height===t.height}var Rb=function(){function s(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return s.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(s.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),s.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==i})}}},s.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},s.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},s.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},s.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},s}();function Ob(s){return new Rb(s)}var Ib=function(){function s(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=Zt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(h){return h},this._allowResizeObserver=(r=i==null?void 0:i.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return s.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(s.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bitmapSize",{get:function(){return Zt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),s.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=Zt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},s.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},s.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(s.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),s.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},s.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},s.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},s.prototype._resizeBitmap=function(t){var e=this.bitmapSize;As(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},s.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},s.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=Zt(this._transformBitmapSize(t,this._canvasElementClientSize)),r=As(this.bitmapSize,i)?null:i;e===null&&r===null||e!==null&&r!==null&&As(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},s.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},s.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Pb().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},s.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Cf(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Ob(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},s.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=Cf(this._canvasElement);if(i!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,h=this._canvasElement.getClientRects(),l=h[0]!==void 0?Lb(h[0],r):Zt({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(l)}}},s.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(l){return l.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var r=i.devicePixelContentBoxSize[0],h=Zt({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(h)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},s}();function Ab(s,t){if(t.type==="device-pixel-content-box")return new Ib(s,t.transform,t.options);throw new Error("Unsupported binding target")}function Cf(s){return s.ownerDocument.defaultView}function Pb(){return new Promise(function(s){var t=new ResizeObserver(function(e){s(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Lb(s,t){return Zt({width:Math.round(s.left*t+s.width*t)-Math.round(s.left*t),height:Math.round(s.top*t+s.height*t)-Math.round(s.top*t)})}var Nb=function(){function s(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return s.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},s.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(s.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),s}();function Ps(s,t){var e=s.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=s.bitmapSize;if(i.width===0||i.height===0)return null;var r=s.canvasElement.getContext("2d",t);return r===null?null:new Nb(r,e,i)}/*!
 * @license
 * TradingView Lightweight Charts v4.0.0
 * Copyright (c) 2023 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */var Ef,Tf;function Ls(s,t){const e={0:[],1:[s.lineWidth,s.lineWidth],2:[2*s.lineWidth,2*s.lineWidth],3:[6*s.lineWidth,6*s.lineWidth],4:[s.lineWidth,4*s.lineWidth]}[t];s.setLineDash(e)}function dp(s,t,e,i){s.beginPath();const r=s.lineWidth%2?.5:0;s.moveTo(e,t+r),s.lineTo(i,t+r),s.stroke()}function Vs(s,t){if(!s)throw new Error("Assertion failed"+(t?": "+t:""))}function mi(s){if(s===void 0)throw new Error("Value is undefined");return s}function Y(s){if(s===null)throw new Error("Value is null");return s}function oo(s){return Y(mi(s))}(function(s){s[s.Simple=0]="Simple",s[s.WithSteps=1]="WithSteps",s[s.Curved=2]="Curved"})(Ef||(Ef={})),function(s){s[s.Solid=0]="Solid",s[s.Dotted=1]="Dotted",s[s.Dashed=2]="Dashed",s[s.LargeDashed=3]="LargeDashed",s[s.SparseDotted=4]="SparseDotted"}(Tf||(Tf={}));const Rf={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ai(s){return s<0?0:s>255?255:Math.round(s)||0}function pp(s){return s<=0||s>0?s<0?0:s>1?1:Math.round(1e4*s)/1e4:0}const Fb=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Bb=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,kb=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Db=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function Dh(s){(s=s.toLowerCase())in Rf&&(s=Rf[s]);{const t=Db.exec(s)||kb.exec(s);if(t)return[ai(parseInt(t[1],10)),ai(parseInt(t[2],10)),ai(parseInt(t[3],10)),pp(t.length<5?1:parseFloat(t[4]))]}{const t=Bb.exec(s);if(t)return[ai(parseInt(t[1],16)),ai(parseInt(t[2],16)),ai(parseInt(t[3],16)),1]}{const t=Fb.exec(s);if(t)return[ai(17*parseInt(t[1],16)),ai(17*parseInt(t[2],16)),ai(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${s}`)}function Jh(s){const t=Dh(s);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}class be{constructor(){this.h=[]}l(t,e,i){const r={o:t,_:e,u:i===!0};this.h.push(r)}p(t){const e=this.h.findIndex(i=>t===i.o);e>-1&&this.h.splice(e,1)}v(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,i){const r=[...this.h];this.h=this.h.filter(h=>!h.u),r.forEach(h=>h.o(t,e,i))}g(){return this.h.length>0}M(){this.h=[]}}function Qi(s,...t){for(const e of t)for(const i in e)e[i]!==void 0&&(typeof e[i]!="object"||s[i]===void 0?s[i]=e[i]:Qi(s[i],e[i]));return s}function Xi(s){return typeof s=="number"&&isFinite(s)}function go(s){return typeof s=="number"&&s%1==0}function Ju(s){return typeof s=="string"}function vh(s){return typeof s=="boolean"}function pn(s){const t=s;if(!t||typeof t!="object")return t;let e,i,r;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&typeof r=="object"?pn(r):r);return e}function zb(s){return s!==null}function zh(s){return s===null?void 0:s}const Xu="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Er(s,t,e){return t===void 0&&(t=Xu),`${e=e!==void 0?`${e} `:""}${s}px ${t}`}class Vb{constructor(t){this.S={k:1,C:5,T:NaN,P:"",R:"",D:"",B:"",O:0,A:0,L:0,I:0,V:0},this.N=t}F(){const t=this.S,e=this.W(),i=this.j();return t.T===e&&t.R===i||(t.T=e,t.R=i,t.P=Er(e,i),t.I=2.5/12*e,t.O=t.I,t.A=e/12*t.C,t.L=e/12*t.C,t.V=0),t.D=this.$(),t.B=this.H(),this.S}$(){return this.N.F().layout.textColor}H(){return this.N.U()}W(){return this.N.F().layout.fontSize}j(){return this.N.F().layout.fontFamily}}class Zu{constructor(){this.q=[]}Y(t){this.q=t}X(t,e,i){this.q.forEach(r=>{r.X(t,e,i)})}}class So{X(t,e,i){t.useMediaCoordinateSpace(r=>this.Z(r,e,i))}K(t,e,i){t.useMediaCoordinateSpace(r=>this.G(r,e,i))}G(t,e,i){}}class Ub extends So{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z({context:t}){if(this.J===null||this.J.it===null)return;const e=this.J.it,i=this.J,r=h=>{t.beginPath();for(let l=e.to-1;l>=e.from;--l){const a=i.nt[l];t.moveTo(a.st,a.et),t.arc(a.st,a.et,h,0,2*Math.PI)}t.fill()};i.rt>0&&(t.fillStyle=i.ht,r(i.lt+i.rt)),t.fillStyle=i.ot,r(i.lt)}}function Hb(){return{nt:[{st:0,et:0,_t:0,ut:0}],ot:"",ht:"",lt:0,rt:0,it:null}}const Wb={from:0,to:1};class Gb{constructor(t,e){this.ct=new Zu,this.dt=[],this.ft=[],this.vt=!0,this.N=t,this.bt=e,this.ct.Y(this.dt)}gt(t){const e=this.N.wt();e.length!==this.dt.length&&(this.ft=e.map(Hb),this.dt=this.ft.map(i=>{const r=new Ub;return r.tt(i),r}),this.ct.Y(this.dt)),this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.ct}St(){const t=this.N.wt(),e=this.bt.xt(),i=this.N.yt();t.forEach((r,h)=>{var l;const a=this.ft[h],c=r.kt(e);if(c===null||!r.Ct())return void(a.it=null);const d=Y(r.Tt());a.ot=c.Pt,a.lt=c.lt,a.rt=c.Rt,a.nt[0].ut=c.ut,a.nt[0].et=r.Bt().Dt(c.ut,d.Ot),a.ht=(l=c.At)!==null&&l!==void 0?l:this.N.Lt(a.nt[0].et/r.Bt().It()),a.nt[0]._t=e,a.nt[0].st=i.Et(e),a.it=Wb})}}class Us{X(t,e,i){t.useBitmapCoordinateSpace(r=>this.Z(r,e,i))}}class qb extends Us{constructor(t){super(),this.Vt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Vt===null)return;const h=this.Vt.zt.Ct,l=this.Vt.Nt.Ct;if(!h&&!l)return;const a=Math.round(this.Vt.st*i),c=Math.round(this.Vt.et*r);t.lineCap="butt",h&&a>=0&&(t.lineWidth=Math.floor(this.Vt.zt.rt*i),t.strokeStyle=this.Vt.zt.D,t.fillStyle=this.Vt.zt.D,Ls(t,this.Vt.zt.Ft),function(d,f,g,m){d.beginPath();const b=d.lineWidth%2?.5:0;d.moveTo(f+b,g),d.lineTo(f+b,m),d.stroke()}(t,a,0,e.height)),l&&c>=0&&(t.lineWidth=Math.floor(this.Vt.Nt.rt*r),t.strokeStyle=this.Vt.Nt.D,t.fillStyle=this.Vt.Nt.D,Ls(t,this.Vt.Nt.Ft),dp(t,c,0,e.width))}}class Yb{constructor(t){this.vt=!0,this.Wt={zt:{rt:1,Ft:0,D:"",Ct:!1},Nt:{rt:1,Ft:0,D:"",Ct:!1},st:0,et:0},this.jt=new qb(this.Wt),this.$t=t}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt}St(){const t=this.$t.Ct(),e=Y(this.$t.Ht()),i=e.Ut().F().crosshair,r=this.Wt;r.Nt.Ct=t&&this.$t.qt(e),r.zt.Ct=t&&this.$t.Yt(),r.Nt.rt=i.horzLine.width,r.Nt.Ft=i.horzLine.style,r.Nt.D=i.horzLine.color,r.zt.rt=i.vertLine.width,r.zt.Ft=i.vertLine.style,r.zt.D=i.vertLine.color,r.st=this.$t.Xt(),r.et=this.$t.Zt()}}function Kb(s,t,e,i,r,h){s.fillRect(t+h,e,i-2*h,h),s.fillRect(t+h,e+r-h,i-2*h,h),s.fillRect(t,e,h,r),s.fillRect(t+i-h,e,h,r)}function Xh(s,t,e,i,r,h){s.save(),s.globalCompositeOperation="copy",s.fillStyle=h,s.fillRect(t,e,i,r),s.restore()}function Of(s,t){return Array.isArray(s)?s.map(e=>e===0?e:e+t):s+t}function vu(s,t,e,i,r,h){let l,a,c,d;if(Array.isArray(h))if(h.length===2){const f=Math.max(0,h[0]),g=Math.max(0,h[1]);l=f,a=f,c=g,d=g}else{if(h.length!==4)throw new Error("Wrong border radius - it should be like css border radius");l=Math.max(0,h[0]),a=Math.max(0,h[1]),c=Math.max(0,h[2]),d=Math.max(0,h[3])}else{const f=Math.max(0,h);l=f,a=f,c=f,d=f}s.beginPath(),s.moveTo(t+l,e),s.lineTo(t+i-a,e),a!==0&&s.arcTo(t+i,e,t+i,e+a,a),s.lineTo(t+i,e+r-c),c!==0&&s.arcTo(t+i,e+r,t+i-c,e+r,c),s.lineTo(t+d,e+r),d!==0&&s.arcTo(t,e+r,t,e+r-d,d),s.lineTo(t,e+l),l!==0&&s.arcTo(t,e,t+l,e,l)}function If(s,t,e,i,r,h,l=0,a=0,c=""){if(s.save(),!l||!c||c===h)return vu(s,t,e,i,r,a),s.fillStyle=h,s.fill(),void s.restore();const d=l/2;h!=="transparent"&&(vu(s,t+l,e+l,i-2*l,r-2*l,Of(a,-l)),s.fillStyle=h,s.fill()),c!=="transparent"&&(vu(s,t+d,e+d,i-l,r-l,Of(a,-d)),s.lineWidth=l,s.strokeStyle=c,s.closePath(),s.stroke()),s.restore()}function gp(s,t,e,i,r,h,l){s.save(),s.globalCompositeOperation="copy";const a=s.createLinearGradient(0,0,0,r);a.addColorStop(0,h),a.addColorStop(1,l),s.fillStyle=a,s.fillRect(t,e,i,r),s.restore()}class Af{constructor(t,e){this.tt(t,e)}tt(t,e){this.Vt=t,this.Kt=e}It(t,e){return this.Vt.Ct?t.T+t.I+t.O:0}X(t,e,i,r){if(!this.Vt.Ct||this.Vt.Gt.length===0)return;const h=this.Vt.D||this.Kt.D,l=this.Kt.t,a=t.useBitmapCoordinateSpace(c=>{const d=c.context;d.font=e.P;const f=this.Jt(c,e,i,r),g=f.Qt,m=(b,_)=>{f.ti?If(d,g.ii,g.ni,g.si,g.ei,b,g.ri,[g.lt,0,0,g.lt],_):If(d,g.hi,g.ni,g.si,g.ei,b,g.ri,[0,g.lt,g.lt,0],_)};return m(l,"transparent"),this.Vt.li&&(d.fillStyle=h,d.fillRect(g.hi,g.ai,g.oi-g.hi,g._i)),m("transparent",l),this.Vt.ui&&(d.fillStyle=e.B,d.fillRect(f.ti?g.ci-g.ri:0,g.ni,g.ri,g.di-g.ni)),f});t.useMediaCoordinateSpace(({context:c})=>{const d=a.fi;c.font=e.P,c.textAlign=a.ti?"right":"left",c.textBaseline="middle",c.fillStyle=h,c.fillText(this.Vt.Gt,d.pi,(d.ni+d.di)/2+d.vi)})}Jt(t,e,i,r){var h;const{context:l,bitmapSize:a,mediaSize:c,horizontalPixelRatio:d,verticalPixelRatio:f}=t,g=this.Vt.li||!this.Vt.mi?e.C:0,m=this.Vt.bi?e.k:0,b=e.I+this.Kt.gi,_=e.O+this.Kt.wi,S=e.A,R=e.L,k=this.Vt.Gt,L=e.T,G=i.Mi(l,k),N=Math.ceil(i.Si(l,k)),nt=L+b+_,ct=e.k+S+R+N+g,Z=Math.max(1,Math.floor(f));let H=Math.round(nt*f);H%2!=Z%2&&(H+=1);const it=m>0?Math.max(1,Math.floor(m*d)):0,Et=Math.round(ct*d),bt=Math.round(g*d),ft=(h=this.Kt.xi)!==null&&h!==void 0?h:this.Kt.yi,mt=Math.round(ft*f)-Math.floor(.5*f),yt=Math.floor(mt+Z/2-H/2),O=yt+H,K=r==="right",U=K?c.width-m:m,j=K?a.width-it:it;let q,ot,B;return K?(q=j-Et,ot=j-bt,B=U-g-S-m):(q=j+Et,ot=j+bt,B=U+g+S),{ti:K,Qt:{ni:yt,ai:mt,di:O,si:Et,ei:H,lt:2*d,ri:it,ii:q,hi:j,oi:ot,_i:Z,ci:a.width},fi:{ni:yt/f,di:O/f,pi:B,vi:G}}}}class Qu{constructor(t){this.ki={yi:0,D:"#FFF",t:"#000",wi:0,gi:0},this.Ci={Gt:"",Ct:!1,li:!0,mi:!1,At:"",D:"#FFF",ui:!1,bi:!1},this.Ti={Gt:"",Ct:!1,li:!1,mi:!0,At:"",D:"#FFF",ui:!0,bi:!0},this.vt=!0,this.Pi=new(t||Af)(this.Ci,this.ki),this.Ri=new(t||Af)(this.Ti,this.ki)}Gt(){return this.Di(),this.Ci.Gt}yi(){return this.Di(),this.ki.yi}gt(){this.vt=!0}It(t,e=!1){return Math.max(this.Pi.It(t,e),this.Ri.It(t,e))}Bi(){return this.ki.xi||0}Oi(t){this.ki.xi=t}Ai(){return this.Di(),this.Ci.Ct||this.Ti.Ct}Li(){return this.Di(),this.Ci.Ct}Mt(t){return this.Di(),this.Ci.li=this.Ci.li&&t.F().ticksVisible,this.Ti.li=this.Ti.li&&t.F().ticksVisible,this.Pi.tt(this.Ci,this.ki),this.Ri.tt(this.Ti,this.ki),this.Pi}Ii(){return this.Di(),this.Pi.tt(this.Ci,this.ki),this.Ri.tt(this.Ti,this.ki),this.Ri}Di(){this.vt&&(this.Ci.li=!0,this.Ti.li=!1,this.Ei(this.Ci,this.Ti,this.ki))}}class jb extends Qu{constructor(t,e,i){super(),this.$t=t,this.Vi=e,this.zi=i}Ei(t,e,i){t.Ct=!1;const r=this.$t.F().horzLine;if(!r.labelVisible)return;const h=this.Vi.Tt();if(!this.$t.Ct()||this.Vi.Ni()||h===null)return;const l=Jh(r.labelBackgroundColor);i.t=l.t,i.D=l.i;const a=2/12*this.Vi.T();i.gi=a,i.wi=a;const c=this.zi(this.Vi);i.yi=c.yi,t.Gt=this.Vi.Fi(c.ut,h),t.Ct=!0}}const Jb=/[1-9]/g;class Xb{constructor(){this.Vt=null}tt(t){this.Vt=t}X(t,e){if(this.Vt===null||this.Vt.Ct===!1||this.Vt.Gt.length===0)return;const i=t.useMediaCoordinateSpace(({context:m})=>(m.font=e.P,Math.round(e.Wi.Si(m,Y(this.Vt).Gt,Jb))));if(i<=0)return;const r=e.ji,h=i+2*r,l=h/2,a=this.Vt.$i;let c=this.Vt.yi,d=Math.floor(c-l)+.5;d<0?(c+=Math.abs(0-d),d=Math.floor(c-l)+.5):d+h>a&&(c-=Math.abs(a-(d+h)),d=Math.floor(c-l)+.5);const f=d+h,g=Math.ceil(0+e.k+e.C+e.I+e.T+e.O);t.useBitmapCoordinateSpace(({context:m,horizontalPixelRatio:b,verticalPixelRatio:_})=>{const S=Y(this.Vt);m.fillStyle=S.t;const R=Math.round(d*b),k=Math.round(0*_),L=Math.round(f*b),G=Math.round(g*_),N=Math.round(2*b);if(m.beginPath(),m.moveTo(R,k),m.lineTo(R,G-N),m.arcTo(R,G,R+N,G,N),m.lineTo(L-N,G),m.arcTo(L,G,L,G-N,N),m.lineTo(L,k),m.fill(),S.li){const nt=Math.round(S.yi*b),ct=k,Z=Math.round((ct+e.C)*_);m.fillStyle=S.D;const H=Math.max(1,Math.floor(b)),it=Math.floor(.5*b);m.fillRect(nt-it,ct,H,Z-ct)}}),t.useMediaCoordinateSpace(({context:m})=>{const b=Y(this.Vt),_=0+e.k+e.C+e.I+e.T/2;m.font=e.P,m.textAlign="left",m.textBaseline="middle",m.fillStyle=b.D;const S=e.Wi.Mi(m,"Apr0");m.translate(d+r,_+S),m.fillText(b.Gt,0,0)})}}class Zb{constructor(t,e,i){this.vt=!0,this.jt=new Xb,this.Wt={Ct:!1,t:"#4c525e",D:"white",Gt:"",$i:0,yi:NaN,li:!0},this.bt=t,this.Hi=e,this.zi=i}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt.tt(this.Wt),this.jt}St(){const t=this.Wt;t.Ct=!1;const e=this.bt.F().vertLine;if(!e.labelVisible)return;const i=this.Hi.yt();if(i.Ni())return;t.$i=i.$i();const r=this.zi();if(r===null)return;t.yi=r.yi;const h=i.Ui(this.bt.xt());t.Gt=i.qi(Y(h)),t.Ct=!0;const l=Jh(e.labelBackgroundColor);t.t=l.t,t.D=l.i,t.li=i.F().ticksVisible}}class $u{constructor(){this.Yi=null,this.Xi=0}Zi(){return this.Xi}Ki(t){this.Xi=t}Bt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}Ct(){return!0}}var Pf;(function(s){s[s.Normal=0]="Normal",s[s.Magnet=1]="Magnet"})(Pf||(Pf={}));class Qb extends $u{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this.on=NaN,this._n=NaN,this.Hi=t,this.un=e,this.cn=new Gb(t,this),this.dn=((r,h)=>l=>{const a=h(),c=r();if(l===Y(this.tn).fn())return{ut:c,yi:a};{const d=Y(l.Tt());return{ut:l.pn(a,d),yi:a}}})(()=>this.nn,()=>this.an);const i=((r,h)=>()=>{const l=this.Hi.yt().vn(r()),a=h();return l&&Number.isFinite(a)?{_t:l,yi:a}:null})(()=>this.sn,()=>this.Xt());this.mn=new Zb(this,t,i),this.bn=new Yb(this)}F(){return this.un}gn(t,e){this.on=t,this._n=e}wn(){this.on=NaN,this._n=NaN}Mn(){return this.on}Sn(){return this._n}xn(t,e,i){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,i)}xt(){return this.sn}Xt(){return this.ln}Zt(){return this.an}Ct(){return this.en}kn(){this.en=!1,this.Cn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.wn()}Tn(t){return this.tn!==null?[this.bn,this.cn]:[]}qt(t){return t===this.tn&&this.un.horzLine.visible}Yt(){return this.un.vertLine.visible}Pn(t,e){this.en&&this.tn===t||this.rn.clear();const i=[];return this.tn===t&&i.push(this.Rn(this.rn,e,this.dn)),i}Qi(){return this.en?[this.mn]:[]}Ht(){return this.tn}Dn(){this.bn.gt(),this.rn.forEach(t=>t.gt()),this.mn.gt(),this.cn.gt()}Bn(t){return t&&!t.fn().Ni()?t.fn():null}yn(t,e,i){this.On(t,e,i)&&this.Dn()}On(t,e,i){const r=this.ln,h=this.an,l=this.nn,a=this.sn,c=this.tn,d=this.Bn(i);this.sn=t,this.ln=isNaN(t)?NaN:this.Hi.yt().Et(t),this.tn=i;const f=d!==null?d.Tt():null;return d!==null&&f!==null?(this.nn=e,this.an=d.Dt(e,f)):(this.nn=NaN,this.an=NaN),r!==this.ln||h!==this.an||a!==this.sn||l!==this.nn||c!==this.tn}Cn(){const t=this.Hi.wt().map(i=>i.Ln().An()).filter(zb),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Rn(t,e,i){let r=t.get(e);return r===void 0&&(r=new jb(this,e,i),t.set(e,r)),r}}function Zh(s){return s==="left"||s==="right"}class we{constructor(t){this.In=new Map,this.En=[],this.Vn=t}zn(t,e){const i=function(r,h){return r===void 0?h:{Nn:Math.max(r.Nn,h.Nn),Fn:r.Fn||h.Fn}}(this.In.get(t),e);this.In.set(t,i)}Wn(){return this.Vn}jn(t){const e=this.In.get(t);return e===void 0?{Nn:this.Vn}:{Nn:Math.max(this.Vn,e.Nn),Fn:e.Fn}}$n(){this.Hn(),this.En=[{Un:0}]}qn(t){this.Hn(),this.En=[{Un:1,Ot:t}]}Yn(t){this.Xn(),this.En.push({Un:5,Ot:t})}Hn(){this.Xn(),this.En.push({Un:6})}Zn(){this.Hn(),this.En=[{Un:4}]}Kn(t){this.Hn(),this.En.push({Un:2,Ot:t})}Gn(t){this.Hn(),this.En.push({Un:3,Ot:t})}Jn(){return this.En}Qn(t){for(const e of t.En)this.ts(e);this.Vn=Math.max(this.Vn,t.Vn),t.In.forEach((e,i)=>{this.zn(i,e)})}static ns(){return new we(2)}static ss(){return new we(3)}ts(t){switch(t.Un){case 0:this.$n();break;case 1:this.qn(t.Ot);break;case 2:this.Kn(t.Ot);break;case 3:this.Gn(t.Ot);break;case 4:this.Zn();break;case 5:this.Yn(t.Ot);break;case 6:this.Xn()}}Xn(){const t=this.En.findIndex(e=>e.Un===5);t!==-1&&this.En.splice(t,1)}}const Lf=".";function gn(s,t){if(!Xi(s))return"n/a";if(!go(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?s.toString():("0000000000000000"+s.toString()).slice(-t)}class Qh{constructor(t,e){if(e||(e=1),Xi(t)&&go(t)||(t=100),t<0)throw new TypeError("invalid base");this.Vi=t,this.es=e,this.rs()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.hs(t)}rs(){if(this.ls=0,this.Vi>0&&this.es>0){let t=this.Vi;for(;t>1;)t/=10,this.ls++}}hs(t){const e=this.Vi/this.es;let i=Math.floor(t),r="";const h=this.ls!==void 0?this.ls:NaN;if(e>1){let l=+(Math.round(t*e)-i*e).toFixed(this.ls);l>=e&&(l-=e,i+=1),r=Lf+gn(+l.toFixed(this.ls)*this.es,h)}else i=Math.round(i*e)/e,h>0&&(r=Lf+gn(0,h));return i.toFixed(0)+r}}class mp extends Qh{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class $b{constructor(t){this.os=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this._s(t):t<999995?e+this._s(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this._s(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this._s(t/1e9)+"B")}_s(t){let e;const i=Math.pow(10,this.os);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.os).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(r,h)=>h)}}function vp(s,t,e,i,r,h,l){if(t.length===0||i.from>=t.length)return;const a=s.context,c=t[i.from];let d=h(s,c),f=c;if(i.to-i.from<2){const b=r/2;a.beginPath();const _={st:c.st-b,et:c.et},S={st:c.st+b,et:c.et};return a.moveTo(_.st,_.et),a.lineTo(S.st,S.et),void l(a,d,_,S)}const g=(b,_)=>{l(a,d,f,_),a.beginPath(),d=b,f=_};let m=f;a.beginPath(),a.moveTo(c.st,c.et);for(let b=i.from+1;b<i.to;++b){m=t[b];const _=h(s,m);switch(e){case 0:a.lineTo(m.st,m.et);break;case 1:a.lineTo(m.st,t[b-1].et),_!==d&&(g(_,m),a.lineTo(m.st,t[b-1].et)),a.lineTo(m.st,m.et);break;case 2:{const[S,R]=ty(t,b-1,b);a.bezierCurveTo(S.st,S.et,R.st,R.et,m.st,m.et);break}}e!==1&&_!==d&&(g(_,m),a.moveTo(m.st,m.et))}(f!==m||f===m&&e===1)&&l(a,d,f,m)}function _u(s,t){return{st:s.st-t.st,et:s.et-t.et}}function Nf(s,t){return{st:s.st/t,et:s.et/t}}function ty(s,t,e){const i=Math.max(0,t-1),r=Math.min(s.length-1,e+1);var h,l;return[(h=s[t],l=Nf(_u(s[e],s[i]),6),{st:h.st+l.st,et:h.et+l.et}),_u(s[e],Nf(_u(s[r],s[t]),6))]}function ey(s,t,e,i,r){t.lineTo(r.st,s),t.lineTo(i.st,s),t.closePath(),t.fillStyle=e,t.fill()}class _p extends So{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z(t){var e;if(this.J===null)return;const{nt:i,it:r,us:h,rt:l,Ft:a,cs:c}=this.J,d=(e=this.J.ds)!==null&&e!==void 0?e:this.J.fs?0:t.mediaSize.height;if(r===null)return;const f=t.context;f.lineCap="butt",f.lineJoin="round",f.lineWidth=l,Ls(f,a),f.lineWidth=1,vp(t,i,c,r,h,this.ps.bind(this),ey.bind(null,d))}}class iy extends _p{constructor(){super(...arguments),this.vs=null}ps(t,e){const{context:i,mediaSize:r}=t,{bs:h,gs:l}=e,a=r.height;if(this.vs!==null&&this.vs.topColor===h&&this.vs.bottomColor===l&&this.vs.bottom===a)return this.vs.fillStyle;const c=i.createLinearGradient(0,0,0,a);return c.addColorStop(0,h),c.addColorStop(1,l),this.vs={topColor:h,bottomColor:l,fillStyle:c,bottom:a},c}}function ny(s,t){s.strokeStyle=t,s.stroke()}class wp extends So{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z(t){if(this.J===null)return;const{nt:e,it:i,us:r,cs:h,rt:l,Ft:a}=this.J;if(i===null)return;const c=t.context;c.lineCap="butt",c.lineWidth=l,Ls(c,a),c.lineJoin="round",vp(t,e,h,i,r,this.ws.bind(this),ny)}}class bp extends wp{ws(t,e){return e.ot}}function Mo(s,t,e,i=0,r=s.length){let h=r-i;for(;0<h;){const l=h>>1,a=i+l;e(s[a],t)?(i=a+1,h-=l+1):h=l}return i}function yp(s,t,e,i=0,r=s.length){let h=r-i;for(;0<h;){const l=h>>1,a=i+l;e(t,s[a])?h=l:(i=a+1,h-=l+1)}return i}function sy(s,t){return s._t<t}function ry(s,t){return s<t._t}function Sp(s,t,e){const i=t.Ms(),r=t.ci(),h=Mo(s,i,sy),l=yp(s,r,ry);if(!e)return{from:h,to:l};let a=h,c=l;return h>0&&h<s.length&&s[h]._t>=i&&(a=h-1),l>0&&l<s.length&&s[l-1]._t<=r&&(c=l+1),{from:a,to:c}}class Mp{constructor(t,e,i){this.Ss=!0,this.xs=!0,this.ys=!0,this.ks=[],this.Cs=null,this.Ts=t,this.Ps=e,this.Rs=i}gt(t){this.Ss=!0,t==="data"&&(this.xs=!0),t==="options"&&(this.ys=!0)}Mt(){return this.Ts.Ct()?(this.Ds(),this.Cs===null?null:this.Bs):null}Os(){this.ks=this.ks.map(t=>Object.assign(Object.assign({},t),this.Ts.Ls().As(t._t)))}Is(){this.Cs=null}Ds(){this.xs&&(this.Es(),this.xs=!1),this.ys&&(this.Os(),this.ys=!1),this.Ss&&(this.Vs(),this.Ss=!1)}Vs(){const t=this.Ts.Bt(),e=this.Ps.yt();if(this.Is(),e.Ni()||t.Ni())return;const i=e.zs();if(i===null||this.Ts.Ln().Ns()===0)return;const r=this.Ts.Tt();r!==null&&(this.Cs=Sp(this.ks,i,this.Rs),this.Fs(t,e,r.Ot),this.Ws())}}class $h extends Mp{constructor(t,e){super(t,e,!0)}Fs(t,e,i){e.js(this.ks,zh(this.Cs)),t.$s(this.ks,i,zh(this.Cs))}Hs(t,e){return{_t:t,ut:e,st:NaN,et:NaN}}Es(){const t=this.Ts.Ls();this.ks=this.Ts.Ln().Us().map(e=>{const i=e.Ot[3];return this.qs(e.Ys,i,t)})}}class oy extends $h{constructor(t,e){super(t,e),this.Bs=new Zu,this.Xs=new iy,this.Zs=new bp,this.Bs.Y([this.Xs,this.Zs])}qs(t,e,i){return Object.assign(Object.assign({},this.Hs(t,e)),i.As(t))}Ws(){const t=this.Ts.F();this.Xs.tt({cs:t.lineType,nt:this.ks,Ft:t.lineStyle,rt:t.lineWidth,ds:null,fs:t.invertFilledArea,it:this.Cs,us:this.Ps.yt().Ks()}),this.Zs.tt({cs:t.lineType,nt:this.ks,Ft:t.lineStyle,rt:t.lineWidth,it:this.Cs,us:this.Ps.yt().Ks()})}}class hy extends Us{constructor(){super(...arguments),this.Vt=null,this.Gs=0,this.Js=0}tt(t){this.Vt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.Vt===null||this.Vt.Ln.length===0||this.Vt.it===null)return;this.Gs=this.Qs(e),this.Gs>=2&&Math.max(1,Math.floor(e))%2!=this.Gs%2&&this.Gs--,this.Js=this.Vt.te?Math.min(this.Gs,Math.floor(e)):this.Gs;let r=null;const h=this.Js<=this.Gs&&this.Vt.Ks>=Math.floor(1.5*e);for(let l=this.Vt.it.from;l<this.Vt.it.to;++l){const a=this.Vt.Ln[l];r!==a.ie&&(t.fillStyle=a.ie,r=a.ie);const c=Math.floor(.5*this.Js),d=Math.round(a.st*e),f=d-c,g=this.Js,m=f+g-1,b=Math.min(a.ne,a.se),_=Math.max(a.ne,a.se),S=Math.round(b*i)-c,R=Math.round(_*i)+c,k=Math.max(R-S,this.Js);t.fillRect(f,S,g,k);const L=Math.ceil(1.5*this.Gs);if(h){if(this.Vt.ee){const ct=d-L;let Z=Math.max(S,Math.round(a.re*i)-c),H=Z+g-1;H>S+k-1&&(H=S+k-1,Z=H-g+1),t.fillRect(ct,Z,f-ct,H-Z+1)}const G=d+L;let N=Math.max(S,Math.round(a.he*i)-c),nt=N+g-1;nt>S+k-1&&(nt=S+k-1,N=nt-g+1),t.fillRect(m+1,N,G-m,nt-N+1)}}}Qs(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(i,r){return Math.floor(.3*i*r)}(Y(this.Vt).Ks,t)))}}class xp extends Mp{constructor(t,e){super(t,e,!1)}Fs(t,e,i){e.js(this.ks,zh(this.Cs)),t.le(this.ks,i,zh(this.Cs))}ae(t,e,i){return{_t:t,oe:e.Ot[0],_e:e.Ot[1],ue:e.Ot[2],ce:e.Ot[3],st:NaN,re:NaN,ne:NaN,se:NaN,he:NaN}}Es(){const t=this.Ts.Ls();this.ks=this.Ts.Ln().Us().map(e=>this.qs(e.Ys,e,t))}}class ly extends xp{constructor(){super(...arguments),this.Bs=new hy}qs(t,e,i){return Object.assign(Object.assign({},this.ae(t,e,i)),i.As(t))}Ws(){const t=this.Ts.F();this.Bs.tt({Ln:this.ks,Ks:this.Ps.yt().Ks(),ee:t.openVisible,te:t.thinBars,it:this.Cs})}}function Vh(s,t,e){return Math.min(Math.max(s,t),e)}function _h(s,t,e){return t-s<=e}function Cp(s){return s<=0?NaN:Math.log(s)/Math.log(10)}function Ep(s){const t=Math.ceil(s);return t%2==0?t-1:t}class uy extends _p{constructor(){super(...arguments),this.vs=null}ps(t,e){var i;const{context:r,mediaSize:h}=t,l=this.J,{de:a,fe:c,pe:d,ve:f}=e,g=(i=l.ds)!==null&&i!==void 0?i:h.height,m=h.height;if(this.vs!==null&&this.vs.topFillColor1===a&&this.vs.topFillColor2===c&&this.vs.bottomFillColor1===d&&this.vs.bottomFillColor2===f&&this.vs.baseLevelCoordinate===g&&this.vs.bottom===m)return this.vs.fillStyle;const b=r.createLinearGradient(0,0,0,m),_=Vh(g/m,0,1);return b.addColorStop(0,a),b.addColorStop(_,c),b.addColorStop(_,d),b.addColorStop(1,f),this.vs={topFillColor1:a,topFillColor2:c,bottomFillColor1:d,bottomFillColor2:f,fillStyle:b,baseLevelCoordinate:g,bottom:m},b}}class ay extends wp{constructor(){super(...arguments),this.me=null}ws(t,e){const{context:i,mediaSize:r}=t,h=this.J,{be:l,ge:a}=e,{ds:c}=h,d=r.height;if(this.me!==null&&this.me.topLineColor===l&&this.me.bottomLineColor===a&&this.me.baseLevelCoordinate===c&&this.me.bottom===d)return this.me.strokeStyle;const f=i.createLinearGradient(0,0,0,d),g=Vh(c/d,0,1);return f.addColorStop(0,l),f.addColorStop(g,l),f.addColorStop(g,a),f.addColorStop(1,a),this.me={topLineColor:l,bottomLineColor:a,strokeStyle:f,baseLevelCoordinate:c,bottom:d},f}}class cy extends $h{constructor(t,e){super(t,e),this.Bs=new Zu,this.we=new uy,this.Me=new ay,this.Bs.Y([this.we,this.Me])}qs(t,e,i){return Object.assign(Object.assign({},this.Hs(t,e)),i.As(t))}Ws(){const t=this.Ts.Tt();if(t===null)return;const e=this.Ts.F(),i=this.Ts.Bt().Dt(e.baseValue.price,t.Ot),r=this.Ps.yt().Ks();this.we.tt({nt:this.ks,rt:e.lineWidth,Ft:e.lineStyle,cs:e.lineType,ds:i,fs:!1,it:this.Cs,us:r}),this.Me.tt({nt:this.ks,rt:e.lineWidth,Ft:e.lineStyle,cs:e.lineType,ds:i,it:this.Cs,us:r})}}class fy extends Us{constructor(){super(...arguments),this.Vt=null,this.Gs=0}tt(t){this.Vt=t}Z(t){if(this.Vt===null||this.Vt.Ln.length===0||this.Vt.it===null)return;const{horizontalPixelRatio:e}=t;this.Gs=function(h,l){if(h>=2.5&&h<=4)return Math.floor(3*l);const a=1-.2*Math.atan(Math.max(4,h)-4)/(.5*Math.PI),c=Math.floor(h*a*l),d=Math.floor(h*l),f=Math.min(c,d);return Math.max(Math.floor(l),f)}(this.Vt.Ks,e),this.Gs>=2&&Math.floor(e)%2!=this.Gs%2&&this.Gs--;const i=this.Vt.Ln;this.Vt.Se&&this.xe(t,i,this.Vt.it),this.Vt.ui&&this.ye(t,i,this.Vt.it);const r=this.ke(e);(!this.Vt.ui||this.Gs>2*r)&&this.Ce(t,i,this.Vt.it)}xe(t,e,i){if(this.Vt===null)return;const{context:r,horizontalPixelRatio:h,verticalPixelRatio:l}=t;let a="",c=Math.min(Math.floor(h),Math.floor(this.Vt.Ks*h));c=Math.max(Math.floor(h),Math.min(c,this.Gs));const d=Math.floor(.5*c);let f=null;for(let g=i.from;g<i.to;g++){const m=e[g];m.Te!==a&&(r.fillStyle=m.Te,a=m.Te);const b=Math.round(Math.min(m.re,m.he)*l),_=Math.round(Math.max(m.re,m.he)*l),S=Math.round(m.ne*l),R=Math.round(m.se*l);let k=Math.round(h*m.st)-d;const L=k+c-1;f!==null&&(k=Math.max(f+1,k),k=Math.min(k,L));const G=L-k+1;r.fillRect(k,S,G,b-S),r.fillRect(k,_+1,G,R-_),f=L}}ke(t){let e=Math.floor(1*t);this.Gs<=2*e&&(e=Math.floor(.5*(this.Gs-1)));const i=Math.max(Math.floor(t),e);return this.Gs<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}ye(t,e,i){if(this.Vt===null)return;const{context:r,horizontalPixelRatio:h,verticalPixelRatio:l}=t;let a="";const c=this.ke(h);let d=null;for(let f=i.from;f<i.to;f++){const g=e[f];g.Pe!==a&&(r.fillStyle=g.Pe,a=g.Pe);let m=Math.round(g.st*h)-Math.floor(.5*this.Gs);const b=m+this.Gs-1,_=Math.round(Math.min(g.re,g.he)*l),S=Math.round(Math.max(g.re,g.he)*l);if(d!==null&&(m=Math.max(d+1,m),m=Math.min(m,b)),this.Vt.Ks*h>2*c)Kb(r,m,_,b-m+1,S-_+1,c);else{const R=b-m+1;r.fillRect(m,_,R,S-_+1)}d=b}}Ce(t,e,i){if(this.Vt===null)return;const{context:r,horizontalPixelRatio:h,verticalPixelRatio:l}=t;let a="";const c=this.ke(h);for(let d=i.from;d<i.to;d++){const f=e[d];let g=Math.round(Math.min(f.re,f.he)*l),m=Math.round(Math.max(f.re,f.he)*l),b=Math.round(f.st*h)-Math.floor(.5*this.Gs),_=b+this.Gs-1;if(f.ie!==a){const S=f.ie;r.fillStyle=S,a=S}this.Vt.ui&&(b+=c,g+=c,_-=c,m-=c),g>m||r.fillRect(b,g,_-b+1,m-g+1)}}}class dy extends xp{constructor(){super(...arguments),this.Bs=new fy}qs(t,e,i){return Object.assign(Object.assign({},this.ae(t,e,i)),i.As(t))}Ws(){const t=this.Ts.F();this.Bs.tt({Ln:this.ks,Ks:this.Ps.yt().Ks(),Se:t.wickVisible,ui:t.borderVisible,it:this.Cs})}}class py extends Us{constructor(){super(...arguments),this.Vt=null,this.Re=[]}tt(t){this.Vt=t,this.Re=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.Vt===null||this.Vt.nt.length===0||this.Vt.it===null)return;this.Re.length||this.De(e);const r=Math.max(1,Math.floor(i)),h=Math.round(this.Vt.Be*i)-Math.floor(r/2),l=h+r;for(let a=this.Vt.it.from;a<this.Vt.it.to;a++){const c=this.Vt.nt[a],d=this.Re[a-this.Vt.it.from],f=Math.round(c.et*i);let g,m;t.fillStyle=c.ie,f<=h?(g=f,m=l):(g=h,m=f-Math.floor(r/2)+r),t.fillRect(d.Ms,g,d.ci-d.Ms+1,m-g)}}De(t){if(this.Vt===null||this.Vt.nt.length===0||this.Vt.it===null)return void(this.Re=[]);const e=Math.ceil(this.Vt.Ks*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Vt.Ks*t)-e;this.Re=new Array(this.Vt.it.to-this.Vt.it.from);for(let h=this.Vt.it.from;h<this.Vt.it.to;h++){const l=this.Vt.nt[h],a=Math.round(l.st*t);let c,d;if(i%2){const f=(i-1)/2;c=a-f,d=a+f}else{const f=i/2;c=a-f,d=a+f-1}this.Re[h-this.Vt.it.from]={Ms:c,ci:d,Oe:a,Ae:l.st*t,_t:l._t}}for(let h=this.Vt.it.from+1;h<this.Vt.it.to;h++){const l=this.Re[h-this.Vt.it.from],a=this.Re[h-this.Vt.it.from-1];l._t===a._t+1&&l.Ms-a.ci!==e+1&&(a.Oe>a.Ae?a.ci=l.Ms-e-1:l.Ms=a.ci+e+1)}let r=Math.ceil(this.Vt.Ks*t);for(let h=this.Vt.it.from;h<this.Vt.it.to;h++){const l=this.Re[h-this.Vt.it.from];l.ci<l.Ms&&(l.ci=l.Ms);const a=l.ci-l.Ms+1;r=Math.min(a,r)}if(e>0&&r<4)for(let h=this.Vt.it.from;h<this.Vt.it.to;h++){const l=this.Re[h-this.Vt.it.from];l.ci-l.Ms+1>r&&(l.Oe>l.Ae?l.ci-=1:l.Ms+=1)}}}class gy extends $h{constructor(){super(...arguments),this.Bs=new py}qs(t,e,i){return Object.assign(Object.assign({},this.Hs(t,e)),i.As(t))}Ws(){const t={nt:this.ks,Ks:this.Ps.yt().Ks(),it:this.Cs,Be:this.Ts.Bt().Dt(this.Ts.F().base,Y(this.Ts.Tt()).Ot)};this.Bs.tt(t)}}class my extends $h{constructor(){super(...arguments),this.Bs=new bp}qs(t,e,i){return Object.assign(Object.assign({},this.Hs(t,e)),i.As(t))}Ws(){const t=this.Ts.F(),e={nt:this.ks,Ft:t.lineStyle,cs:t.lineType,rt:t.lineWidth,it:this.Cs,us:this.Ps.yt().Ks()};this.Bs.tt(e)}}const vy=/[2-9]/g;class mo{constructor(t=50){this.Le=0,this.Ie=1,this.Ee=1,this.Ve={},this.ze=new Map,this.Ne=t}Fe(){this.Le=0,this.ze.clear(),this.Ie=1,this.Ee=1,this.Ve={}}Si(t,e,i){return this.We(t,e,i).width}Mi(t,e,i){const r=this.We(t,e,i);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}We(t,e,i){const r=i||vy,h=String(e).replace(r,"0");if(this.ze.has(h))return mi(this.ze.get(h)).je;if(this.Le===this.Ne){const a=this.Ve[this.Ee];delete this.Ve[this.Ee],this.ze.delete(a),this.Ee++,this.Le--}t.save(),t.textBaseline="middle";const l=t.measureText(h);return t.restore(),l.width===0&&e.length||(this.ze.set(h,{je:l,$e:this.Ie}),this.Ve[this.Ie]=h,this.Le++,this.Ie++),l}}class _y{constructor(t){this.He=null,this.S=null,this.Ue="right",this.qe=t}Ye(t,e,i){this.He=t,this.S=e,this.Ue=i}X(t){this.S!==null&&this.He!==null&&this.He.X(t,this.S,this.qe,this.Ue)}}class Tp{constructor(t,e,i){this.Xe=t,this.qe=new mo(50),this.Ze=e,this.N=i,this.W=-1,this.jt=new _y(this.qe)}Mt(){const t=this.N.Ke(this.Ze);if(t===null)return null;const e=t.Ge(this.Ze)?t.Je():this.Ze.Bt();if(e===null)return null;const i=t.Qe(e);if(i==="overlay")return null;const r=this.N.tr();return r.T!==this.W&&(this.W=r.T,this.qe.Fe()),this.jt.Ye(this.Xe.Ii(),r,i),this.jt}}class wy extends Us{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}ir(t,e){var i;if(!(!((i=this.Vt)===null||i===void 0)&&i.Ct))return null;const{et:r,rt:h,nr:l}=this.Vt;return e>=r-h-7&&e<=r+h+7?{sr:this.Vt,nr:l}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Vt===null||this.Vt.Ct===!1)return;const h=Math.round(this.Vt.et*r);h<0||h>e.height||(t.lineCap="butt",t.strokeStyle=this.Vt.D,t.lineWidth=Math.floor(this.Vt.rt*i),Ls(t,this.Vt.Ft),dp(t,h,0,e.width))}}class ta{constructor(t){this.er={et:0,D:"rgba(0, 0, 0, 0)",rt:1,Ft:0,Ct:!1},this.rr=new wy,this.vt=!0,this.Ts=t,this.Ps=t.Ut(),this.rr.tt(this.er)}gt(){this.vt=!0}Mt(){return this.Ts.Ct()?(this.vt&&(this.hr(),this.vt=!1),this.rr):null}}class by extends ta{constructor(t){super(t)}hr(){this.er.Ct=!1;const t=this.Ts.Bt(),e=t.lr().lr;if(e!==2&&e!==3)return;const i=this.Ts.F();if(!i.baseLineVisible||!this.Ts.Ct())return;const r=this.Ts.Tt();r!==null&&(this.er.Ct=!0,this.er.et=t.Dt(r.Ot,r.Ot),this.er.D=i.baseLineColor,this.er.rt=i.baseLineWidth,this.er.Ft=i.baseLineStyle)}}class yy extends Us{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}ar(){return this.Vt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const r=this.Vt;if(r===null)return;const h=Math.max(1,Math.floor(e)),l=h%2/2,a=Math.round(r.Ae.x*e)+l,c=r.Ae.y*i;t.fillStyle=r._r,t.beginPath();const d=Math.max(2,1.5*r.ur)*e;t.arc(a,c,d,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.cr,t.beginPath(),t.arc(a,c,r.lt*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=h,t.strokeStyle=r.dr,t.beginPath(),t.arc(a,c,r.lt*e+h/2,0,2*Math.PI,!1),t.stroke()}}const Sy=[{pr:0,vr:.25,mr:4,br:10,gr:.25,wr:0,Mr:.4,Sr:.8},{pr:.25,vr:.525,mr:10,br:14,gr:0,wr:0,Mr:.8,Sr:0},{pr:.525,vr:1,mr:14,br:14,gr:0,wr:0,Mr:0,Sr:0}];function Ff(s,t,e,i){return function(r,h){if(r==="transparent")return r;const l=Dh(r),a=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${h*a})`}(s,e+(i-e)*t)}function Bf(s,t){const e=s%2600/2600;let i;for(const c of Sy)if(e>=c.pr&&e<=c.vr){i=c;break}Vs(i!==void 0,"Last price animation internal logic error");const r=(e-i.pr)/(i.vr-i.pr);return{cr:Ff(t,r,i.gr,i.wr),dr:Ff(t,r,i.Mr,i.Sr),lt:(h=r,l=i.mr,a=i.br,l+(a-l)*h)};var h,l,a}class My{constructor(t){this.jt=new yy,this.vt=!0,this.yr=!0,this.kr=performance.now(),this.Cr=this.kr-1,this.Tr=t}Pr(){this.Cr=this.kr-1,this.gt()}Rr(){if(this.gt(),this.Tr.F().lastPriceAnimation===2){const t=performance.now(),e=this.Cr-t;if(e>0)return void(e<650&&(this.Cr+=2600));this.kr=t,this.Cr=t+2600}}gt(){this.vt=!0}Dr(){this.yr=!0}Ct(){return this.Tr.F().lastPriceAnimation!==0}Br(){switch(this.Tr.F().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Cr}}Mt(){return this.vt?(this.St(),this.vt=!1,this.yr=!1):this.yr&&(this.Or(),this.yr=!1),this.jt}St(){this.jt.tt(null);const t=this.Tr.Ut().yt(),e=t.zs(),i=this.Tr.Tt();if(e===null||i===null)return;const r=this.Tr.Ar(!0);if(r.Lr||!e.Ir(r.Ys))return;const h={x:t.Et(r.Ys),y:this.Tr.Bt().Dt(r.ut,i.Ot)},l=r.D,a=this.Tr.F().lineWidth,c=Bf(this.Er(),l);this.jt.tt({_r:l,ur:a,cr:c.cr,dr:c.dr,lt:c.lt,Ae:h})}Or(){const t=this.jt.ar();if(t!==null){const e=Bf(this.Er(),t._r);t.cr=e.cr,t.dr=e.dr,t.lt=e.lt}}Er(){return this.Br()?performance.now()-this.kr:2599}}function ao(s,t){return Ep(Math.min(Math.max(s,12),30)*t)}function vo(s,t){switch(s){case"arrowDown":case"arrowUp":return ao(t,1);case"circle":return ao(t,.8);case"square":return ao(t,.7)}}function Rp(s){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(ao(s,1))}function kf(s){return Math.max(ao(s,.1),3)}function Op(s,t,e,i,r){const h=vo("square",e),l=(h-1)/2,a=s-l,c=t-l;return i>=a&&i<=a+h&&r>=c&&r<=c+h}function Df(s,t,e,i,r){const h=(vo("arrowUp",r)-1)/2,l=(Ep(r/2)-1)/2;t.beginPath(),s?(t.moveTo(e-h,i),t.lineTo(e,i-h),t.lineTo(e+h,i),t.lineTo(e+l,i),t.lineTo(e+l,i+h),t.lineTo(e-l,i+h),t.lineTo(e-l,i)):(t.moveTo(e-h,i),t.lineTo(e,i+h),t.lineTo(e+h,i),t.lineTo(e+l,i),t.lineTo(e+l,i-h),t.lineTo(e-l,i-h),t.lineTo(e-l,i)),t.fill()}function xy(s,t,e,i,r,h){return Op(t,e,i,r,h)}class Cy extends So{constructor(){super(...arguments),this.Vt=null,this.qe=new mo,this.W=-1,this.j="",this.Vr=""}tt(t){this.Vt=t}Ye(t,e){this.W===t&&this.j===e||(this.W=t,this.j=e,this.Vr=Er(t,e),this.qe.Fe())}ir(t,e){if(this.Vt===null||this.Vt.it===null)return null;for(let i=this.Vt.it.from;i<this.Vt.it.to;i++){const r=this.Vt.nt[i];if(Ty(r,t,e))return{sr:r.zr,nr:r.nr}}return null}Z({context:t},e,i){if(this.Vt!==null&&this.Vt.it!==null){t.textBaseline="middle",t.font=this.Vr;for(let r=this.Vt.it.from;r<this.Vt.it.to;r++){const h=this.Vt.nt[r];h.Gt!==void 0&&(h.Gt.$i=this.qe.Si(t,h.Gt.Nr),h.Gt.It=this.W),Ey(h,t)}}}}function Ey(s,t){t.fillStyle=s.D,s.Gt!==void 0&&function(e,i,r,h){e.fillText(i,r,h)}(t,s.Gt.Nr,s.st-s.Gt.$i/2,s.Gt.et),function(e,i){if(e.Ns!==0){switch(e.Fr){case"arrowDown":return void Df(!1,i,e.st,e.et,e.Ns);case"arrowUp":return void Df(!0,i,e.st,e.et,e.Ns);case"circle":return void function(r,h,l,a){const c=(vo("circle",a)-1)/2;r.beginPath(),r.arc(h,l,c,0,2*Math.PI,!1),r.fill()}(i,e.st,e.et,e.Ns);case"square":return void function(r,h,l,a){const c=vo("square",a),d=(c-1)/2,f=h-d,g=l-d;r.fillRect(f,g,c,c)}(i,e.st,e.et,e.Ns)}e.Fr}}(s,t)}function Ty(s,t,e){return!(s.Gt===void 0||!function(i,r,h,l,a,c){const d=l/2;return a>=i&&a<=i+h&&c>=r-d&&c<=r+d}(s.st,s.Gt.et,s.Gt.$i,s.Gt.It,t,e))||function(i,r,h){if(i.Ns===0)return!1;switch(i.Fr){case"arrowDown":case"arrowUp":return xy(0,i.st,i.et,i.Ns,r,h);case"circle":return function(l,a,c,d,f){const g=2+vo("circle",c)/2,m=l-d,b=a-f;return Math.sqrt(m*m+b*b)<=g}(i.st,i.et,i.Ns,r,h);case"square":return Op(i.st,i.et,i.Ns,r,h)}}(s,t,e)}function Ry(s,t,e,i,r,h,l,a,c){const d=Xi(e)?e:e.ce,f=Xi(e)?e:e._e,g=Xi(e)?e:e.ue,m=Xi(t.size)?Math.max(t.size,0):1,b=Rp(a.Ks())*m,_=b/2;switch(s.Ns=b,t.position){case"inBar":return s.et=l.Dt(d,c),void(s.Gt!==void 0&&(s.Gt.et=s.et+_+h+.6*r));case"aboveBar":return s.et=l.Dt(f,c)-_-i.Wr,s.Gt!==void 0&&(s.Gt.et=s.et-_-.6*r,i.Wr+=1.2*r),void(i.Wr+=b+h);case"belowBar":return s.et=l.Dt(g,c)+_+i.jr,s.Gt!==void 0&&(s.Gt.et=s.et+_+h+.6*r,i.jr+=1.2*r),void(i.jr+=b+h)}t.position}class Oy{constructor(t,e){this.vt=!0,this.$r=!0,this.Hr=!0,this.Ur=null,this.jt=new Cy,this.Tr=t,this.Hi=e,this.Vt={nt:[],it:null}}gt(t){this.vt=!0,this.Hr=!0,t==="data"&&(this.$r=!0)}Mt(t){if(!this.Tr.Ct())return null;this.vt&&this.qr();const e=this.Hi.F().layout;return this.jt.Ye(e.fontSize,e.fontFamily),this.jt.tt(this.Vt),this.jt}Yr(){if(this.Hr){if(this.Tr.Xr().length>0){const t=this.Hi.yt().Ks(),e=kf(t),i=1.5*Rp(t)+2*e;this.Ur={above:i,below:i}}else this.Ur=null;this.Hr=!1}return this.Ur}qr(){const t=this.Tr.Bt(),e=this.Hi.yt(),i=this.Tr.Xr();this.$r&&(this.Vt.nt=i.map(f=>({_t:f.time,st:0,et:0,Ns:0,Fr:f.shape,D:f.color,zr:f.internalId,nr:f.id,Gt:void 0})),this.$r=!1);const r=this.Hi.F().layout;this.Vt.it=null;const h=e.zs();if(h===null)return;const l=this.Tr.Tt();if(l===null||this.Vt.nt.length===0)return;let a=NaN;const c=kf(e.Ks()),d={Wr:c,jr:c};this.Vt.it=Sp(this.Vt.nt,h,!0);for(let f=this.Vt.it.from;f<this.Vt.it.to;f++){const g=i[f];g.time!==a&&(d.Wr=c,d.jr=c,a=g.time);const m=this.Vt.nt[f];m.st=e.Et(g.time),g.text!==void 0&&g.text.length>0&&(m.Gt={Nr:g.text,et:0,$i:0,It:0});const b=this.Tr.Zr(g.time);b!==null&&Ry(m,g,b,d,r.fontSize,c,t,e,l.Ot)}this.vt=!1}}class Iy extends ta{constructor(t){super(t)}hr(){const t=this.er;t.Ct=!1;const e=this.Ts.F();if(!e.priceLineVisible||!this.Ts.Ct())return;const i=this.Ts.Ar(e.priceLineSource===0);i.Lr||(t.Ct=!0,t.et=i.yi,t.D=this.Ts.Kr(i.D),t.rt=e.priceLineWidth,t.Ft=e.priceLineStyle)}}class Ay extends Qu{constructor(t){super(),this.$t=t}Ei(t,e,i){t.Ct=!1,e.Ct=!1;const r=this.$t;if(!r.Ct())return;const h=r.F(),l=h.lastValueVisible,a=r.Gr()!=="",c=h.seriesLastValueMode===0,d=r.Ar(!1);if(d.Lr)return;l&&(t.Gt=this.Jr(d,l,c),t.Ct=t.Gt.length!==0),(a||c)&&(e.Gt=this.Qr(d,l,a,c),e.Ct=e.Gt.length>0);const f=r.Kr(d.D),g=Jh(f);i.t=g.t,i.D=g.i,i.yi=d.yi,e.At=r.Ut().Lt(d.yi/r.Bt().It()),t.At=f,t.D=i.D,e.D=i.D}Qr(t,e,i,r){let h="";const l=this.$t.Gr();return i&&l.length!==0&&(h+=`${l} `),e&&r&&(h+=this.$t.Bt().th()?t.ih:t.nh),h.trim()}Jr(t,e,i){return e?i?this.$t.Bt().th()?t.nh:t.ih:t.Gt:""}}class Je{constructor(t,e){this.sh=t,this.eh=e}rh(t){return t!==null&&this.sh===t.sh&&this.eh===t.eh}hh(){return new Je(this.sh,this.eh)}lh(){return this.sh}ah(){return this.eh}oh(){return this.eh-this.sh}Ni(){return this.eh===this.sh||Number.isNaN(this.eh)||Number.isNaN(this.sh)}Qn(t){return t===null?this:new Je(Math.min(this.lh(),t.lh()),Math.max(this.ah(),t.ah()))}_h(t){if(!Xi(t)||this.eh-this.sh===0)return;const e=.5*(this.eh+this.sh);let i=this.eh-e,r=this.sh-e;i*=t,r*=t,this.eh=e+i,this.sh=e+r}uh(t){Xi(t)&&(this.eh+=t,this.sh+=t)}dh(){return{minValue:this.sh,maxValue:this.eh}}static fh(t){return t===null?null:new Je(t.minValue,t.maxValue)}}class Uh{constructor(t,e){this.ph=t,this.mh=e||null}bh(){return this.ph}gh(){return this.mh}dh(){return this.ph===null?null:{priceRange:this.ph.dh(),margins:this.mh||void 0}}static fh(t){return t===null?null:new Uh(Je.fh(t.priceRange),t.margins)}}class Py extends ta{constructor(t,e){super(t),this.wh=e}hr(){const t=this.er;t.Ct=!1;const e=this.wh.F();if(!this.Ts.Ct()||!e.lineVisible)return;const i=this.wh.Mh();i!==null&&(t.Ct=!0,t.et=i,t.D=e.color,t.rt=e.lineWidth,t.Ft=e.lineStyle,t.nr=this.wh.F().id)}}class Ly extends Qu{constructor(t,e){super(),this.Tr=t,this.wh=e}Ei(t,e,i){t.Ct=!1,e.Ct=!1;const r=this.wh.F(),h=r.axisLabelVisible,l=r.title!=="",a=this.Tr;if(!h||!a.Ct())return;const c=this.wh.Mh();if(c===null)return;l&&(e.Gt=r.title,e.Ct=!0),e.At=a.Ut().Lt(c/a.Bt().It()),t.Gt=this.Sh(r.price),t.Ct=!0;const d=Jh(r.color);i.t=d.t,i.D=d.i,i.yi=c}Sh(t){const e=this.Tr.Tt();return e===null?"":this.Tr.Bt().Fi(t,e.Ot)}}class Ny{constructor(t,e){this.Tr=t,this.un=e,this.xh=new Py(t,this),this.Xe=new Ly(t,this),this.yh=new Tp(this.Xe,t,t.Ut())}kh(t){Qi(this.un,t),this.gt(),this.Tr.Ut().Ch()}F(){return this.un}Th(){return this.xh}Ph(){return this.yh}Rh(){return this.Xe}gt(){this.xh.gt(),this.Xe.gt()}Mh(){const t=this.Tr,e=t.Bt();if(t.Ut().yt().Ni()||e.Ni())return null;const i=t.Tt();return i===null?null:e.Dt(this.un.price,i.Ot)}}class Fy extends $u{constructor(t){super(),this.Hi=t}Ut(){return this.Hi}}const By={Bar:(s,t,e,i)=>{var r;const h=t.upColor,l=t.downColor,a=Y(s(e,i)),c=oo(a.Ot[0])<=oo(a.Ot[3]);return{ie:(r=a.D)!==null&&r!==void 0?r:c?h:l}},Candlestick:(s,t,e,i)=>{var r,h,l;const a=t.upColor,c=t.downColor,d=t.borderUpColor,f=t.borderDownColor,g=t.wickUpColor,m=t.wickDownColor,b=Y(s(e,i)),_=oo(b.Ot[0])<=oo(b.Ot[3]);return{ie:(r=b.D)!==null&&r!==void 0?r:_?a:c,Pe:(h=b.At)!==null&&h!==void 0?h:_?d:f,Te:(l=b.Dh)!==null&&l!==void 0?l:_?g:m}},Area:(s,t,e,i)=>{var r,h,l,a;const c=Y(s(e,i));return{ie:(r=c.ot)!==null&&r!==void 0?r:t.lineColor,ot:(h=c.ot)!==null&&h!==void 0?h:t.lineColor,bs:(l=c.bs)!==null&&l!==void 0?l:t.topColor,gs:(a=c.gs)!==null&&a!==void 0?a:t.bottomColor}},Baseline:(s,t,e,i)=>{var r,h,l,a,c,d;const f=Y(s(e,i));return{ie:f.Ot[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,be:(r=f.be)!==null&&r!==void 0?r:t.topLineColor,ge:(h=f.ge)!==null&&h!==void 0?h:t.bottomLineColor,de:(l=f.de)!==null&&l!==void 0?l:t.topFillColor1,fe:(a=f.fe)!==null&&a!==void 0?a:t.topFillColor2,pe:(c=f.pe)!==null&&c!==void 0?c:t.bottomFillColor1,ve:(d=f.ve)!==null&&d!==void 0?d:t.bottomFillColor2}},Line:(s,t,e,i)=>{var r,h;const l=Y(s(e,i));return{ie:(r=l.D)!==null&&r!==void 0?r:t.color,ot:(h=l.D)!==null&&h!==void 0?h:t.color}},Histogram:(s,t,e,i)=>{var r;return{ie:(r=Y(s(e,i)).D)!==null&&r!==void 0?r:t.color}}};class ky{constructor(t){this.Bh=(e,i)=>i!==void 0?i.Ot:this.Tr.Ln().Oh(e),this.Tr=t,this.Ah=By[t.Lh()]}As(t,e){return this.Ah(this.Bh,this.Tr.F(),t,e)}}var zf;(function(s){s[s.NearestLeft=-1]="NearestLeft",s[s.None=0]="None",s[s.NearestRight=1]="NearestRight"})(zf||(zf={}));const Jn=30;class Dy{constructor(){this.Ih=[],this.Eh=new Map,this.Vh=new Map}zh(){return this.Ns()>0?this.Ih[this.Ih.length-1]:null}Nh(){return this.Ns()>0?this.Fh(0):null}An(){return this.Ns()>0?this.Fh(this.Ih.length-1):null}Ns(){return this.Ih.length}Ni(){return this.Ns()===0}Ir(t){return this.Wh(t,0)!==null}Oh(t){return this.jh(t)}jh(t,e=0){const i=this.Wh(t,e);return i===null?null:Object.assign(Object.assign({},this.$h(i)),{Ys:this.Fh(i)})}Us(){return this.Ih}Hh(t,e,i){if(this.Ni())return null;let r=null;for(const h of i)r=wh(r,this.Uh(t,e,h));return r}tt(t){this.Vh.clear(),this.Eh.clear(),this.Ih=t}Fh(t){return this.Ih[t].Ys}$h(t){return this.Ih[t]}Wh(t,e){const i=this.qh(t);if(i===null&&e!==0)switch(e){case-1:return this.Yh(t);case 1:return this.Xh(t);default:throw new TypeError("Unknown search mode")}return i}Yh(t){let e=this.Zh(t);return e>0&&(e-=1),e!==this.Ih.length&&this.Fh(e)<t?e:null}Xh(t){const e=this.Kh(t);return e!==this.Ih.length&&t<this.Fh(e)?e:null}qh(t){const e=this.Zh(t);return e===this.Ih.length||t<this.Ih[e].Ys?null:e}Zh(t){return Mo(this.Ih,t,(e,i)=>e.Ys<i)}Kh(t){return yp(this.Ih,t,(e,i)=>i.Ys>e)}Gh(t,e,i){let r=null;for(let h=t;h<e;h++){const l=this.Ih[h].Ot[i];Number.isNaN(l)||(r===null?r={Jh:l,Qh:l}:(l<r.Jh&&(r.Jh=l),l>r.Qh&&(r.Qh=l)))}return r}Uh(t,e,i){if(this.Ni())return null;let r=null;const h=Y(this.Nh()),l=Y(this.An()),a=Math.max(t,h),c=Math.min(e,l),d=Math.ceil(a/Jn)*Jn,f=Math.max(d,Math.floor(c/Jn)*Jn);{const m=this.Zh(a),b=this.Kh(Math.min(c,d,e));r=wh(r,this.Gh(m,b,i))}let g=this.Eh.get(i);g===void 0&&(g=new Map,this.Eh.set(i,g));for(let m=Math.max(d+1,a);m<f;m+=Jn){const b=Math.floor(m/Jn);let _=g.get(b);if(_===void 0){const S=this.Zh(b*Jn),R=this.Kh((b+1)*Jn-1);_=this.Gh(S,R,i),g.set(b,_)}r=wh(r,_)}{const m=this.Zh(f),b=this.Kh(c);r=wh(r,this.Gh(m,b,i))}return r}}function wh(s,t){return s===null?t:t===null?s:{Jh:Math.min(s.Jh,t.Jh),Qh:Math.max(s.Qh,t.Qh)}}class ea extends Fy{constructor(t,e,i){super(t),this.Vt=new Dy,this.xh=new Iy(this),this.tl=[],this.il=new by(this),this.nl=null,this.sl=null,this.el=[],this.rl=[],this.hl=null,this.un=e,this.ll=i;const r=new Ay(this);this.rn=[r],this.yh=new Tp(r,this,t),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.nl=new My(this)),this.al(),this.ol()}M(){this.hl!==null&&clearTimeout(this.hl)}Kr(t){return this.un.priceLineColor||t}Ar(t){const e={Lr:!0},i=this.Bt();if(this.Ut().yt().Ni()||i.Ni()||this.Vt.Ni())return e;const r=this.Ut().yt().zs(),h=this.Tt();if(r===null||h===null)return e;let l,a;if(t){const g=this.Vt.zh();if(g===null)return e;l=g,a=g.Ys}else{const g=this.Vt.jh(r.ci(),-1);if(g===null||(l=this.Vt.Oh(g.Ys),l===null))return e;a=g.Ys}const c=l.Ot[3],d=this.Ls().As(a,{Ot:l}),f=i.Dt(c,h.Ot);return{Lr:!1,ut:c,Gt:i.Fi(c,h.Ot),ih:i._l(c),nh:i.ul(c,h.Ot),D:d.ie,yi:f,Ys:a}}Ls(){return this.sl!==null||(this.sl=new ky(this)),this.sl}F(){return this.un}kh(t){const e=t.priceScaleId;e!==void 0&&e!==this.un.priceScaleId&&this.Ut().cl(this,e),Qi(this.un,t),t.priceFormat!==void 0&&(this.al(),this.Ut().dl()),this.Ut().fl(this),this.Ut().pl(),this.bn.gt("options")}tt(t,e){this.Vt.tt(t),this.vl(),this.bn.gt("data"),this.cn.gt("data"),this.nl!==null&&(e&&e.ml?this.nl.Rr():t.length===0&&this.nl.Pr());const i=this.Ut().Ke(this);this.Ut().bl(i),this.Ut().fl(this),this.Ut().pl(),this.Ut().Ch()}gl(t){this.el=t,this.vl();const e=this.Ut().Ke(this);this.cn.gt("data"),this.Ut().bl(e),this.Ut().fl(this),this.Ut().pl(),this.Ut().Ch()}wl(){return this.el}Xr(){return this.rl}Ml(t){const e=new Ny(this,t);return this.tl.push(e),this.Ut().fl(this),e}Sl(t){const e=this.tl.indexOf(t);e!==-1&&this.tl.splice(e,1),this.Ut().fl(this)}Lh(){return this.ll}Tt(){const t=this.xl();return t===null?null:{Ot:t.Ot[3],yl:t._t}}xl(){const t=this.Ut().yt().zs();if(t===null)return null;const e=t.Ms();return this.Vt.jh(e,1)}Ln(){return this.Vt}Zr(t){const e=this.Vt.Oh(t);return e===null?null:this.ll==="Bar"||this.ll==="Candlestick"?{oe:e.Ot[0],_e:e.Ot[1],ue:e.Ot[2],ce:e.Ot[3]}:e.Ot[3]}kl(t){const e=this.nl;return e!==null&&e.Ct()?(this.hl===null&&e.Br()&&(this.hl=setTimeout(()=>{this.hl=null,this.Ut().Cl()},0)),e.Dr(),[e]):[]}Tn(){const t=[];this.Tl()||t.push(this.il),t.push(this.bn,this.xh,this.cn);const e=this.tl.map(i=>i.Th());return t.push(...e),t}Ji(t){return[this.yh,...this.tl.map(e=>e.Ph())]}Pn(t,e){if(e!==this.Yi&&!this.Tl())return[];const i=[...this.rn];for(const r of this.tl)i.push(r.Rh());return i}Pl(t,e){if(this.un.autoscaleInfoProvider!==void 0){const i=this.un.autoscaleInfoProvider(()=>{const r=this.Rl(t,e);return r===null?null:r.dh()});return Uh.fh(i)}return this.Rl(t,e)}Dl(){return this.un.priceFormat.minMove}Bl(){return this.Ol}Dn(){var t;this.bn.gt(),this.cn.gt();for(const e of this.rn)e.gt();for(const e of this.tl)e.gt();this.xh.gt(),this.il.gt(),(t=this.nl)===null||t===void 0||t.gt()}Bt(){return Y(super.Bt())}kt(t){if(!((this.ll==="Line"||this.ll==="Area"||this.ll==="Baseline")&&this.un.crosshairMarkerVisible))return null;const e=this.Vt.Oh(t);return e===null?null:{ut:e.Ot[3],lt:this.Al(),At:this.Ll(),Rt:this.Il(),Pt:this.El(t)}}Gr(){return this.un.title}Ct(){return this.un.visible}Tl(){return!Zh(this.Bt().Vl())}Rl(t,e){if(!go(t)||!go(e)||this.Vt.Ni())return null;const i=this.ll==="Line"||this.ll==="Area"||this.ll==="Baseline"||this.ll==="Histogram"?[3]:[2,1],r=this.Vt.Hh(t,e,i);let h=r!==null?new Je(r.Jh,r.Qh):null;if(this.Lh()==="Histogram"){const l=this.un.base,a=new Je(l,l);h=h!==null?h.Qn(a):a}return new Uh(h,this.cn.Yr())}Al(){switch(this.ll){case"Line":case"Area":case"Baseline":return this.un.crosshairMarkerRadius}return 0}Ll(){switch(this.ll){case"Line":case"Area":case"Baseline":{const t=this.un.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}Il(){switch(this.ll){case"Line":case"Area":case"Baseline":return this.un.crosshairMarkerBorderWidth}return 0}El(t){switch(this.ll){case"Line":case"Area":case"Baseline":{const e=this.un.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Ls().As(t).ie}al(){switch(this.un.priceFormat.type){case"custom":this.Ol={format:this.un.priceFormat.formatter};break;case"volume":this.Ol=new $b(this.un.priceFormat.precision);break;case"percent":this.Ol=new mp(this.un.priceFormat.precision);break;default:{const t=Math.pow(10,this.un.priceFormat.precision);this.Ol=new Qh(t,this.un.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.zl()}vl(){const t=this.Ut().yt();if(t.Ni()||this.Vt.Ns()===0)return void(this.rl=[]);const e=Y(this.Vt.Nh());this.rl=this.el.map((i,r)=>{const h=Y(t.Nl(i.time,!0)),l=h<e?1:-1;return{time:Y(this.Vt.jh(h,l)).Ys,position:i.position,shape:i.shape,color:i.color,id:i.id,internalId:r,text:i.text,size:i.size}})}ol(){switch(this.cn=new Oy(this,this.Ut()),this.ll){case"Bar":this.bn=new ly(this,this.Ut());break;case"Candlestick":this.bn=new dy(this,this.Ut());break;case"Line":this.bn=new my(this,this.Ut());break;case"Area":this.bn=new oy(this,this.Ut());break;case"Baseline":this.bn=new cy(this,this.Ut());break;case"Histogram":this.bn=new gy(this,this.Ut());break;default:throw Error("Unknown chart style assigned: "+this.ll)}}}class zy{constructor(t){this.un=t}Fl(t,e,i){let r=t;if(this.un.mode===0)return r;const h=i.fn(),l=h.Tt();if(l===null)return r;const a=h.Dt(t,l),c=i.Wl().filter(f=>f instanceof ea).reduce((f,g)=>{if(i.Ge(g)||!g.Ct())return f;const m=g.Bt(),b=g.Ln();if(m.Ni()||!b.Ir(e))return f;const _=b.Oh(e);if(_===null)return f;const S=oo(g.Tt());return f.concat([m.Dt(_.Ot[3],S.Ot)])},[]);if(c.length===0)return r;c.sort((f,g)=>Math.abs(f-a)-Math.abs(g-a));const d=c[0];return r=h.pn(d,l),r}}class Vy extends Us{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Vt===null)return;const h=Math.max(1,Math.floor(i));t.lineWidth=h,function(l,a){l.save(),l.lineWidth%2&&l.translate(.5,.5),a(),l.restore()}(t,()=>{const l=Y(this.Vt);if(l.jl){t.strokeStyle=l.$l,Ls(t,l.Hl),t.beginPath();for(const a of l.Ul){const c=Math.round(a.ql*i);t.moveTo(c,-h),t.lineTo(c,e.height+h)}t.stroke()}if(l.Yl){t.strokeStyle=l.Xl,Ls(t,l.Zl),t.beginPath();for(const a of l.Kl){const c=Math.round(a.ql*r);t.moveTo(-h,c),t.lineTo(e.width+h,c)}t.stroke()}})}}class Uy{constructor(t){this.jt=new Vy,this.vt=!0,this.tn=t}gt(){this.vt=!0}Mt(){if(this.vt){const t=this.tn.Ut().F().grid,e={Yl:t.horzLines.visible,jl:t.vertLines.visible,Xl:t.horzLines.color,$l:t.vertLines.color,Zl:t.horzLines.style,Hl:t.vertLines.style,Kl:this.tn.fn().Gl(),Ul:this.tn.Ut().yt().Gl()||[]};this.jt.tt(e),this.vt=!1}return this.jt}}class Hy{constructor(t){this.bn=new Uy(t)}Th(){return this.bn}}const wu={Jl:4,Ql:1e-4};function Sr(s,t){const e=100*(s-t)/t;return t<0?-e:e}function Wy(s,t){const e=Sr(s.lh(),t),i=Sr(s.ah(),t);return new Je(e,i)}function co(s,t){const e=100*(s-t)/t+100;return t<0?-e:e}function Gy(s,t){const e=co(s.lh(),t),i=co(s.ah(),t);return new Je(e,i)}function Hh(s,t){const e=Math.abs(s);if(e<1e-15)return 0;const i=Cp(e+t.Ql)+t.Jl;return s<0?-i:i}function fo(s,t){const e=Math.abs(s);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Jl)-t.Ql;return s<0?-i:i}function io(s,t){if(s===null)return null;const e=Hh(s.lh(),t),i=Hh(s.ah(),t);return new Je(e,i)}function bh(s,t){if(s===null)return null;const e=fo(s.lh(),t),i=fo(s.ah(),t);return new Je(e,i)}function bu(s){if(s===null)return wu;const t=Math.abs(s.ah()-s.lh());if(t>=1||t<1e-15)return wu;const e=Math.ceil(Math.abs(Math.log10(t))),i=wu.Jl+e;return{Jl:i,Ql:1/Math.pow(10,i)}}class yu{constructor(t,e){if(this.ta=t,this.ia=e,function(i){if(i<0)return!1;for(let r=i;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.ta))this.na=[2,2.5,2];else{this.na=[];for(let i=this.ta;i!==1;){if(i%2==0)this.na.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.na.push(2,2.5),i/=5}if(this.na.length>100)throw new Error("something wrong with base")}}}sa(t,e,i){const r=this.ta===0?0:1/this.ta;let h=Math.pow(10,Math.max(0,Math.ceil(Cp(t-e)))),l=0,a=this.ia[0];for(;;){const g=_h(h,r,1e-14)&&h>r+1e-14,m=_h(h,i*a,1e-14),b=_h(h,1,1e-14);if(!(g&&m&&b))break;h/=a,a=this.ia[++l%this.ia.length]}if(h<=r+1e-14&&(h=r),h=Math.max(1,h),this.na.length>0&&(c=h,d=1,f=1e-14,Math.abs(c-d)<f))for(l=0,a=this.na[0];_h(h,i*a,1e-14)&&h>r+1e-14;)h/=a,a=this.na[++l%this.na.length];var c,d,f;return h}}class Vf{constructor(t,e,i,r){this.ea=[],this.Vi=t,this.ta=e,this.ra=i,this.ha=r}sa(t,e){if(t<e)throw new Error("high < low");const i=this.Vi.It(),r=(t-e)*this.la()/i,h=new yu(this.ta,[2,2.5,2]),l=new yu(this.ta,[2,2,2.5]),a=new yu(this.ta,[2.5,2,2]),c=[];return c.push(h.sa(t,e,r),l.sa(t,e,r),a.sa(t,e,r)),function(d){if(d.length<1)throw Error("array is empty");let f=d[0];for(let g=1;g<d.length;++g)d[g]<f&&(f=d[g]);return f}(c)}aa(){const t=this.Vi,e=t.Tt();if(e===null)return void(this.ea=[]);const i=t.It(),r=this.ra(i-1,e),h=this.ra(0,e),l=this.Vi.F().entireTextOnly?this.oa()/2:0,a=l,c=i-1-l,d=Math.max(r,h),f=Math.min(r,h);if(d===f)return void(this.ea=[]);let g=this.sa(d,f),m=d%g;m+=m<0?g:0;const b=d>=f?1:-1;let _=null,S=0;for(let R=d-m;R>f;R-=g){const k=this.ha(R,e,!0);_!==null&&Math.abs(k-_)<this.la()||k<a||k>c||(S<this.ea.length?(this.ea[S].ql=k,this.ea[S]._a=t.ua(R)):this.ea.push({ql:k,_a:t.ua(R)}),S++,_=k,t.ca()&&(g=this.sa(R*b,f)))}this.ea.length=S}Gl(){return this.ea}oa(){return this.Vi.T()}la(){return Math.ceil(2.5*this.oa())}}function Ip(s){return s.slice().sort((t,e)=>Y(t.Zi())-Y(e.Zi()))}var Uf;(function(s){s[s.Normal=0]="Normal",s[s.Logarithmic=1]="Logarithmic",s[s.Percentage=2]="Percentage",s[s.IndexedTo100=3]="IndexedTo100"})(Uf||(Uf={}));const Hf=new mp,Wf=new Qh(100,1);class qy{constructor(t,e,i,r){this.da=0,this.fa=null,this.ph=null,this.pa=null,this.va={ma:!1,ba:null},this.ga=0,this.wa=0,this.Ma=new be,this.Sa=new be,this.xa=[],this.ya=null,this.ka=null,this.Ca=null,this.Ta=null,this.Ol=Wf,this.Pa=bu(null),this.Ra=t,this.un=e,this.Da=i,this.Ba=r,this.Oa=new Vf(this,100,this.Aa.bind(this),this.La.bind(this))}Vl(){return this.Ra}F(){return this.un}kh(t){if(Qi(this.un,t),this.zl(),t.mode!==void 0&&this.Ia({lr:t.mode}),t.scaleMargins!==void 0){const e=mi(t.scaleMargins.top),i=mi(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1||e+i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.Ea(),this.ka=null}}Va(){return this.un.autoScale}ca(){return this.un.mode===1}th(){return this.un.mode===2}za(){return this.un.mode===3}lr(){return{Fn:this.un.autoScale,Na:this.un.invertScale,lr:this.un.mode}}Ia(t){const e=this.lr();let i=null;t.Fn!==void 0&&(this.un.autoScale=t.Fn),t.lr!==void 0&&(this.un.mode=t.lr,t.lr!==2&&t.lr!==3||(this.un.autoScale=!0),this.va.ma=!1),e.lr===1&&t.lr!==e.lr&&(function(h,l){if(h===null)return!1;const a=fo(h.lh(),l),c=fo(h.ah(),l);return isFinite(a)&&isFinite(c)}(this.ph,this.Pa)?(i=bh(this.ph,this.Pa),i!==null&&this.Fa(i)):this.un.autoScale=!0),t.lr===1&&t.lr!==e.lr&&(i=io(this.ph,this.Pa),i!==null&&this.Fa(i));const r=e.lr!==this.un.mode;r&&(e.lr===2||this.th())&&this.zl(),r&&(e.lr===3||this.za())&&this.zl(),t.Na!==void 0&&e.Na!==t.Na&&(this.un.invertScale=t.Na,this.Wa()),this.Sa.m(e,this.lr())}ja(){return this.Sa}T(){return this.Da.fontSize}It(){return this.da}$a(t){this.da!==t&&(this.da=t,this.Ea(),this.ka=null)}Ha(){if(this.fa)return this.fa;const t=this.It()-this.Ua()-this.qa();return this.fa=t,t}bh(){return this.Ya(),this.ph}Fa(t,e){const i=this.ph;(e||i===null&&t!==null||i!==null&&!i.rh(t))&&(this.ka=null,this.ph=t)}Ni(){return this.Ya(),this.da===0||!this.ph||this.ph.Ni()}Xa(t){return this.Na()?t:this.It()-1-t}Dt(t,e){return this.th()?t=Sr(t,e):this.za()&&(t=co(t,e)),this.La(t,e)}$s(t,e,i){this.Ya();const r=this.qa(),h=Y(this.bh()),l=h.lh(),a=h.ah(),c=this.Ha()-1,d=this.Na(),f=c/(a-l),g=i===void 0?0:i.from,m=i===void 0?t.length:i.to,b=this.Za();for(let _=g;_<m;_++){const S=t[_],R=S.ut;if(isNaN(R))continue;let k=R;b!==null&&(k=b(S.ut,e));const L=r+f*(k-l),G=d?L:this.da-1-L;S.et=G}}le(t,e,i){this.Ya();const r=this.qa(),h=Y(this.bh()),l=h.lh(),a=h.ah(),c=this.Ha()-1,d=this.Na(),f=c/(a-l),g=i===void 0?0:i.from,m=i===void 0?t.length:i.to,b=this.Za();for(let _=g;_<m;_++){const S=t[_];let R=S.oe,k=S._e,L=S.ue,G=S.ce;b!==null&&(R=b(S.oe,e),k=b(S._e,e),L=b(S.ue,e),G=b(S.ce,e));let N=r+f*(R-l),nt=d?N:this.da-1-N;S.re=nt,N=r+f*(k-l),nt=d?N:this.da-1-N,S.ne=nt,N=r+f*(L-l),nt=d?N:this.da-1-N,S.se=nt,N=r+f*(G-l),nt=d?N:this.da-1-N,S.he=nt}}pn(t,e){const i=this.Aa(t,e);return this.Ka(i,e)}Ka(t,e){let i=t;return this.th()?i=function(r,h){return h<0&&(r=-r),r/100*h+h}(i,e):this.za()&&(i=function(r,h){return r-=100,h<0&&(r=-r),r/100*h+h}(i,e)),i}Wl(){return this.xa}Ga(){if(this.ya)return this.ya;let t=[];for(let e=0;e<this.xa.length;e++){const i=this.xa[e];i.Zi()===null&&i.Ki(e+1),t.push(i)}return t=Ip(t),this.ya=t,this.ya}Ja(t){this.xa.indexOf(t)===-1&&(this.xa.push(t),this.zl(),this.Qa())}io(t){const e=this.xa.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.xa.splice(e,1),this.xa.length===0&&(this.Ia({Fn:!0}),this.Fa(null)),this.zl(),this.Qa()}Tt(){let t=null;for(const e of this.xa){const i=e.Tt();i!==null&&(t===null||i.yl<t.yl)&&(t=i)}return t===null?null:t.Ot}Na(){return this.un.invertScale}Gl(){const t=this.Tt()===null;if(this.ka!==null&&(t||this.ka.no===t))return this.ka.Gl;this.Oa.aa();const e=this.Oa.Gl();return this.ka={Gl:e,no:t},this.Ma.m(),e}so(){return this.Ma}eo(t){this.th()||this.za()||this.Ca===null&&this.pa===null&&(this.Ni()||(this.Ca=this.da-t,this.pa=Y(this.bh()).hh()))}ro(t){if(this.th()||this.za()||this.Ca===null)return;this.Ia({Fn:!1}),(t=this.da-t)<0&&(t=0);let e=(this.Ca+.2*(this.da-1))/(t+.2*(this.da-1));const i=Y(this.pa).hh();e=Math.max(e,.1),i._h(e),this.Fa(i)}ho(){this.th()||this.za()||(this.Ca=null,this.pa=null)}lo(t){this.Va()||this.Ta===null&&this.pa===null&&(this.Ni()||(this.Ta=t,this.pa=Y(this.bh()).hh()))}ao(t){if(this.Va()||this.Ta===null)return;const e=Y(this.bh()).oh()/(this.Ha()-1);let i=t-this.Ta;this.Na()&&(i*=-1);const r=i*e,h=Y(this.pa).hh();h.uh(r),this.Fa(h,!0),this.ka=null}oo(){this.Va()||this.Ta!==null&&(this.Ta=null,this.pa=null)}Bl(){return this.Ol||this.zl(),this.Ol}Fi(t,e){switch(this.un.mode){case 2:return this.Bl().format(Sr(t,e));case 3:return this.Bl().format(co(t,e));default:return this.Sh(t)}}ua(t){switch(this.un.mode){case 2:case 3:return this.Bl().format(t);default:return this.Sh(t)}}_l(t){return this.Sh(t,Y(this._o()).Bl())}ul(t,e){return t=Sr(t,e),Hf.format(t)}uo(){return this.xa}co(t){this.va={ba:t,ma:!1}}Dn(){this.xa.forEach(t=>t.Dn())}zl(){this.ka=null;const t=this._o();let e=100;t!==null&&(e=Math.round(1/t.Dl())),this.Ol=Wf,this.th()?(this.Ol=Hf,e=100):this.za()?(this.Ol=new Qh(100,1),e=100):t!==null&&(this.Ol=t.Bl()),this.Oa=new Vf(this,e,this.Aa.bind(this),this.La.bind(this)),this.Oa.aa()}Qa(){this.ya=null}_o(){return this.xa[0]||null}Ua(){return this.Na()?this.un.scaleMargins.bottom*this.It()+this.wa:this.un.scaleMargins.top*this.It()+this.ga}qa(){return this.Na()?this.un.scaleMargins.top*this.It()+this.ga:this.un.scaleMargins.bottom*this.It()+this.wa}Ya(){this.va.ma||(this.va.ma=!0,this.do())}Ea(){this.fa=null}La(t,e){if(this.Ya(),this.Ni())return 0;t=this.ca()&&t?Hh(t,this.Pa):t;const i=Y(this.bh()),r=this.qa()+(this.Ha()-1)*(t-i.lh())/i.oh();return this.Xa(r)}Aa(t,e){if(this.Ya(),this.Ni())return 0;const i=this.Xa(t),r=Y(this.bh()),h=r.lh()+r.oh()*((i-this.qa())/(this.Ha()-1));return this.ca()?fo(h,this.Pa):h}Wa(){this.ka=null,this.Oa.aa()}do(){const t=this.va.ba;if(t===null)return;let e=null;const i=this.uo();let r=0,h=0;for(const c of i){if(!c.Ct())continue;const d=c.Tt();if(d===null)continue;const f=c.Pl(t.Ms(),t.ci());let g=f&&f.bh();if(g!==null){switch(this.un.mode){case 1:g=io(g,this.Pa);break;case 2:g=Wy(g,d.Ot);break;case 3:g=Gy(g,d.Ot)}if(e=e===null?g:e.Qn(Y(g)),f!==null){const m=f.gh();m!==null&&(r=Math.max(r,m.above),h=Math.max(r,m.below))}}}if(r===this.ga&&h===this.wa||(this.ga=r,this.wa=h,this.ka=null,this.Ea()),e!==null){if(e.lh()===e.ah()){const c=this._o(),d=5*(c===null||this.th()||this.za()?1:c.Dl());this.ca()&&(e=bh(e,this.Pa)),e=new Je(e.lh()-d,e.ah()+d),this.ca()&&(e=io(e,this.Pa))}if(this.ca()){const c=bh(e,this.Pa),d=bu(c);if(l=d,a=this.Pa,l.Jl!==a.Jl||l.Ql!==a.Ql){const f=this.pa!==null?bh(this.pa,this.Pa):null;this.Pa=d,e=io(c,d),f!==null&&(this.pa=io(f,d))}}this.Fa(e)}else this.ph===null&&(this.Fa(new Je(-.5,.5)),this.Pa=bu(null));var l,a;this.va.ma=!0}Za(){return this.th()?Sr:this.za()?co:this.ca()?t=>Hh(t,this.Pa):null}Sh(t,e){return this.Ba.priceFormatter===void 0?(e===void 0&&(e=this.Bl()),e.format(t)):this.Ba.priceFormatter(t)}}class Yy{constructor(t,e){this.xa=[],this.fo=new Map,this.da=0,this.po=0,this.vo=1e3,this.ya=null,this.mo=new be,this.bo=t,this.Hi=e,this.wo=new Hy(this);const i=e.F();this.Mo=this.So("left",i.leftPriceScale),this.xo=this.So("right",i.rightPriceScale),this.Mo.ja().l(this.yo.bind(this,this.Mo),this),this.xo.ja().l(this.yo.bind(this,this.xo),this),this.ko(i)}ko(t){if(t.leftPriceScale&&this.Mo.kh(t.leftPriceScale),t.rightPriceScale&&this.xo.kh(t.rightPriceScale),t.localization&&(this.Mo.zl(),this.xo.zl()),t.overlayPriceScales){const e=Array.from(this.fo.values());for(const i of e){const r=Y(i[0].Bt());r.kh(t.overlayPriceScales),t.localization&&r.zl()}}}Co(t){switch(t){case"left":return this.Mo;case"right":return this.xo}return this.fo.has(t)?mi(this.fo.get(t))[0].Bt():null}M(){this.Ut().To().v(this),this.Mo.ja().v(this),this.xo.ja().v(this),this.xa.forEach(t=>{t.M&&t.M()}),this.mo.m()}Po(){return this.vo}Ro(t){this.vo=t}Ut(){return this.Hi}$i(){return this.po}It(){return this.da}Do(t){this.po=t,this.Bo()}$a(t){this.da=t,this.Mo.$a(t),this.xo.$a(t),this.xa.forEach(e=>{if(this.Ge(e)){const i=e.Bt();i!==null&&i.$a(t)}}),this.Bo()}Wl(){return this.xa}Ge(t){const e=t.Bt();return e===null||this.Mo!==e&&this.xo!==e}Ja(t,e,i){const r=i!==void 0?i:this.Ao().Oo+1;this.Lo(t,e,r)}io(t){const e=this.xa.indexOf(t);Vs(e!==-1,"removeDataSource: invalid data source"),this.xa.splice(e,1);const i=Y(t.Bt()).Vl();if(this.fo.has(i)){const h=mi(this.fo.get(i)),l=h.indexOf(t);l!==-1&&(h.splice(l,1),h.length===0&&this.fo.delete(i))}const r=t.Bt();r&&r.Wl().indexOf(t)>=0&&r.io(t),r!==null&&(r.Qa(),this.Io(r)),this.ya=null}Qe(t){return t===this.Mo?"left":t===this.xo?"right":"overlay"}Eo(){return this.Mo}Vo(){return this.xo}zo(t,e){t.eo(e)}No(t,e){t.ro(e),this.Bo()}Fo(t){t.ho()}Wo(t,e){t.lo(e)}jo(t,e){t.ao(e),this.Bo()}$o(t){t.oo()}Bo(){this.xa.forEach(t=>{t.Dn()})}fn(){let t=null;return this.Hi.F().rightPriceScale.visible&&this.xo.Wl().length!==0?t=this.xo:this.Hi.F().leftPriceScale.visible&&this.Mo.Wl().length!==0?t=this.Mo:this.xa.length!==0&&(t=this.xa[0].Bt()),t===null&&(t=this.xo),t}Je(){let t=null;return this.Hi.F().rightPriceScale.visible?t=this.xo:this.Hi.F().leftPriceScale.visible&&(t=this.Mo),t}Io(t){t!==null&&t.Va()&&this.Ho(t)}Uo(t){const e=this.bo.zs();t.Ia({Fn:!0}),e!==null&&t.co(e),this.Bo()}qo(){this.Ho(this.Mo),this.Ho(this.xo)}Yo(){this.Io(this.Mo),this.Io(this.xo),this.xa.forEach(t=>{this.Ge(t)&&this.Io(t.Bt())}),this.Bo(),this.Hi.Ch()}Ga(){return this.ya===null&&(this.ya=Ip(this.xa)),this.ya}Xo(){return this.mo}Zo(){return this.wo}Ho(t){const e=t.uo();if(e&&e.length>0&&!this.bo.Ni()){const i=this.bo.zs();i!==null&&t.co(i)}t.Dn()}Ao(){const t=this.Ga();if(t.length===0)return{Ko:0,Oo:0};let e=0,i=0;for(let r=0;r<t.length;r++){const h=t[r].Zi();h!==null&&(h<e&&(e=h),h>i&&(i=h))}return{Ko:e,Oo:i}}Lo(t,e,i){let r=this.Co(e);if(r===null&&(r=this.So(e,this.Hi.F().overlayPriceScales)),this.xa.push(t),!Zh(e)){const h=this.fo.get(e)||[];h.push(t),this.fo.set(e,h)}r.Ja(t),t.Gi(r),t.Ki(i),this.Io(r),this.ya=null}yo(t,e,i){e.lr!==i.lr&&this.Ho(t)}So(t,e){const i=Object.assign({visible:!0,autoScale:!0},pn(e)),r=new qy(t,i,this.Hi.F().layout,this.Hi.F().localization);return r.$a(this.It()),r}}const Gf=s=>s.getUTCFullYear();function Ky(s,t,e){return t.replace(/yyyy/g,(i=>gn(Gf(i),4))(s)).replace(/yy/g,(i=>gn(Gf(i)%100,2))(s)).replace(/MMMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(s,e)).replace(/MMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(s,e)).replace(/MM/g,(i=>gn((r=>r.getUTCMonth()+1)(i),2))(s)).replace(/dd/g,(i=>gn((r=>r.getUTCDate())(i),2))(s))}class Ap{constructor(t="yyyy-MM-dd",e="default"){this.Go=t,this.Jo=e}Qo(t){return Ky(t,this.Go,this.Jo)}}class jy{constructor(t){this.t_=t||"%h:%m:%s"}Qo(t){return this.t_.replace("%h",gn(t.getUTCHours(),2)).replace("%m",gn(t.getUTCMinutes(),2)).replace("%s",gn(t.getUTCSeconds(),2))}}const Jy={i_:"yyyy-MM-dd",n_:"%h:%m:%s",s_:" ",e_:"default"};class Xy{constructor(t={}){const e=Object.assign(Object.assign({},Jy),t);this.r_=new Ap(e.i_,e.e_),this.h_=new jy(e.n_),this.l_=e.s_}Qo(t){return`${this.r_.Qo(t)}${this.l_}${this.h_.Qo(t)}`}}class Zy{constructor(t,e=50){this.Le=0,this.Ie=1,this.Ee=1,this.ze=new Map,this.Ve=new Map,this.a_=t,this.Ne=e}Qo(t){const e=t._t,i=e.o_===void 0?new Date(1e3*e.__).getTime():new Date(Date.UTC(e.o_.year,e.o_.month-1,e.o_.day)).getTime(),r=this.ze.get(i);if(r!==void 0)return r.u_;if(this.Le===this.Ne){const l=this.Ve.get(this.Ee);this.Ve.delete(this.Ee),this.ze.delete(mi(l)),this.Ee++,this.Le--}const h=this.a_(t);return this.ze.set(i,{u_:h,$e:this.Ie}),this.Ve.set(this.Ie,i),this.Le++,this.Ie++,h}}class po{constructor(t,e){Vs(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Ms(){return this.c_}ci(){return this.d_}f_(){return this.d_-this.c_+1}Ir(t){return this.c_<=t&&t<=this.d_}rh(t){return this.c_===t.Ms()&&this.d_===t.ci()}}function qf(s,t){return s===null||t===null?s===t:s.rh(t)}class Qy{constructor(){this.p_=new Map,this.ze=null}v_(t,e){this.m_(e),this.ze=null;for(let i=e;i<t.length;++i){const r=t[i];let h=this.p_.get(r.b_);h===void 0&&(h=[],this.p_.set(r.b_,h)),h.push({Ys:i,_t:r._t,g_:r.b_,w_:r.w_})}}M_(t,e){const i=Math.ceil(e/t);return this.ze!==null&&this.ze.S_===i||(this.ze={Gl:this.x_(i),S_:i}),this.ze.Gl}m_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach((i,r)=>{t<=i[0].Ys?e.push(r):i.splice(Mo(i,t,h=>h.Ys<t),1/0)});for(const i of e)this.p_.delete(i)}x_(t){let e=[];for(const i of Array.from(this.p_.keys()).sort((r,h)=>h-r)){if(!this.p_.get(i))continue;const r=e;e=[];const h=r.length;let l=0;const a=mi(this.p_.get(i)),c=a.length;let d=1/0,f=-1/0;for(let g=0;g<c;g++){const m=a[g],b=m.Ys;for(;l<h;){const _=r[l],S=_.Ys;if(!(S<b)){d=S;break}l++,e.push(_),f=S,d=1/0}d-b>=t&&b-f>=t&&(e.push(m),f=b)}for(;l<h;l++)e.push(r[l])}return e}}class Cr{constructor(t){this.y_=t}k_(){return this.y_===null?null:new po(Math.floor(this.y_.Ms()),Math.ceil(this.y_.ci()))}C_(){return this.y_}static T_(){return new Cr(null)}}var Yf,Kf,jf,Jf,Vu;(function(s){s[s.Year=0]="Year",s[s.Month=1]="Month",s[s.DayOfMonth=2]="DayOfMonth",s[s.Time=3]="Time",s[s.TimeWithSeconds=4]="TimeWithSeconds"})(Yf||(Yf={}));class $y{constructor(t,e,i){this.po=0,this.P_=null,this.R_=[],this.Ta=null,this.Ca=null,this.D_=new Qy,this.B_=new Map,this.O_=Cr.T_(),this.A_=!0,this.L_=new be,this.I_=new be,this.E_=new be,this.V_=null,this.z_=null,this.N_=[],this.un=e,this.Ba=i,this.F_=e.rightOffset,this.W_=e.barSpacing,this.Hi=t,this.j_()}F(){return this.un}H_(t){Qi(this.Ba,t),this.U_(),this.j_()}kh(t,e){var i;Qi(this.un,t),this.un.fixLeftEdge&&this.q_(),this.un.fixRightEdge&&this.Y_(),t.barSpacing!==void 0&&this.Hi.Kn(t.barSpacing),t.rightOffset!==void 0&&this.Hi.Gn(t.rightOffset),t.minBarSpacing!==void 0&&this.Hi.Kn((i=t.barSpacing)!==null&&i!==void 0?i:this.W_),this.U_(),this.j_(),this.E_.m()}vn(t){var e,i;return(i=(e=this.R_[t])===null||e===void 0?void 0:e._t)!==null&&i!==void 0?i:null}Ui(t){var e;return(e=this.R_[t])!==null&&e!==void 0?e:null}Nl(t,e){if(this.R_.length<1)return null;if(t.__>this.R_[this.R_.length-1]._t.__)return e?this.R_.length-1:null;const i=Mo(this.R_,t.__,(r,h)=>r._t.__<h);return t.__<this.R_[i]._t.__?e?i:null:i}Ni(){return this.po===0||this.R_.length===0||this.P_===null}zs(){return this.X_(),this.O_.k_()}Z_(){return this.X_(),this.O_.C_()}K_(){const t=this.zs();if(t===null)return null;const e={from:t.Ms(),to:t.ci()};return this.G_(e)}G_(t){const e=Math.round(t.from),i=Math.round(t.to),r=Y(this.J_()),h=Y(this.Q_());return{from:Y(this.vn(Math.max(r,e))),to:Y(this.vn(Math.min(h,i)))}}tu(t){return{from:Y(this.Nl(t.from,!0)),to:Y(this.Nl(t.to,!0))}}$i(){return this.po}Do(t){if(!isFinite(t)||t<=0||this.po===t)return;const e=this.Z_(),i=this.po;if(this.po=t,this.A_=!0,this.un.lockVisibleTimeRangeOnResize&&i!==0){const r=this.W_*t/i;this.W_=r}if(this.un.fixLeftEdge&&e!==null&&e.Ms()<=0){const r=i-t;this.F_-=Math.round(r/this.W_)+1,this.A_=!0}this.iu(),this.nu()}Et(t){if(this.Ni()||!go(t))return 0;const e=this.su()+this.F_-t;return this.po-(e+.5)*this.W_-1}js(t,e){const i=this.su(),r=e===void 0?0:e.from,h=e===void 0?t.length:e.to;for(let l=r;l<h;l++){const a=t[l]._t,c=i+this.F_-a,d=this.po-(c+.5)*this.W_-1;t[l].st=d}}eu(t){return Math.ceil(this.ru(t))}Gn(t){this.A_=!0,this.F_=t,this.nu(),this.Hi.hu(),this.Hi.Ch()}Ks(){return this.W_}Kn(t){this.lu(t),this.nu(),this.Hi.hu(),this.Hi.Ch()}au(){return this.F_}Gl(){if(this.Ni())return null;if(this.z_!==null)return this.z_;const t=this.W_,e=5*(this.Hi.F().layout.fontSize+4),i=Math.round(e/t),r=Y(this.zs()),h=Math.max(r.Ms(),r.Ms()-i),l=Math.max(r.ci(),r.ci()-i),a=this.D_.M_(t,e),c=this.J_()+i,d=this.Q_()-i,f=this.ou(),g=this.un.fixLeftEdge||f,m=this.un.fixRightEdge||f;let b=0;for(const _ of a){if(!(h<=_.Ys&&_.Ys<=l))continue;let S;b<this.N_.length?(S=this.N_[b],S.ql=this.Et(_.Ys),S._a=this._u(_),S.g_=_.g_):(S={uu:!1,ql:this.Et(_.Ys),_a:this._u(_),g_:_.g_},this.N_.push(S)),this.W_>e/2&&!f?S.uu=!1:S.uu=g&&_.Ys<=c||m&&_.Ys>=d,b++}return this.N_.length=b,this.z_=this.N_,this.N_}cu(){this.A_=!0,this.Kn(this.un.barSpacing),this.Gn(this.un.rightOffset)}du(t){this.A_=!0,this.P_=t,this.nu(),this.q_()}fu(t,e){const i=this.ru(t),r=this.Ks(),h=r+e*(r/10);this.Kn(h),this.un.rightBarStaysOnScroll||this.Gn(this.au()+(i-this.ru(t)))}eo(t){this.Ta&&this.oo(),this.Ca===null&&this.V_===null&&(this.Ni()||(this.Ca=t,this.pu()))}ro(t){if(this.V_===null)return;const e=Vh(this.po-t,0,this.po),i=Vh(this.po-Y(this.Ca),0,this.po);e!==0&&i!==0&&this.Kn(this.V_.Ks*e/i)}ho(){this.Ca!==null&&(this.Ca=null,this.vu())}lo(t){this.Ta===null&&this.V_===null&&(this.Ni()||(this.Ta=t,this.pu()))}ao(t){if(this.Ta===null)return;const e=(this.Ta-t)/this.Ks();this.F_=Y(this.V_).au+e,this.A_=!0,this.nu()}oo(){this.Ta!==null&&(this.Ta=null,this.vu())}mu(){this.bu(this.un.rightOffset)}bu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.F_,r=performance.now();this.Hi.Yn({gu:h=>(h-r)/e>=1,wu:h=>{const l=(h-r)/e;return l>=1?t:i+(t-i)*l}})}gt(t,e){this.A_=!0,this.R_=t,this.D_.v_(t,e),this.nu()}Mu(){return this.L_}Su(){return this.I_}xu(){return this.E_}su(){return this.P_||0}yu(t){const e=t.f_();this.lu(this.po/e),this.F_=t.ci()-this.su(),this.nu(),this.A_=!0,this.Hi.hu(),this.Hi.Ch()}ku(){const t=this.J_(),e=this.Q_();t!==null&&e!==null&&this.yu(new po(t,e+this.un.rightOffset))}Cu(t){const e=new po(t.from,t.to);this.yu(e)}qi(t){return this.Ba.timeFormatter!==void 0?this.Ba.timeFormatter(t.w_):this.Tu.Qo(new Date(1e3*t._t.__))}ou(){const{handleScroll:t,handleScale:e}=this.Hi.F();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}J_(){return this.R_.length===0?null:0}Q_(){return this.R_.length===0?null:this.R_.length-1}Pu(t){return(this.po-1-t)/this.W_}ru(t){const e=this.Pu(t),i=this.su()+this.F_-e;return Math.round(1e6*i)/1e6}lu(t){const e=this.W_;this.W_=t,this.iu(),e!==this.W_&&(this.A_=!0,this.Ru())}X_(){if(!this.A_)return;if(this.A_=!1,this.Ni())return void this.Du(Cr.T_());const t=this.su(),e=this.po/this.W_,i=this.F_+t,r=new po(i-e+1,i);this.Du(new Cr(r))}iu(){const t=this.Bu();if(this.W_<t&&(this.W_=t,this.A_=!0),this.po!==0){const e=.5*this.po;this.W_>e&&(this.W_=e,this.A_=!0)}}Bu(){return this.un.fixLeftEdge&&this.un.fixRightEdge&&this.R_.length!==0?this.po/this.R_.length:this.un.minBarSpacing}nu(){const t=this.Ou();this.F_>t&&(this.F_=t,this.A_=!0);const e=this.Au();e!==null&&this.F_<e&&(this.F_=e,this.A_=!0)}Au(){const t=this.J_(),e=this.P_;return t===null||e===null?null:t-e-1+(this.un.fixLeftEdge?this.po/this.W_:Math.min(2,this.R_.length))}Ou(){return this.un.fixRightEdge?0:this.po/this.W_-Math.min(2,this.R_.length)}pu(){this.V_={Ks:this.Ks(),au:this.au()}}vu(){this.V_=null}_u(t){let e=this.B_.get(t.g_);return e===void 0&&(e=new Zy(i=>this.Lu(i)),this.B_.set(t.g_,e)),e.Qo(t)}Lu(t){const e=function(i,r,h){switch(i){case 0:case 10:return r?h?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return r?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.g_,this.un.timeVisible,this.un.secondsVisible);if(this.un.tickMarkFormatter!==void 0){const i=this.un.tickMarkFormatter(t.w_,e,this.Ba.locale);if(i!==null)return i}return function(i,r,h){const l={};switch(r){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const a=i.o_===void 0?new Date(1e3*i.__):new Date(Date.UTC(i.o_.year,i.o_.month-1,i.o_.day));return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()).toLocaleString(h,l)}(t._t,e,this.Ba.locale)}Du(t){const e=this.O_;this.O_=t,qf(e.k_(),this.O_.k_())||this.L_.m(),qf(e.C_(),this.O_.C_())||this.I_.m(),this.Ru()}Ru(){this.z_=null}U_(){this.Ru(),this.B_.clear()}j_(){const t=this.Ba.dateFormat;this.un.timeVisible?this.Tu=new Xy({i_:t,n_:this.un.secondsVisible?"%h:%m:%s":"%h:%m",s_:"   ",e_:this.Ba.locale}):this.Tu=new Ap(t,this.Ba.locale)}q_(){if(!this.un.fixLeftEdge)return;const t=this.J_();if(t===null)return;const e=this.zs();if(e===null)return;const i=e.Ms()-t;if(i<0){const r=this.F_-i-1;this.Gn(r)}this.iu()}Y_(){this.nu(),this.iu()}}class tS extends So{constructor(t){super(),this.Iu=new Map,this.Vt=t}Z(t){}G(t){if(!this.Vt.Ct)return;const{context:e,mediaSize:i}=t;let r=0;for(const l of this.Vt.Eu){if(l.Gt.length===0)continue;e.font=l.P;const a=this.Vu(e,l.Gt);a>i.width?l.fu=i.width/a:l.fu=1,r+=l.zu*l.fu}let h=0;switch(this.Vt.Nu){case"top":h=0;break;case"center":h=Math.max((i.height-r)/2,0);break;case"bottom":h=Math.max(i.height-r,0)}e.fillStyle=this.Vt.D;for(const l of this.Vt.Eu){e.save();let a=0;switch(this.Vt.Fu){case"left":e.textAlign="left",a=l.zu/2;break;case"center":e.textAlign="center",a=i.width/2;break;case"right":e.textAlign="right",a=i.width-1-l.zu/2}e.translate(a,h),e.textBaseline="top",e.font=l.P,e.scale(l.fu,l.fu),e.fillText(l.Gt,0,l.Wu),e.restore(),h+=l.zu*l.fu}}Vu(t,e){const i=this.ju(t.font);let r=i.get(e);return r===void 0&&(r=t.measureText(e).width,i.set(e,r)),r}ju(t){let e=this.Iu.get(t);return e===void 0&&(e=new Map,this.Iu.set(t,e)),e}}class eS{constructor(t){this.vt=!0,this.Wt={Ct:!1,D:"",Eu:[],Nu:"center",Fu:"center"},this.jt=new tS(this.Wt),this.$t=t}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt}St(){const t=this.$t.F(),e=this.Wt;e.Ct=t.visible,e.Ct&&(e.D=t.color,e.Fu=t.horzAlign,e.Nu=t.vertAlign,e.Eu=[{Gt:t.text,P:Er(t.fontSize,t.fontFamily,t.fontStyle),zu:1.2*t.fontSize,Wu:0,fu:0}])}}class iS extends $u{constructor(t,e){super(),this.un=e,this.bn=new eS(this)}Pn(){return[]}Tn(){return[this.bn]}F(){return this.un}Dn(){this.bn.gt()}}(function(s){s[s.OnTouchEnd=0]="OnTouchEnd",s[s.OnNextTap=1]="OnNextTap"})(Kf||(Kf={}));class nS{constructor(t,e){this.$u=[],this.Hu=[],this.po=0,this.Uu=null,this.qu=new be,this.Yu=new be,this.Xu=null,this.Zu=t,this.un=e,this.Ku=new Vb(this),this.bo=new $y(this,e.timeScale,this.un.localization),this.bt=new Qb(this,e.crosshair),this.Gu=new zy(e.crosshair),this.Ju=new iS(this,e.watermark),this.Qu(),this.$u[0].Ro(2e3),this.tc=this.ic(0),this.nc=this.ic(1)}dl(){this.sc(we.ss())}Ch(){this.sc(we.ns())}Cl(){this.sc(new we(1))}fl(t){const e=this.ec(t);this.sc(e)}rc(){return this.Uu}hc(t){const e=this.Uu;this.Uu=t,e!==null&&this.fl(e.lc),t!==null&&this.fl(t.lc)}F(){return this.un}kh(t){Qi(this.un,t),this.$u.forEach(e=>e.ko(t)),t.timeScale!==void 0&&this.bo.kh(t.timeScale),t.localization!==void 0&&this.bo.H_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.qu.m(),this.tc=this.ic(0),this.nc=this.ic(1),this.dl()}ac(t,e){if(t==="left")return void this.kh({leftPriceScale:e});if(t==="right")return void this.kh({rightPriceScale:e});const i=this.oc(t);i!==null&&(i.Bt.kh(e),this.qu.m())}oc(t){for(const e of this.$u){const i=e.Co(t);if(i!==null)return{Ht:e,Bt:i}}return null}yt(){return this.bo}_c(){return this.$u}uc(){return this.Ju}cc(){return this.bt}dc(){return this.Yu}fc(t,e){t.$a(e),this.hu()}Do(t){this.po=t,this.bo.Do(this.po),this.$u.forEach(e=>e.Do(t)),this.hu()}Qu(t){const e=new Yy(this.bo,this);t!==void 0?this.$u.splice(t,0,e):this.$u.push(e);const i=t===void 0?this.$u.length-1:t,r=we.ss();return r.zn(i,{Nn:0,Fn:!0}),this.sc(r),e}zo(t,e,i){t.zo(e,i)}No(t,e,i){t.No(e,i),this.pl(),this.sc(this.vc(t,2))}Fo(t,e){t.Fo(e),this.sc(this.vc(t,2))}Wo(t,e,i){e.Va()||t.Wo(e,i)}jo(t,e,i){e.Va()||(t.jo(e,i),this.pl(),this.sc(this.vc(t,2)))}$o(t,e){e.Va()||(t.$o(e),this.sc(this.vc(t,2)))}Uo(t,e){t.Uo(e),this.sc(this.vc(t,2))}mc(t){this.bo.eo(t)}bc(t,e){const i=this.yt();if(i.Ni()||e===0)return;const r=i.$i();t=Math.max(1,Math.min(t,r)),i.fu(t,e),this.hu()}gc(t){this.wc(0),this.Mc(t),this.Sc()}xc(t){this.bo.ro(t),this.hu()}yc(){this.bo.ho(),this.Ch()}wc(t){this.bo.lo(t)}Mc(t){this.bo.ao(t),this.hu()}Sc(){this.bo.oo(),this.Ch()}wt(){return this.Hu}kc(t,e,i,r){this.bt.gn(t,e);let h=NaN,l=this.bo.eu(t);const a=this.bo.zs();a!==null&&(l=Math.min(Math.max(a.Ms(),l),a.ci()));const c=r.fn(),d=c.Tt();d!==null&&(h=c.pn(e,d)),h=this.Gu.Fl(h,l,r),this.bt.xn(l,h,r),this.Cl(),this.Yu.m(this.bt.xt(),{x:t,y:e},i)}Cc(){this.cc().kn(),this.Cl(),this.Yu.m(null,null,null)}pl(){const t=this.bt.Ht();if(t!==null){const e=this.bt.Mn(),i=this.bt.Sn();this.kc(e,i,null,t)}this.bt.Dn()}Tc(t,e,i){const r=this.bo.vn(0);e!==void 0&&i!==void 0&&this.bo.gt(e,i);const h=this.bo.vn(0),l=this.bo.su(),a=this.bo.zs();if(a!==null&&r!==null&&h!==null){const c=a.Ir(l),d=r.__>h.__,f=t!==null&&t>l&&!d,g=c&&this.bo.F().shiftVisibleRangeOnNewBar;if(f&&!g){const m=t-l;this.bo.Gn(this.bo.au()-m)}}this.bo.du(t)}bl(t){t!==null&&t.Yo()}Ke(t){const e=this.$u.find(i=>i.Ga().includes(t));return e===void 0?null:e}hu(){this.Ju.Dn(),this.$u.forEach(t=>t.Yo()),this.pl()}M(){this.$u.forEach(t=>t.M()),this.$u.length=0,this.un.localization.priceFormatter=void 0,this.un.localization.timeFormatter=void 0}Pc(){return this.Ku}tr(){return this.Ku.F()}To(){return this.qu}Rc(t,e){const i=this.$u[0],r=this.Dc(e,t,i);return this.Hu.push(r),this.Hu.length===1?this.dl():this.Ch(),r}Bc(t){const e=this.Ke(t),i=this.Hu.indexOf(t);Vs(i!==-1,"Series not found"),this.Hu.splice(i,1),Y(e).io(t),t.M&&t.M()}cl(t,e){const i=Y(this.Ke(t));i.io(t);const r=this.oc(e);if(r===null){const h=t.Zi();i.Ja(t,e,h)}else{const h=r.Ht===i?t.Zi():void 0;r.Ht.Ja(t,e,h)}}ku(){const t=we.ns();t.$n(),this.sc(t)}Oc(t){const e=we.ns();e.qn(t),this.sc(e)}Zn(){const t=we.ns();t.Zn(),this.sc(t)}Kn(t){const e=we.ns();e.Kn(t),this.sc(e)}Gn(t){const e=we.ns();e.Gn(t),this.sc(e)}Yn(t){const e=we.ns();e.Yn(t),this.sc(e)}Hn(){const t=we.ns();t.Hn(),this.sc(t)}Ac(){return this.un.rightPriceScale.visible?"right":"left"}Lc(){return this.nc}U(){return this.tc}Lt(t){const e=this.nc,i=this.tc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Xu===null||this.Xu.bs!==i||this.Xu.gs!==e)this.Xu={bs:i,gs:e,Ic:new Map};else{const h=this.Xu.Ic.get(t);if(h!==void 0)return h}const r=function(h,l,a){const[c,d,f,g]=Dh(h),[m,b,_,S]=Dh(l),R=[ai(c+a*(m-c)),ai(d+a*(b-d)),ai(f+a*(_-f)),pp(g+a*(S-g))];return`rgba(${R[0]}, ${R[1]}, ${R[2]}, ${R[3]})`}(i,e,t/100);return this.Xu.Ic.set(t,r),r}vc(t,e){const i=new we(e);if(t!==null){const r=this.$u.indexOf(t);i.zn(r,{Nn:e})}return i}ec(t,e){return e===void 0&&(e=2),this.vc(this.Ke(t),e)}sc(t){this.Zu&&this.Zu(t),this.$u.forEach(e=>e.Zo().Th().gt())}Dc(t,e,i){const r=new ea(this,t,e),h=t.priceScaleId!==void 0?t.priceScaleId:this.Ac();return i.Ja(r,h),Zh(h)||r.kh(t),r}ic(t){const e=this.un.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function ia(s){return!Xi(s)&&!Ju(s)}function Pp(s){return Xi(s)}(function(s){s[s.Disabled=0]="Disabled",s[s.Continuous=1]="Continuous",s[s.OnDataUpdate=2]="OnDataUpdate"})(jf||(jf={})),function(s){s[s.LastBar=0]="LastBar",s[s.LastVisible=1]="LastVisible"}(Jf||(Jf={})),function(s){s.Solid="solid",s.VerticalGradient="gradient"}(Vu||(Vu={}));const Tr=typeof window<"u";function Xf(){return!!Tr&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Su(){return!!Tr&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Uu(s){return s+s%2}function Mu(s,t){return s.Ec-t.Ec}function xu(s,t,e){const i=(s.Ec-t.Ec)/(s._t-t._t);return Math.sign(i)*Math.min(Math.abs(i),e)}class sS{constructor(t,e,i,r){this.Vc=null,this.zc=null,this.Nc=null,this.Fc=null,this.Wc=null,this.jc=0,this.$c=0,this.Hc=t,this.Uc=e,this.qc=i,this.es=r}Yc(t,e){if(this.Vc!==null){if(this.Vc._t===e)return void(this.Vc.Ec=t);if(Math.abs(this.Vc.Ec-t)<this.es)return}this.Fc=this.Nc,this.Nc=this.zc,this.zc=this.Vc,this.Vc={_t:e,Ec:t}}pr(t,e){if(this.Vc===null||this.zc===null||e-this.Vc._t>50)return;let i=0;const r=xu(this.Vc,this.zc,this.Uc),h=Mu(this.Vc,this.zc),l=[r],a=[h];if(i+=h,this.Nc!==null){const d=xu(this.zc,this.Nc,this.Uc);if(Math.sign(d)===Math.sign(r)){const f=Mu(this.zc,this.Nc);if(l.push(d),a.push(f),i+=f,this.Fc!==null){const g=xu(this.Nc,this.Fc,this.Uc);if(Math.sign(g)===Math.sign(r)){const m=Mu(this.Nc,this.Fc);l.push(g),a.push(m),i+=m}}}}let c=0;for(let d=0;d<l.length;++d)c+=a[d]/i*l[d];Math.abs(c)<this.Hc||(this.Wc={Ec:t,_t:e},this.$c=c,this.jc=function(d,f){const g=Math.log(f);return Math.log(1*g/-d)/g}(Math.abs(c),this.qc))}wu(t){const e=Y(this.Wc),i=t-e._t;return e.Ec+this.$c*(Math.pow(this.qc,i)-1)/Math.log(this.qc)}gu(t){return this.Wc===null||this.Xc(t)===this.jc}Xc(t){const e=t-Y(this.Wc)._t;return Math.min(e,this.jc)}}function Ns(s,t){const e=Y(s.ownerDocument).createElement("canvas");s.appendChild(e);const i=Ab(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(r,h)=>({width:Math.max(r.width,h.width),height:Math.max(r.height,h.height)})});return i.resizeCanvasElement(t),i}function rS(s){Tr&&window.chrome!==void 0&&s.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class na{constructor(t,e,i){this.Zc=0,this.Kc=null,this.Gc={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY},this.Jc=0,this.Qc=null,this.td={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY},this.nd=null,this.sd=!1,this.ed=null,this.rd=null,this.hd=!1,this.ld=!1,this.ad=!1,this.od=null,this._d=null,this.ud=null,this.dd=null,this.fd=null,this.pd=null,this.vd=null,this.md=0,this.bd=!1,this.gd=!1,this.wd=!1,this.Md=0,this.Sd=null,this.xd=!Su(),this.yd=r=>{this.kd(r)},this.Cd=r=>{if(this.Td(r)){const h=this.Pd(r);if(++this.Jc,this.Qc&&this.Jc>1){const{Rd:l}=this.Dd(ji(r),this.td);l<30&&!this.ad&&this.Bd(h,this.Ad.Od),this.Ld()}}else{const h=this.Pd(r);if(++this.Zc,this.Kc&&this.Zc>1){const{Rd:l}=this.Dd(ji(r),this.Gc);l<5&&!this.ld&&this.Id(h,this.Ad.Ed),this.Vd()}}},this.zd=t,this.Ad=e,this.un=i,this.Nd()}M(){this.od!==null&&(this.od(),this.od=null),this._d!==null&&(this._d(),this._d=null),this.dd!==null&&(this.dd(),this.dd=null),this.fd!==null&&(this.fd(),this.fd=null),this.pd!==null&&(this.pd(),this.pd=null),this.ud!==null&&(this.ud(),this.ud=null),this.Fd(),this.Vd()}Wd(t){this.dd&&this.dd();const e=this.jd.bind(this);if(this.dd=()=>{this.zd.removeEventListener("mousemove",e)},this.zd.addEventListener("mousemove",e),this.Td(t))return;const i=this.Pd(t);this.Id(i,this.Ad.$d),this.xd=!0}Vd(){this.Kc!==null&&clearTimeout(this.Kc),this.Zc=0,this.Kc=null,this.Gc={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY}}Ld(){this.Qc!==null&&clearTimeout(this.Qc),this.Jc=0,this.Qc=null,this.td={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY}}jd(t){if(this.wd||this.rd!==null||this.Td(t))return;const e=this.Pd(t);this.Id(e,this.Ad.Hd),this.xd=!0}Ud(t){const e=Cu(t.changedTouches,Y(this.Sd));if(e===null||(this.Md=yh(t),this.vd!==null)||this.gd)return;this.bd=!0;const i=this.Dd(ji(e),Y(this.rd)),{qd:r,Yd:h,Rd:l}=i;if(this.hd||!(l<5)){if(!this.hd){const a=.5*r,c=h>=a&&!this.un.Xd(),d=a>h&&!this.un.Zd();c||d||(this.gd=!0),this.hd=!0,this.ad=!0,this.Fd(),this.Ld()}if(!this.gd){const a=this.Pd(t,e);this.Bd(a,this.Ad.Kd),br(t)}}}Gd(t){if(t.button!==0)return;const e=this.Dd(ji(t),Y(this.ed)),{Rd:i}=e;if(i>=5&&(this.ld=!0,this.Vd()),this.ld){const r=this.Pd(t);this.Id(r,this.Ad.Jd)}}Dd(t,e){const i=Math.abs(e.st-t.st),r=Math.abs(e.et-t.et);return{qd:i,Yd:r,Rd:i+r}}Qd(t){let e=Cu(t.changedTouches,Y(this.Sd));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Sd=null,this.Md=yh(t),this.Fd(),this.rd=null,this.pd&&(this.pd(),this.pd=null);const i=this.Pd(t,e);if(this.Bd(i,this.Ad.tf),++this.Jc,this.Qc&&this.Jc>1){const{Rd:r}=this.Dd(ji(e),this.td);r<30&&!this.ad&&this.Bd(i,this.Ad.Od),this.Ld()}else this.ad||(this.Bd(i,this.Ad.if),this.Ad.if&&br(t));this.Jc===0&&br(t),t.touches.length===0&&this.sd&&(this.sd=!1,br(t))}kd(t){if(t.button!==0)return;const e=this.Pd(t);if(this.ed=null,this.wd=!1,this.fd&&(this.fd(),this.fd=null),Xf()&&this.zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.yd),!this.Td(t))if(this.Id(e,this.Ad.nf),++this.Zc,this.Kc&&this.Zc>1){const{Rd:i}=this.Dd(ji(t),this.Gc);i<5&&!this.ld&&this.Id(e,this.Ad.Ed),this.Vd()}else this.ld||this.Id(e,this.Ad.sf)}Fd(){this.nd!==null&&(clearTimeout(this.nd),this.nd=null)}ef(t){if(this.Sd!==null)return;const e=t.changedTouches[0];this.Sd=e.identifier,this.Md=yh(t);const i=this.zd.ownerDocument.documentElement;this.ad=!1,this.hd=!1,this.gd=!1,this.rd=ji(e),this.pd&&(this.pd(),this.pd=null);{const h=this.Ud.bind(this),l=this.Qd.bind(this);this.pd=()=>{i.removeEventListener("touchmove",h),i.removeEventListener("touchend",l)},i.addEventListener("touchmove",h,{passive:!1}),i.addEventListener("touchend",l,{passive:!1}),this.Fd(),this.nd=setTimeout(this.rf.bind(this,t),240)}const r=this.Pd(t,e);this.Bd(r,this.Ad.hf),this.Qc||(this.Jc=0,this.Qc=setTimeout(this.Ld.bind(this),500),this.td=ji(e))}lf(t){if(t.button!==0)return;const e=this.zd.ownerDocument.documentElement;Xf()&&e.addEventListener("mouseleave",this.yd),this.ld=!1,this.ed=ji(t),this.fd&&(this.fd(),this.fd=null);{const r=this.Gd.bind(this),h=this.kd.bind(this);this.fd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",h)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",h)}if(this.wd=!0,this.Td(t))return;const i=this.Pd(t);this.Id(i,this.Ad.af),this.Kc||(this.Zc=0,this.Kc=setTimeout(this.Vd.bind(this),500),this.Gc=ji(t))}Nd(){this.zd.addEventListener("mouseenter",this.Wd.bind(this)),this.zd.addEventListener("touchcancel",this.Fd.bind(this));{const t=this.zd.ownerDocument,e=i=>{this.Ad._f&&(i.composed&&this.zd.contains(i.composedPath()[0])||i.target&&this.zd.contains(i.target)||this.Ad._f())};this._d=()=>{t.removeEventListener("touchstart",e)},this.od=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Su()&&(this.ud=()=>{this.zd.removeEventListener("dblclick",this.Cd)},this.zd.addEventListener("dblclick",this.Cd)),this.zd.addEventListener("mouseleave",this.uf.bind(this)),this.zd.addEventListener("touchstart",this.ef.bind(this),{passive:!0}),rS(this.zd),this.zd.addEventListener("mousedown",this.lf.bind(this)),this.cf(),this.zd.addEventListener("touchmove",()=>{},{passive:!1})}cf(){this.Ad.df===void 0&&this.Ad.ff===void 0&&this.Ad.pf===void 0||(this.zd.addEventListener("touchstart",t=>this.vf(t.touches),{passive:!0}),this.zd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.vd!==null&&this.Ad.ff!==void 0){const e=Zf(t.touches[0],t.touches[1])/this.md;this.Ad.ff(this.vd,e),br(t)}},{passive:!1}),this.zd.addEventListener("touchend",t=>{this.vf(t.touches)}))}vf(t){t.length===1&&(this.bd=!1),t.length!==2||this.bd||this.sd?this.mf():this.bf(t)}bf(t){const e=this.zd.getBoundingClientRect()||{left:0,top:0};this.vd={st:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,et:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.md=Zf(t[0],t[1]),this.Ad.df!==void 0&&this.Ad.df(),this.Fd()}mf(){this.vd!==null&&(this.vd=null,this.Ad.pf!==void 0&&this.Ad.pf())}uf(t){if(this.dd&&this.dd(),this.Td(t)||!this.xd)return;const e=this.Pd(t);this.Id(e,this.Ad.gf),this.xd=!Su()}rf(t){const e=Cu(t.touches,Y(this.Sd));if(e===null)return;const i=this.Pd(t,e);this.Bd(i,this.Ad.wf),this.ad=!0,this.sd=!0}Td(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:yh(t)<this.Md+500}Bd(t,e){e&&e.call(this.Ad,t)}Id(t,e){e&&e.call(this.Ad,t)}Pd(t,e){const i=e||t,r=this.zd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-r.left,localY:i.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Mf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Sf:t.type,xf:i.target,yf:t.view,kf:()=>{t.type!=="touchstart"&&br(t)}}}}function Zf(s,t){const e=s.clientX-t.clientX,i=s.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function br(s){s.cancelable&&s.preventDefault()}function ji(s){return{st:s.pageX,et:s.pageY}}function yh(s){return s.timeStamp||performance.now()}function Cu(s,t){for(let e=0;e<s.length;++e)if(s[e].identifier===t)return s[e];return null}class Qf{constructor(t,e,i,r){this.Vi=null,this.Cf=null,this.Tf=!1,this.Pf=new mo(200),this.Vr=null,this.Rf=0,this.Df=!1,this.Bf=()=>{this.Df||this.tn.Of().Ut().Ch()},this.Af=()=>{this.Df||this.tn.Of().Ut().Ch()},this.tn=t,this.un=e,this.Da=e.layout,this.Ku=i,this.Lf=r==="left",this.If=document.createElement("div"),this.If.style.height="100%",this.If.style.overflow="hidden",this.If.style.width="25px",this.If.style.left="0",this.If.style.position="relative",this.Ef=Ns(this.If,Zt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const h=this.Ef.canvasElement;h.style.position="absolute",h.style.zIndex="1",h.style.left="0",h.style.top="0",this.Vf=Ns(this.If,Zt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const l=this.Vf.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const a={af:this.zf.bind(this),hf:this.zf.bind(this),Jd:this.Nf.bind(this),Kd:this.Nf.bind(this),_f:this.Ff.bind(this),nf:this.Wf.bind(this),tf:this.Wf.bind(this),Ed:this.jf.bind(this),Od:this.jf.bind(this),$d:this.$f.bind(this),gf:this.Hf.bind(this)};this.Uf=new na(this.Vf.canvasElement,a,{Xd:()=>!1,Zd:()=>!0})}M(){this.Uf.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose(),this.Vi!==null&&this.Vi.so().v(this),this.Vi=null}qf(){return this.If}T(){return this.Da.fontSize}Yf(){const t=this.Ku.F();return this.Vr!==t.P&&(this.Pf.Fe(),this.Vr=t.P),t}Xf(){if(this.Vi===null)return 0;let t=0;const e=this.Yf(),i=Y(this.Ef.canvasElement.getContext("2d"));i.save();const r=this.Vi.Gl();i.font=this.Zf(),r.length>0&&(t=Math.max(this.Pf.Si(i,r[0]._a),this.Pf.Si(i,r[r.length-1]._a)));const h=this.Kf();for(let c=h.length;c--;){const d=this.Pf.Si(i,h[c].Gt());d>t&&(t=d)}const l=this.Vi.Tt();if(l!==null&&this.Cf!==null){const c=this.Vi.pn(1,l),d=this.Vi.pn(this.Cf.height-2,l);t=Math.max(t,this.Pf.Si(i,this.Vi.Fi(Math.floor(Math.min(c,d))+.11111111111111,l)),this.Pf.Si(i,this.Vi.Fi(Math.ceil(Math.max(c,d))-.11111111111111,l)))}i.restore();const a=t||34;return Uu(Math.ceil(e.k+e.C+e.A+e.L+5+a))}Gf(t){this.Cf!==null&&As(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`)}Jf(){return Y(this.Cf).width}Gi(t){this.Vi!==t&&(this.Vi!==null&&this.Vi.so().v(this),this.Vi=t,t.so().l(this.Ma.bind(this),this))}Bt(){return this.Vi}Fe(){const t=this.tn.Qf();this.tn.Of().Ut().Uo(t,Y(this.Bt()))}tp(t){if(this.Cf===null)return;if(t!==1){this.ip(),this.Ef.applySuggestedBitmapSize();const i=Ps(this.Ef);i!==null&&(i.useBitmapCoordinateSpace(r=>{this.np(r),this.ye(r)}),this.sp(i),this.ep(i))}this.Vf.applySuggestedBitmapSize();const e=Ps(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:i,bitmapSize:r})=>{i.clearRect(0,0,r.width,r.height)}),this.rp(e))}hp(){return this.Ef.bitmapSize}lp(t,e,i){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,i)}gt(){var t;(t=this.Vi)===null||t===void 0||t.Gl()}zf(t){if(this.Vi===null||this.Vi.Ni()||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),i=this.tn.Qf();this.Tf=!0,e.zo(i,this.Vi,t.localY)}Nf(t){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),i=this.tn.Qf(),r=this.Vi;e.No(i,r,t.localY)}Ff(){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Of().Ut(),e=this.tn.Qf(),i=this.Vi;this.Tf&&(this.Tf=!1,t.Fo(e,i))}Wf(t){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),i=this.tn.Qf();this.Tf=!1,e.Fo(i,this.Vi)}jf(t){this.un.handleScale.axisDoubleClickReset.price&&this.Fe()}$f(t){this.Vi!==null&&(!this.tn.Of().Ut().F().handleScale.axisPressedMouseMove.price||this.Vi.th()||this.Vi.za()||this.ap(1))}Hf(t){this.ap(0)}Kf(){const t=[],e=this.Vi===null?void 0:this.Vi;return(i=>{for(let r=0;r<i.length;++r){const h=i[r].Pn(this.tn.Qf(),e);for(let l=0;l<h.length;l++)t.push(h[l])}})(this.tn.Qf().Ga()),t}np({context:t,bitmapSize:e}){const{width:i,height:r}=e,h=this.tn.Qf().Ut(),l=h.U(),a=h.Lc();l===a?Xh(t,0,0,i,r,l):gp(t,0,0,i,r,l,a)}ye({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.Cf===null||this.Vi===null||!this.Vi.F().borderVisible)return;t.fillStyle=this.Vi.F().borderColor;const r=Math.max(1,Math.floor(this.Yf().k*i));let h;h=this.Lf?e.width-r:0,t.fillRect(h,0,r,e.height)}sp(t){if(this.Cf===null||this.Vi===null)return;const e=this.Vi.Gl(),i=this.Vi.F(),r=this.Yf(),h=this.Lf?this.Cf.width-r.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:c})=>{l.fillStyle=i.borderColor;const d=Math.max(1,Math.floor(c)),f=Math.floor(.5*c),g=Math.round(r.C*a);l.beginPath();for(const m of e)l.rect(Math.floor(h*a),Math.round(m.ql*c)-f,g,d);l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{var a;l.font=this.Zf(),l.fillStyle=(a=i.textColor)!==null&&a!==void 0?a:this.Da.textColor,l.textAlign=this.Lf?"right":"left",l.textBaseline="middle";const c=this.Lf?Math.round(h-r.A):Math.round(h+r.C+r.A),d=e.map(f=>this.Pf.Mi(l,f._a));for(let f=e.length;f--;){const g=e[f];l.fillText(g._a,c,g.ql+d[f])}})}ip(){if(this.Cf===null||this.Vi===null)return;let t=this.Cf.height/2;const e=[],i=this.Vi.Ga().slice(),r=this.tn.Qf(),h=this.Yf();this.Vi===r.Je()&&this.tn.Qf().Ga().forEach(c=>{r.Ge(c)&&i.push(c)});const l=this.Vi.Wl()[0],a=this.Vi;i.forEach(c=>{const d=c.Pn(r,a);d.forEach(f=>{f.Oi(null),f.Ai()&&e.push(f)}),l===c&&d.length>0&&(t=d[0].yi())}),e.forEach(c=>c.Oi(c.yi())),this.Vi.F().alignLabels&&this.op(e,h,t)}op(t,e,i){if(this.Cf===null)return;const r=t.filter(l=>l.yi()<=i),h=t.filter(l=>l.yi()>i);r.sort((l,a)=>a.yi()-l.yi()),r.length&&h.length&&h.push(r[0]),h.sort((l,a)=>l.yi()-a.yi());for(const l of t){const a=Math.floor(l.It(e)/2),c=l.yi();c>-a&&c<a&&l.Oi(a),c>this.Cf.height-a&&c<this.Cf.height+a&&l.Oi(this.Cf.height-a)}for(let l=1;l<r.length;l++){const a=r[l],c=r[l-1],d=c.It(e,!1),f=a.yi(),g=c.Bi();f>g-d&&a.Oi(g-d)}for(let l=1;l<h.length;l++){const a=h[l],c=h[l-1],d=c.It(e,!0),f=a.yi(),g=c.Bi();f<g+d&&a.Oi(g+d)}}ep(t){if(this.Cf===null)return;const e=this.Kf(),i=this.Yf(),r=this.Lf?"right":"left";e.forEach(h=>{h.Li()&&h.Mt(Y(this.Vi)).X(t,i,this.Pf,r)})}rp(t){if(this.Cf===null||this.Vi===null)return;const e=this.tn.Of().Ut(),i=[],r=this.tn.Qf(),h=e.cc().Pn(r,this.Vi);h.length&&i.push(h);const l=this.Yf(),a=this.Lf?"right":"left";i.forEach(c=>{c.forEach(d=>{d.Mt(Y(this.Vi)).X(t,l,this.Pf,a)})})}ap(t){this.If.style.cursor=t===1?"ns-resize":"default"}Ma(){const t=this.Xf();this.Rf<t&&this.tn.Of().Ut().dl(),this.Rf=t}Zf(){return Er(this.Da.fontSize,this.Da.fontFamily)}}function $f(s,t,e,i){s.K&&s.K(t,e,i)}function Eu(s,t,e,i){s.X(t,e,i)}function Sh(s,t){return s.Tn(t)}function oS(s,t){return s.Ji(t)}function hS(s,t){return s.kl!==void 0?s.kl(t):[]}class sa{constructor(t,e){this.Cf=Zt({width:0,height:0}),this._p=null,this.up=null,this.cp=null,this.dp=!1,this.fp=new be,this.pp=0,this.vp=!1,this.mp=null,this.bp=!1,this.gp=null,this.wp=null,this.Df=!1,this.Bf=()=>{this.Df||this.Mp===null||this.Hi().Ch()},this.Af=()=>{this.Df||this.Mp===null||this.Hi().Ch()},this.Sp=t,this.Mp=e,this.Mp.Xo().l(this.xp.bind(this),this,!0),this.yp=document.createElement("td"),this.yp.style.padding="0",this.yp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.kp=document.createElement("td"),this.kp.style.padding="0",this.Cp=document.createElement("td"),this.Cp.style.padding="0",this.yp.appendChild(i),this.Ef=Ns(i,Zt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const r=this.Ef.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Vf=Ns(i,Zt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const h=this.Vf.canvasElement;h.style.position="absolute",h.style.zIndex="2",h.style.left="0",h.style.top="0",this.Tp=document.createElement("tr"),this.Tp.appendChild(this.kp),this.Tp.appendChild(this.yp),this.Tp.appendChild(this.Cp),this.Pp(),this.Uf=new na(this.Vf.canvasElement,this,{Xd:()=>this.mp===null&&!this.Sp.F().handleScroll.vertTouchDrag,Zd:()=>this.mp===null&&!this.Sp.F().handleScroll.horzTouchDrag})}M(){this._p!==null&&this._p.M(),this.up!==null&&this.up.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose(),this.Mp!==null&&this.Mp.Xo().v(this),this.Uf.M()}Qf(){return Y(this.Mp)}Rp(t){this.Mp!==null&&this.Mp.Xo().v(this),this.Mp=t,this.Mp!==null&&this.Mp.Xo().l(sa.prototype.xp.bind(this),this,!0),this.Pp()}Of(){return this.Sp}qf(){return this.Tp}Pp(){if(this.Mp!==null&&(this.Dp(),this.Hi().wt().length!==0)){if(this._p!==null){const t=this.Mp.Eo();this._p.Gi(Y(t))}if(this.up!==null){const t=this.Mp.Vo();this.up.Gi(Y(t))}}}Bp(){this._p!==null&&this._p.gt(),this.up!==null&&this.up.gt()}Po(){return this.Mp!==null?this.Mp.Po():0}Ro(t){this.Mp&&this.Mp.Ro(t)}$d(t){if(!this.Mp)return;this.Op();const e=t.localX,i=t.localY;this.Ap(e,i,t)}af(t){this.Op(),this.Lp(),this.Ap(t.localX,t.localY,t)}Hd(t){if(!this.Mp)return;this.Op();const e=t.localX,i=t.localY;this.Ap(e,i,t);const r=this.ir(e,i);this.Hi().hc(r&&{lc:r.lc,Ip:r.Ip})}sf(t){this.Mp!==null&&(this.Op(),this.Ep(t))}Jd(t){this.Op(),this.Vp(t),this.Ap(t.localX,t.localY,t)}nf(t){this.Mp!==null&&(this.Op(),this.vp=!1,this.zp(t))}if(t){this.Mp!==null&&this.Ep(t)}wf(t){if(this.vp=!0,this.mp===null){const e={x:t.localX,y:t.localY};this.Np(e,e,t)}}gf(t){this.Mp!==null&&(this.Op(),this.Mp.Ut().hc(null),this.Fp())}Wp(){return this.fp}df(){this.pp=1,this.Hi().Hn()}ff(t,e){if(!this.Sp.F().handleScale.pinch)return;const i=5*(e-this.pp);this.pp=e,this.Hi().bc(t.st,i)}hf(t){if(this.vp=!1,this.bp=this.mp!==null,this.Lp(),this.mp!==null){const e=this.Hi().cc();this.gp={x:e.Xt(),y:e.Zt()},this.mp={x:t.localX,y:t.localY}}}Kd(t){if(this.Mp===null)return;const e=t.localX,i=t.localY;if(this.mp===null)this.Vp(t);else{this.bp=!1;const r=Y(this.gp),h=r.x+(e-this.mp.x),l=r.y+(i-this.mp.y);this.Ap(h,l,t)}}tf(t){this.Of().F().trackingMode.exitMode===0&&(this.bp=!0),this.jp(),this.zp(t)}ir(t,e){const i=this.Mp;if(i===null)return null;const r=i.Ga();for(const h of r){const l=this.$p(h.Tn(i),t,e);if(l!==null)return{lc:h,yf:l.yf,Ip:l.Ip}}return null}Hp(t,e){Y(e==="left"?this._p:this.up).Gf(Zt({width:t,height:this.Cf.height}))}Up(){return this.Cf}Gf(t){As(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.yp.style.width=t.width+"px",this.yp.style.height=t.height+"px")}qp(){const t=Y(this.Mp);t.Io(t.Eo()),t.Io(t.Vo());for(const e of t.Wl())if(t.Ge(e)){const i=e.Bt();i!==null&&t.Io(i),e.Dn()}}hp(){return this.Ef.bitmapSize}lp(t,e,i){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,i)}tp(t){if(t===0||this.Mp===null)return;if(t>1&&this.qp(),this._p!==null&&this._p.tp(t),this.up!==null&&this.up.tp(t),t!==1){this.Ef.applySuggestedBitmapSize();const i=Ps(this.Ef);i!==null&&(i.useBitmapCoordinateSpace(r=>{this.np(r)}),this.Mp&&(this.Yp(i),this.Xp(i),this.Zp(i,Sh),this.Zp(i,oS)))}this.Vf.applySuggestedBitmapSize();const e=Ps(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:i,bitmapSize:r})=>{i.clearRect(0,0,r.width,r.height)}),this.Zp(e,hS),this.Kp(e))}Gp(){return this._p}Jp(){return this.up}xp(){this.Mp!==null&&this.Mp.Xo().v(this),this.Mp=null}Ep(t){const e=t.localX,i=t.localY;this.fp.g()&&this.fp.m(this.Hi().yt().eu(e),{x:e,y:i},t)}np({context:t,bitmapSize:e}){const{width:i,height:r}=e,h=this.Hi(),l=h.U(),a=h.Lc();l===a?Xh(t,0,0,i,r,a):gp(t,0,0,i,r,l,a)}Yp(t){const e=Y(this.Mp).Zo().Th().Mt();e!==null&&e.X(t,!1)}Xp(t){const e=this.Hi().uc();this.Qp(t,Sh,$f,e),this.Qp(t,Sh,Eu,e)}Kp(t){this.Qp(t,Sh,Eu,this.Hi().cc())}Zp(t,e){const i=Y(this.Mp).Ga();for(const r of i)this.Qp(t,e,$f,r);for(const r of i)this.Qp(t,e,Eu,r)}Qp(t,e,i,r){const h=Y(this.Mp),l=e(r,h),a=h.Ut().rc(),c=a!==null&&a.lc===r,d=a!==null&&c&&a.Ip!==void 0?a.Ip.sr:void 0;for(const f of l){const g=f.Mt();g!==null&&i(g,t,c,d)}}$p(t,e,i){for(const r of t){const h=r.Mt();if(h!==null&&h.ir){const l=h.ir(e,i);if(l!==null)return{yf:r,Ip:l}}}return null}Dp(){if(this.Mp===null)return;const t=this.Sp,e=this.Mp.Eo().F().visible,i=this.Mp.Vo().F().visible;e||this._p===null||(this.kp.removeChild(this._p.qf()),this._p.M(),this._p=null),i||this.up===null||(this.Cp.removeChild(this.up.qf()),this.up.M(),this.up=null);const r=t.Ut().Pc();e&&this._p===null&&(this._p=new Qf(this,t.F(),r,"left"),this.kp.appendChild(this._p.qf())),i&&this.up===null&&(this.up=new Qf(this,t.F(),r,"right"),this.Cp.appendChild(this.up.qf()))}tv(t){return t.Mf&&this.vp||this.mp!==null}iv(t){return Math.max(0,Math.min(t,this.Cf.width-1))}nv(t){return Math.max(0,Math.min(t,this.Cf.height-1))}Ap(t,e,i){this.Hi().kc(this.iv(t),this.nv(e),i,Y(this.Mp))}Fp(){this.Hi().Cc()}jp(){this.bp&&(this.mp=null,this.Fp())}Np(t,e,i){this.mp=t,this.bp=!1,this.Ap(e.x,e.y,i);const r=this.Hi().cc();this.gp={x:r.Xt(),y:r.Zt()}}Hi(){return this.Sp.Ut()}zp(t){if(!this.dp)return;const e=this.Hi(),i=this.Qf();if(e.$o(i,i.fn()),this.cp=null,this.dp=!1,e.Sc(),this.wp!==null){const r=performance.now(),h=e.yt();this.wp.pr(h.au(),r),this.wp.gu(r)||e.Yn(this.wp)}}Op(){this.mp=null}Lp(){if(this.Mp){if(this.Hi().Hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Y(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Mp.fn().Ni()&&this.Hi().yt().Ni()}}Vp(t){if(this.Mp===null)return;const e=this.Hi(),i=e.yt();if(i.Ni())return;const r=this.Sp.F(),h=r.handleScroll,l=r.kineticScroll;if((!h.pressedMouseMove||t.Mf)&&(!h.horzTouchDrag&&!h.vertTouchDrag||!t.Mf))return;const a=this.Mp.fn(),c=performance.now();if(this.cp!==null||this.tv(t)||(this.cp={x:t.clientX,y:t.clientY,__:c,sv:t.localX,ev:t.localY}),this.cp!==null&&!this.dp&&(this.cp.x!==t.clientX||this.cp.y!==t.clientY)){if(t.Mf&&l.touch||!t.Mf&&l.mouse){const d=i.Ks();this.wp=new sS(.2/d,7/d,.997,15/d),this.wp.Yc(i.au(),this.cp.__)}else this.wp=null;a.Ni()||e.Wo(this.Mp,a,t.localY),e.wc(t.localX),this.dp=!0}this.dp&&(a.Ni()||e.jo(this.Mp,a,t.localY),e.Mc(t.localX),this.wp!==null&&this.wp.Yc(i.au(),c))}}class td{constructor(t,e,i,r,h){this.vt=!0,this.Cf=Zt({width:0,height:0}),this.Bf=()=>this.tp(3),this.Lf=t==="left",this.Ku=i.Pc,this.un=e,this.rv=r,this.hv=h,this.If=document.createElement("div"),this.If.style.width="25px",this.If.style.height="100%",this.If.style.overflow="hidden",this.Ef=Ns(this.If,Zt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf)}M(){this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose()}qf(){return this.If}Up(){return this.Cf}Gf(t){As(this.Cf,t)||(this.Cf=t,this.Ef.resizeCanvasElement(t),this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`,this.vt=!0)}tp(t){if(t<3&&!this.vt||this.Cf.width===0||this.Cf.height===0)return;this.vt=!1,this.Ef.applySuggestedBitmapSize();const e=Ps(this.Ef);e!==null&&e.useBitmapCoordinateSpace(i=>{this.np(i),this.ye(i)})}hp(){return this.Ef.bitmapSize}lp(t,e,i){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,i)}ye({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(!this.rv())return;t.fillStyle=this.un.timeScale.borderColor;const h=Math.floor(this.Ku.F().k*i),l=Math.floor(this.Ku.F().k*r),a=this.Lf?e.width-h:0;t.fillRect(a,0,h,l)}np({context:t,bitmapSize:e}){Xh(t,0,0,e.width,e.height,this.hv())}}function lS(s,t){return s.g_>t.g_?s:t}class uS{constructor(t){this.lv=null,this.av=null,this.S=null,this.ov=!1,this.Cf=Zt({width:0,height:0}),this._v=new be,this.Pf=new mo(5),this.Df=!1,this.Bf=()=>{this.Df||this.Sp.Ut().Ch()},this.Af=()=>{this.Df||this.Sp.Ut().Ch()},this.Sp=t,this.un=t.F().layout,this.uv=document.createElement("tr"),this.cv=document.createElement("td"),this.cv.style.padding="0",this.dv=document.createElement("td"),this.dv.style.padding="0",this.If=document.createElement("td"),this.If.style.height="25px",this.If.style.padding="0",this.fv=document.createElement("div"),this.fv.style.width="100%",this.fv.style.height="100%",this.fv.style.position="relative",this.fv.style.overflow="hidden",this.If.appendChild(this.fv),this.Ef=Ns(this.fv,Zt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const e=this.Ef.canvasElement;e.style.position="absolute",e.style.zIndex="1",e.style.left="0",e.style.top="0",this.Vf=Ns(this.fv,Zt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const i=this.Vf.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.uv.appendChild(this.cv),this.uv.appendChild(this.If),this.uv.appendChild(this.dv),this.pv(),this.Sp.Ut().To().l(this.pv.bind(this),this),this.Uf=new na(this.Vf.canvasElement,this,{Xd:()=>!0,Zd:()=>!1})}M(){this.Uf.M(),this.lv!==null&&this.lv.M(),this.av!==null&&this.av.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose()}qf(){return this.uv}vv(){return this.lv}mv(){return this.av}af(t){if(this.ov)return;this.ov=!0;const e=this.Sp.Ut();!e.yt().Ni()&&this.Sp.F().handleScale.axisPressedMouseMove.time&&e.mc(t.localX)}hf(t){this.af(t)}_f(){const t=this.Sp.Ut();!t.yt().Ni()&&this.ov&&(this.ov=!1,this.Sp.F().handleScale.axisPressedMouseMove.time&&t.yc())}Jd(t){const e=this.Sp.Ut();!e.yt().Ni()&&this.Sp.F().handleScale.axisPressedMouseMove.time&&e.xc(t.localX)}Kd(t){this.Jd(t)}nf(){this.ov=!1;const t=this.Sp.Ut();t.yt().Ni()&&!this.Sp.F().handleScale.axisPressedMouseMove.time||t.yc()}tf(){this.nf()}Ed(){this.Sp.F().handleScale.axisDoubleClickReset.time&&this.Sp.Ut().Zn()}Od(){this.Ed()}$d(){this.Sp.Ut().F().handleScale.axisPressedMouseMove.time&&this.ap(1)}gf(){this.ap(0)}Up(){return this.Cf}bv(){return this._v}gv(t,e,i){As(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`,this._v.m(t)),this.lv!==null&&this.lv.Gf(Zt({width:e,height:t.height})),this.av!==null&&this.av.Gf(Zt({width:i,height:t.height}))}wv(){const t=this.Mv();return Math.ceil(t.k+t.C+t.T+t.I+t.O+t.Sv)}gt(){this.Sp.Ut().yt().Gl()}hp(){return this.Ef.bitmapSize}lp(t,e,i){const r=this.hp();r.width>0&&r.height>0&&t.drawImage(this.Ef.canvasElement,e,i)}tp(t){if(t===0)return;if(t!==1){this.Ef.applySuggestedBitmapSize();const i=Ps(this.Ef);i!==null&&(i.useBitmapCoordinateSpace(r=>{this.np(r),this.ye(r)}),this.sp(i)),this.lv!==null&&this.lv.tp(t),this.av!==null&&this.av.tp(t)}this.Vf.applySuggestedBitmapSize();const e=Ps(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:i,bitmapSize:r})=>{i.clearRect(0,0,r.width,r.height)}),this.xv([this.Sp.Ut().cc()],e))}np({context:t,bitmapSize:e}){Xh(t,0,0,e.width,e.height,this.Sp.Ut().Lc())}ye({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Sp.F().timeScale.borderVisible){t.fillStyle=this.yv();const r=Math.max(1,Math.floor(this.Mv().k*i));t.fillRect(0,0,e.width,r)}}sp(t){const e=this.Sp.Ut().yt(),i=e.Gl();if(!i||i.length===0)return;let r=i.reduce(lS,i[0]).g_;r>30&&r<50&&(r=30);const h=this.Mv(),l=e.F();l.borderVisible&&l.ticksVisible&&t.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:c,verticalPixelRatio:d})=>{a.strokeStyle=this.yv(),a.fillStyle=this.yv();const f=Math.max(1,Math.floor(c)),g=Math.floor(.5*c);a.beginPath();const m=Math.round(h.C*d);for(let b=i.length;b--;){const _=Math.round(i[b].ql*c);a.rect(_-g,0,f,m)}a.fill()}),t.useMediaCoordinateSpace(({context:a})=>{const c=h.k+h.C+h.I+h.T/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.$(),a.font=this.Zf();for(const d of i)if(d.g_<r){const f=d.uu?this.kv(a,d.ql,d._a):d.ql;a.fillText(d._a,f,c)}a.font=this.Cv();for(const d of i)if(d.g_>=r){const f=d.uu?this.kv(a,d.ql,d._a):d.ql;a.fillText(d._a,f,c)}})}kv(t,e,i){const r=this.Pf.Si(t,i),h=r/2,l=Math.floor(e-h)+.5;return l<0?e+=Math.abs(0-l):l+r>this.Cf.width&&(e-=Math.abs(this.Cf.width-(l+r))),e}xv(t,e){const i=this.Mv();for(const r of t)for(const h of r.Qi())h.Mt().X(e,i)}yv(){return this.Sp.F().timeScale.borderColor}$(){return this.un.textColor}W(){return this.un.fontSize}Zf(){return Er(this.W(),this.un.fontFamily)}Cv(){return Er(this.W(),this.un.fontFamily,"bold")}Mv(){this.S===null&&(this.S={k:1,V:NaN,I:NaN,O:NaN,ji:NaN,C:5,T:NaN,P:"",Wi:new mo,Sv:0});const t=this.S,e=this.Zf();if(t.P!==e){const i=this.W();t.T=i,t.P=e,t.I=3*i/12,t.O=3*i/12,t.ji=9*i/12,t.V=0,t.Sv=4*i/12,t.Wi.Fe()}return this.S}ap(t){this.If.style.cursor=t===1?"ew-resize":"default"}pv(){const t=this.Sp.Ut(),e=t.F();e.leftPriceScale.visible||this.lv===null||(this.cv.removeChild(this.lv.qf()),this.lv.M(),this.lv=null),e.rightPriceScale.visible||this.av===null||(this.dv.removeChild(this.av.qf()),this.av.M(),this.av=null);const i={Pc:this.Sp.Ut().Pc()},r=()=>e.leftPriceScale.borderVisible&&t.yt().F().borderVisible,h=()=>t.Lc();e.leftPriceScale.visible&&this.lv===null&&(this.lv=new td("left",e,i,r,h),this.cv.appendChild(this.lv.qf())),e.rightPriceScale.visible&&this.av===null&&(this.av=new td("right",e,i,r,h),this.dv.appendChild(this.av.qf()))}}const aS=!!Tr&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(s=>s.brand.includes("Chromium"))&&!!Tr&&(!((Tu=navigator==null?void 0:navigator.userAgentData)===null||Tu===void 0)&&Tu.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Tu;class cS{constructor(t,e){var i;this.Tv=[],this.Pv=0,this.da=0,this.po=0,this.Rv=0,this.Dv=0,this.Bv=null,this.Ov=!1,this.fp=new be,this.Yu=new be,this.Av=null,this.Lv=t,this.un=e,this.uv=document.createElement("div"),this.uv.classList.add("tv-lightweight-charts"),this.uv.style.overflow="hidden",this.uv.style.width="100%",this.uv.style.height="100%",(i=this.uv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Iv=document.createElement("table"),this.Iv.setAttribute("cellspacing","0"),this.uv.appendChild(this.Iv),this.Ev=this.Vv.bind(this),Ru(this.un)&&this.zv(!0),this.Hi=new nS(this.Zu.bind(this),this.un),this.Ut().dc().l(this.Nv.bind(this),this),this.Fv=new uS(this),this.Iv.appendChild(this.Fv.qf());const r=e.autoSize&&this.Wv();let h=this.un.width,l=this.un.height;if(r||h===0||l===0){const a=t.getBoundingClientRect();h=h||a.width,l=l||a.height}r||this.jv(h,l),this.$v(),t.appendChild(this.uv),this.Hv(),this.Hi.yt().xu().l(this.Hi.dl.bind(this.Hi),this),this.Hi.To().l(this.Hi.dl.bind(this.Hi),this)}Ut(){return this.Hi}F(){return this.un}Uv(){return this.Tv}qv(){return this.Fv}M(){this.zv(!1),this.Pv!==0&&window.cancelAnimationFrame(this.Pv),this.Hi.dc().v(this),this.Hi.yt().xu().v(this),this.Hi.To().v(this),this.Hi.M();for(const t of this.Tv)this.Iv.removeChild(t.qf()),t.Wp().v(this),t.M();this.Tv=[],Y(this.Fv).M(),this.uv.parentElement!==null&&this.uv.parentElement.removeChild(this.uv),this.Yu.M(),this.fp.M(),this.Yv()}jv(t,e,i=!1){if(this.da===e&&this.po===t)return;const r=function(a){const c=Math.floor(a.width),d=Math.floor(a.height);return Zt({width:c-c%2,height:d-d%2})}(Zt({width:t,height:e}));this.da=r.height,this.po=r.width;const h=this.da+"px",l=this.po+"px";Y(this.uv).style.height=h,Y(this.uv).style.width=l,this.Iv.style.height=h,this.Iv.style.width=l,i?this.Xv(we.ss(),performance.now()):this.Hi.dl()}tp(t){t===void 0&&(t=we.ss());for(let e=0;e<this.Tv.length;e++)this.Tv[e].tp(t.jn(e).Nn);this.un.timeScale.visible&&this.Fv.tp(t.Wn())}kh(t){const e=Ru(this.un);this.Hi.kh(t);const i=Ru(this.un);i!==e&&this.zv(i),this.Hv(),this.Zv(t)}Wp(){return this.fp}dc(){return this.Yu}Kv(){this.Bv!==null&&(this.Xv(this.Bv,performance.now()),this.Bv=null);const t=this.Gv(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=Y(e.getContext("2d"));return this.Gv(i),e}Jv(t){return t==="left"&&!this.Qv()||t==="right"&&!this.tm()||this.Tv.length===0?0:Y(t==="left"?this.Tv[0].Gp():this.Tv[0].Jp()).Jf()}Zv(t){(t.autoSize!==void 0||!this.Av||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Av&&this.Wv(),t.autoSize===!1&&this.Av!==null&&this.Yv(),t.autoSize||t.width===void 0&&t.height===void 0||this.jv(t.width||this.po,t.height||this.da))}Gv(t){let e=0,i=0;const r=this.Tv[0],h=(a,c)=>{let d=0;for(let f=0;f<this.Tv.length;f++){const g=this.Tv[f],m=Y(a==="left"?g.Gp():g.Jp()),b=m.hp();t!==null&&m.lp(t,c,d),d+=b.height}};this.Qv()&&(h("left",0),e+=Y(r.Gp()).hp().width);for(let a=0;a<this.Tv.length;a++){const c=this.Tv[a],d=c.hp();t!==null&&c.lp(t,e,i),i+=d.height}e+=r.hp().width,this.tm()&&(h("right",e),e+=Y(r.Jp()).hp().width);const l=(a,c,d)=>{Y(a==="left"?this.Fv.vv():this.Fv.mv()).lp(Y(t),c,d)};if(this.un.timeScale.visible){const a=this.Fv.hp();if(t!==null){let c=0;this.Qv()&&(l("left",c,i),c=Y(r.Gp()).hp().width),this.Fv.lp(t,c,i),c+=a.width,this.tm()&&l("right",c,i)}i+=a.height}return Zt({width:e,height:i})}im(){let t=0,e=0,i=0;for(const _ of this.Tv)this.Qv()&&(e=Math.max(e,Y(_.Gp()).Xf())),this.tm()&&(i=Math.max(i,Y(_.Jp()).Xf())),t+=_.Po();e=Uu(e),i=Uu(i);const r=this.po,h=this.da,l=Math.max(r-e-i,0),a=this.un.timeScale.visible;let c=a?this.Fv.wv():0;var d;c=(d=c)+d%2;const f=0+c,g=h<f?0:h-f,m=g/t;let b=0;for(let _=0;_<this.Tv.length;++_){const S=this.Tv[_];S.Rp(this.Hi._c()[_]);let R=0,k=0;k=_===this.Tv.length-1?g-b:Math.round(S.Po()*m),R=Math.max(k,2),b+=R,S.Gf(Zt({width:l,height:R})),this.Qv()&&S.Hp(e,"left"),this.tm()&&S.Hp(i,"right"),S.Qf()&&this.Hi.fc(S.Qf(),R)}this.Fv.gv(Zt({width:a?l:0,height:c}),a?e:0,a?i:0),this.Hi.Do(l),this.Rv!==e&&(this.Rv=e),this.Dv!==i&&(this.Dv=i)}zv(t){t?this.uv.addEventListener("wheel",this.Ev,{passive:!1}):this.uv.removeEventListener("wheel",this.Ev)}nm(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return aS?1/window.devicePixelRatio:1}Vv(t){if(!(t.deltaX!==0&&this.un.handleScroll.mouseWheel||t.deltaY!==0&&this.un.handleScale.mouseWheel))return;const e=this.nm(t),i=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.un.handleScale.mouseWheel){const h=Math.sign(r)*Math.min(1,Math.abs(r)),l=t.clientX-this.uv.getBoundingClientRect().left;this.Ut().bc(l,h)}i!==0&&this.un.handleScroll.mouseWheel&&this.Ut().gc(-80*i)}Xv(t,e){var i;const r=t.Wn();r===3&&this.sm(),r!==3&&r!==2||(this.rm(t),this.hm(t,e),this.Fv.gt(),this.Tv.forEach(h=>{h.Bp()}),((i=this.Bv)===null||i===void 0?void 0:i.Wn())===3&&(this.Bv.Qn(t),this.sm(),this.rm(this.Bv),this.hm(this.Bv,e),t=this.Bv,this.Bv=null)),this.tp(t)}hm(t,e){for(const i of t.Jn())this.ts(i,e)}rm(t){const e=this.Hi._c();for(let i=0;i<e.length;i++)t.jn(i).Fn&&e[i].qo()}ts(t,e){const i=this.Hi.yt();switch(t.Un){case 0:i.ku();break;case 1:i.Cu(t.Ot);break;case 2:i.Kn(t.Ot);break;case 3:i.Gn(t.Ot);break;case 4:i.cu();break;case 5:t.Ot.gu(e)||i.Gn(t.Ot.wu(e))}}Zu(t){this.Bv!==null?this.Bv.Qn(t):this.Bv=t,this.Ov||(this.Ov=!0,this.Pv=window.requestAnimationFrame(e=>{if(this.Ov=!1,this.Pv=0,this.Bv!==null){const i=this.Bv;this.Bv=null,this.Xv(i,e);for(const r of i.Jn())if(r.Un===5&&!r.Ot.gu(e)){this.Ut().Yn(r.Ot);break}}}))}sm(){this.$v()}$v(){const t=this.Hi._c(),e=t.length,i=this.Tv.length;for(let r=e;r<i;r++){const h=mi(this.Tv.pop());this.Iv.removeChild(h.qf()),h.Wp().v(this),h.M()}for(let r=i;r<e;r++){const h=new sa(this,t[r]);h.Wp().l(this.lm.bind(this),this),this.Tv.push(h),this.Iv.insertBefore(h.qf(),this.Fv.qf())}for(let r=0;r<e;r++){const h=t[r],l=this.Tv[r];l.Qf()!==h?l.Rp(h):l.Pp()}this.Hv(),this.im()}am(t,e,i){var r;const h=new Map;t!==null&&this.Hi.wt().forEach(f=>{const g=f.Ln().jh(t);g!==null&&h.set(f,g)});let l;if(t!==null){const f=(r=this.Hi.yt().Ui(t))===null||r===void 0?void 0:r.w_;f!==void 0&&(l=f)}const a=this.Ut().rc(),c=a!==null&&a.lc instanceof ea?a.lc:void 0,d=a!==null&&a.Ip!==void 0?a.Ip.nr:void 0;return{_t:l,Ys:t??void 0,om:e??void 0,_m:c,um:h,dm:d,fm:i??void 0}}lm(t,e,i){this.fp.m(()=>this.am(t,e,i))}Nv(t,e,i){this.Yu.m(()=>this.am(t,e,i))}Hv(){const t=this.un.timeScale.visible?"":"none";this.Fv.qf().style.display=t}Qv(){return this.Tv[0].Qf().Eo().F().visible}tm(){return this.Tv[0].Qf().Vo().F().visible}Wv(){return"ResizeObserver"in window&&(this.Av=new ResizeObserver(t=>{const e=t.find(i=>i.target===this.Lv);e&&this.jv(e.contentRect.width,e.contentRect.height)}),this.Av.observe(this.Lv,{box:"border-box"}),!0)}Yv(){this.Av!==null&&this.Av.disconnect()}}function Ru(s){return!!(s.handleScroll.mouseWheel||s.handleScale.mouseWheel)}function ed(s,t,e,i){const r=e.value,h={Ys:t,_t:s,Ot:[r,r,r,r],w_:i};return e.color!==void 0&&(h.D=e.color),h}function Mh(s){return s.Ot!==void 0}function yr(s){return(t,e,i,r)=>{return(h=i).open===void 0&&h.value===void 0?{_t:t,Ys:e,w_:r}:s(t,e,i,r);var h}}const fS={Candlestick:yr(function(s,t,e,i){const r={Ys:t,_t:s,Ot:[e.open,e.high,e.low,e.close],w_:i};return e.color!==void 0&&(r.D=e.color),e.borderColor!==void 0&&(r.At=e.borderColor),e.wickColor!==void 0&&(r.Dh=e.wickColor),r}),Bar:yr(function(s,t,e,i){const r={Ys:t,_t:s,Ot:[e.open,e.high,e.low,e.close],w_:i};return e.color!==void 0&&(r.D=e.color),r}),Area:yr(function(s,t,e,i){const r=e.value,h={Ys:t,_t:s,Ot:[r,r,r,r],w_:i};return e.lineColor!==void 0&&(h.ot=e.lineColor),e.topColor!==void 0&&(h.bs=e.topColor),e.bottomColor!==void 0&&(h.gs=e.bottomColor),h}),Baseline:yr(function(s,t,e,i){const r=e.value,h={Ys:t,_t:s,Ot:[r,r,r,r],w_:i};return e.topLineColor!==void 0&&(h.be=e.topLineColor),e.bottomLineColor!==void 0&&(h.ge=e.bottomLineColor),e.topFillColor1!==void 0&&(h.de=e.topFillColor1),e.topFillColor2!==void 0&&(h.fe=e.topFillColor2),e.bottomFillColor1!==void 0&&(h.pe=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(h.ve=e.bottomFillColor2),h}),Histogram:yr(ed),Line:yr(ed)};function id(s){return fS[s]}function xh(s){return 60*s*60*1e3}function Ou(s){return 60*s*1e3}const Ch=[{pm:(nd=1,1e3*nd),g_:10},{pm:Ou(1),g_:20},{pm:Ou(5),g_:21},{pm:Ou(30),g_:22},{pm:xh(1),g_:30},{pm:xh(3),g_:31},{pm:xh(6),g_:32},{pm:xh(12),g_:33}];var nd;function sd(s,t){if(s.getUTCFullYear()!==t.getUTCFullYear())return 70;if(s.getUTCMonth()!==t.getUTCMonth())return 60;if(s.getUTCDate()!==t.getUTCDate())return 50;for(let e=Ch.length-1;e>=0;--e)if(Math.floor(t.getTime()/Ch[e].pm)!==Math.floor(s.getTime()/Ch[e].pm))return Ch[e].g_;return 0}function rd(s,t=0){if(s.length===0)return;let e=t===0?null:s[t-1]._t.__,i=e!==null?new Date(1e3*e):null,r=0;for(let h=t;h<s.length;++h){const l=s[h],a=new Date(1e3*l._t.__);i!==null&&(l.b_=sd(a,i)),r+=l._t.__-(e||l._t.__),e=l._t.__,i=a}if(t===0&&s.length>1){const h=Math.ceil(r/(s.length-1)),l=new Date(1e3*(s[0]._t.__-h));s[0].b_=sd(new Date(1e3*s[0]._t.__),l)}}function Hu(s){if(!ia(s))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(s.year,s.month-1,s.day,0,0,0,0));return{__:Math.round(t.getTime()/1e3),o_:s}}function Lp(s){if(!Pp(s))throw new Error("time must be of type isUTCTimestamp");return{__:s}}function od(s){return s.length===0?null:ia(s[0].time)?Hu:Lp}function Ph(s){return Pp(s)?Lp(s):ia(s)?Hu(s):Hu(Np(s))}function Np(s){const t=new Date(s);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${s}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function hd(s){Ju(s.time)&&(s.time=Np(s.time))}function ld(s){return{Ys:0,vm:new Map,yl:s}}function ud(s){if(s!==void 0&&s.length!==0)return{bm:s[0]._t.__,gm:s[s.length-1]._t.__}}function ad(s){let t;return s.forEach(e=>{t===void 0&&(t=e.w_)}),mi(t)}function cd(s){s.w_===void 0&&(s.w_=s.time)}class dS{constructor(){this.wm=new Map,this.Mm=new Map,this.Sm=new Map,this.xm=[]}M(){this.wm.clear(),this.Mm.clear(),this.Sm.clear(),this.xm=[]}ym(t,e){let i=this.wm.size!==0,r=!1;const h=this.Mm.get(t);if(h!==void 0)if(this.Mm.size===1)i=!1,r=!0,this.wm.clear();else for(const c of this.xm)c.pointData.vm.delete(t)&&(r=!0);let l=[];if(e.length!==0){const c=e;c.forEach(g=>cd(g)),function(g){g.forEach(hd)}(e);const d=Y(od(e)),f=id(t.Lh());l=c.map(g=>{const m=d(g.time);let b=this.wm.get(m.__);b===void 0&&(b=ld(m),this.wm.set(m.__,b),r=!0);const _=f(m,b.Ys,g,g.w_);return b.vm.set(t,_),_})}i&&this.km(),this.Cm(t,l);let a=-1;if(r){const c=[];this.wm.forEach(d=>{c.push({b_:0,_t:d.yl,pointData:d,w_:ad(d.vm)})}),c.sort((d,f)=>d._t.__-f._t.__),a=this.Tm(c)}return this.Pm(t,a,function(c,d){const f=ud(c),g=ud(d);if(f!==void 0&&g!==void 0)return{ml:f.gm>=g.gm&&f.bm>=g.bm}}(this.Mm.get(t),h))}Bc(t){return this.ym(t,[])}Rm(t,e){const i=e;cd(i),hd(e);const r=Y(od([e]))(e.time),h=this.Sm.get(t);if(h!==void 0&&r.__<h.__)throw new Error(`Cannot update oldest data, last time=${h.__}, new time=${r.__}`);let l=this.wm.get(r.__);const a=l===void 0;l===void 0&&(l=ld(r),this.wm.set(r.__,l));const c=id(t.Lh())(r,l.Ys,e,i.w_);l.vm.set(t,c),this.Dm(t,c);const d={ml:Mh(c)};if(!a)return this.Pm(t,-1,d);const f={b_:0,_t:l.yl,pointData:l,w_:ad(l.vm)},g=Mo(this.xm,f._t.__,(m,b)=>m._t.__<b);this.xm.splice(g,0,f);for(let m=g;m<this.xm.length;++m)Iu(this.xm[m].pointData,m);return rd(this.xm,g),this.Pm(t,g,d)}Dm(t,e){let i=this.Mm.get(t);i===void 0&&(i=[],this.Mm.set(t,i));const r=i.length!==0?i[i.length-1]:null;r===null||e._t.__>r._t.__?Mh(e)&&i.push(e):Mh(e)?i[i.length-1]=e:i.splice(-1,1),this.Sm.set(t,e._t)}Cm(t,e){e.length!==0?(this.Mm.set(t,e.filter(Mh)),this.Sm.set(t,e[e.length-1]._t)):(this.Mm.delete(t),this.Sm.delete(t))}km(){for(const t of this.xm)t.pointData.vm.size===0&&this.wm.delete(t._t.__)}Tm(t){let e=-1;for(let i=0;i<this.xm.length&&i<t.length;++i){const r=this.xm[i],h=t[i];if(r._t.__!==h._t.__){e=i;break}h.b_=r.b_,Iu(h.pointData,i)}if(e===-1&&this.xm.length!==t.length&&(e=Math.min(this.xm.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)Iu(t[i].pointData,i);return rd(t,e),this.xm=t,e}Bm(){if(this.Mm.size===0)return null;let t=0;return this.Mm.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Ys))}),t}Pm(t,e,i){const r={Om:new Map,yt:{su:this.Bm()}};if(e!==-1)this.Mm.forEach((h,l)=>{r.Om.set(l,{ar:h,Am:l===t?i:void 0})}),this.Mm.has(t)||r.Om.set(t,{ar:[],Am:i}),r.yt.Lm=this.xm,r.yt.Im=e;else{const h=this.Mm.get(t);r.Om.set(t,{ar:h||[],Am:i})}return r}}function Iu(s,t){s.Ys=t,s.vm.forEach(e=>{e.Ys=t})}function Wu(s){return{value:s.Ot[3],time:s.w_}}function fd(s){const t=Wu(s);return s.D!==void 0&&(t.color=s.D),t}function dd(s){return{open:s.Ot[0],high:s.Ot[1],low:s.Ot[2],close:s.Ot[3],time:s.w_}}const pS={Area:function(s){const t=Wu(s);return s.ot!==void 0&&(t.lineColor=s.ot),s.bs!==void 0&&(t.topColor=s.bs),s.gs!==void 0&&(t.bottomColor=s.gs),t},Line:fd,Baseline:function(s){const t=Wu(s);return s.be!==void 0&&(t.topLineColor=s.be),s.ge!==void 0&&(t.bottomLineColor=s.ge),s.de!==void 0&&(t.topFillColor1=s.de),s.fe!==void 0&&(t.topFillColor2=s.fe),s.pe!==void 0&&(t.bottomFillColor1=s.pe),s.ve!==void 0&&(t.bottomFillColor2=s.ve),t},Histogram:fd,Bar:function(s){const t=dd(s);return s.D!==void 0&&(t.color=s.D),t},Candlestick:function(s){const t=dd(s),{D:e,At:i,Dh:r}=s;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),r!==void 0&&(t.wickColor=r),t}};function Fp(s){return pS[s]}const Au={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2}},gS={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Xu,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},pd={width:0,height:0,autoSize:!1,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Xu},crosshair:{vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:Object.assign({},Au),leftPriceScale:Object.assign(Object.assign({},Au),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Au),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,ticksVisible:!1},watermark:gS,localization:{locale:Tr?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},mS={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},vS={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},_S={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},wS={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},bS={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},yS={color:"#26a69a",base:0},SS={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};class MS{constructor(t,e){this.Em=t,this.Vm=e}applyOptions(t){this.Em.Ut().ac(this.Vm,t)}options(){return this.Vi().F()}width(){return Zh(this.Vm)?this.Em.Jv(this.Vm):0}Vi(){return Y(this.Em.Ut().oc(this.Vm)).Bt}}const xS={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""};class CS{constructor(t){this.wh=t}applyOptions(t){this.wh.kh(t)}options(){return this.wh.F()}zm(){return this.wh}}class ES{constructor(t,e,i){this.Ts=t,this.Nm=e,this.Fm=i}priceFormatter(){return this.Ts.Bl()}priceToCoordinate(t){const e=this.Ts.Tt();return e===null?null:this.Ts.Bt().Dt(t,e.Ot)}coordinateToPrice(t){const e=this.Ts.Tt();return e===null?null:this.Ts.Bt().pn(t,e.Ot)}barsInLogicalRange(t){if(t===null)return null;const e=new Cr(new po(t.from,t.to)).k_(),i=this.Ts.Ln();if(i.Ni())return null;const r=i.jh(e.Ms(),1),h=i.jh(e.ci(),-1),l=Y(i.Nh()),a=Y(i.An());if(r!==null&&h!==null&&r.Ys>h.Ys)return{barsBefore:t.from-l,barsAfter:a-t.to};const c={barsBefore:r===null||r.Ys===l?t.from-l:r.Ys-l,barsAfter:h===null||h.Ys===a?a-t.to:a-h.Ys};return r!==null&&h!==null&&(c.from=r._t.o_||r._t.__,c.to=h._t.o_||h._t.__),c}setData(t){this.Ts.Lh(),this.Nm.Wm(this.Ts,t)}update(t){this.Ts.Lh(),this.Nm.jm(this.Ts,t)}dataByIndex(t,e){const i=this.Ts.Ln().jh(t,e);return i===null?null:Fp(this.seriesType())(i)}setMarkers(t){const e=t.map(i=>Object.assign(Object.assign({},i),{originalTime:i.time,time:Ph(i.time)}));this.Ts.gl(e)}markers(){return this.Ts.wl().map(t=>{const{originalTime:e,time:i}=t,r=function(h,l){var a={};for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&l.indexOf(c)<0&&(a[c]=h[c]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(c=Object.getOwnPropertySymbols(h);d<c.length;d++)l.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(h,c[d])&&(a[c[d]]=h[c[d]])}return a}(t,["originalTime","time"]);return Object.assign({time:e},r)})}applyOptions(t){this.Ts.kh(t)}options(){return pn(this.Ts.F())}priceScale(){return this.Fm.priceScale(this.Ts.Bt().Vl())}createPriceLine(t){const e=Qi(pn(xS),t),i=this.Ts.Ml(e);return new CS(i)}removePriceLine(t){this.Ts.Sl(t.zm())}seriesType(){return this.Ts.Lh()}}class TS{constructor(t,e){this.$m=new be,this.I_=new be,this._v=new be,this.Hi=t,this.bo=t.yt(),this.Fv=e,this.bo.Mu().l(this.Hm.bind(this)),this.bo.Su().l(this.Um.bind(this)),this.Fv.bv().l(this.qm.bind(this))}M(){this.bo.Mu().v(this),this.bo.Su().v(this),this.Fv.bv().v(this),this.$m.M(),this.I_.M(),this._v.M()}scrollPosition(){return this.bo.au()}scrollToPosition(t,e){e?this.bo.bu(t,1e3):this.Hi.Gn(t)}scrollToRealTime(){this.bo.mu()}getVisibleRange(){var t,e;const i=this.bo.K_();return i===null?null:{from:(t=i.from.o_)!==null&&t!==void 0?t:i.from.__,to:(e=i.to.o_)!==null&&e!==void 0?e:i.to.__}}setVisibleRange(t){const e={from:Ph(t.from),to:Ph(t.to)},i=this.bo.tu(e);this.Hi.Oc(i)}getVisibleLogicalRange(){const t=this.bo.Z_();return t===null?null:{from:t.Ms(),to:t.ci()}}setVisibleLogicalRange(t){Vs(t.from<=t.to,"The from index cannot be after the to index."),this.Hi.Oc(t)}resetTimeScale(){this.Hi.Zn()}fitContent(){this.Hi.ku()}logicalToCoordinate(t){const e=this.Hi.yt();return e.Ni()?null:e.Et(t)}coordinateToLogical(t){return this.bo.Ni()?null:this.bo.eu(t)}timeToCoordinate(t){const e=Ph(t),i=this.bo.Nl(e,!1);return i===null?null:this.bo.Et(i)}coordinateToTime(t){var e;const i=this.Hi.yt(),r=i.eu(t),h=i.vn(r);return h===null?null:(e=h.o_)!==null&&e!==void 0?e:h.__}width(){return this.Fv.Up().width}height(){return this.Fv.Up().height}subscribeVisibleTimeRangeChange(t){this.$m.l(t)}unsubscribeVisibleTimeRangeChange(t){this.$m.p(t)}subscribeVisibleLogicalRangeChange(t){this.I_.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.I_.p(t)}subscribeSizeChange(t){this._v.l(t)}unsubscribeSizeChange(t){this._v.p(t)}applyOptions(t){this.bo.kh(t)}options(){return pn(this.bo.F())}Hm(){this.$m.g()&&this.$m.m(this.getVisibleRange())}Um(){this.I_.g()&&this.I_.m(this.getVisibleLogicalRange())}qm(t){this._v.m(t.width,t.height)}}function RS(s){if(s===void 0||s.type==="custom")return;const t=s;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let i=0;for(;i<8;i++){const r=Math.round(e);if(Math.abs(r-e)<1e-8)return i;e*=10}return i}(t.minMove))}function gd(s){return function(t){if(vh(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:r}=t.handleScale;vh(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),vh(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;vh(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(s),s}class OS{constructor(t,e){this.Ym=new dS,this.Xm=new Map,this.Zm=new Map,this.Km=new be,this.Gm=new be;const i=e===void 0?pn(pd):Qi(pn(pd),gd(e));this.Em=new cS(t,i),this.Em.Wp().l(h=>{this.Km.g()&&this.Km.m(this.Jm(h()))},this),this.Em.dc().l(h=>{this.Gm.g()&&this.Gm.m(this.Jm(h()))},this);const r=this.Em.Ut();this.Qm=new TS(r,this.Em.qv())}remove(){this.Em.Wp().v(this),this.Em.dc().v(this),this.Qm.M(),this.Em.M(),this.Xm.clear(),this.Zm.clear(),this.Km.M(),this.Gm.M(),this.Ym.M()}resize(t,e,i){this.Em.jv(t,e,i)}addAreaSeries(t){return this.tb("Area",wS,t)}addBaselineSeries(t){return this.tb("Baseline",bS,t)}addBarSeries(t){return this.tb("Bar",vS,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.tb("Candlestick",mS,t)}addHistogramSeries(t){return this.tb("Histogram",yS,t)}addLineSeries(t){return this.tb("Line",_S,t)}removeSeries(t){const e=mi(this.Xm.get(t)),i=this.Ym.Bc(e);this.Em.Ut().Bc(e),this.ib(i),this.Xm.delete(t),this.Zm.delete(e)}Wm(t,e){this.ib(this.Ym.ym(t,e))}jm(t,e){this.ib(this.Ym.Rm(t,e))}subscribeClick(t){this.Km.l(t)}unsubscribeClick(t){this.Km.p(t)}subscribeCrosshairMove(t){this.Gm.l(t)}unsubscribeCrosshairMove(t){this.Gm.p(t)}priceScale(t){return new MS(this.Em,t)}timeScale(){return this.Qm}applyOptions(t){this.Em.kh(gd(t))}options(){return this.Em.F()}takeScreenshot(){return this.Em.Kv()}tb(t,e,i={}){RS(i.priceFormat);const r=Qi(pn(SS),pn(e),i),h=this.Em.Ut().Rc(t,r),l=new ES(h,this,this);return this.Xm.set(l,h),this.Zm.set(h,l),l}ib(t){const e=this.Em.Ut();e.Tc(t.yt.su,t.yt.Lm,t.yt.Im),t.Om.forEach((i,r)=>r.tt(i.ar,i.Am)),e.hu()}nb(t){return mi(this.Zm.get(t))}Jm(t){const e=new Map;t.um.forEach((r,h)=>{const l=Fp(h.Lh())(r);Vs(function(a){return a.open!==void 0||a.value!==void 0}(l)),e.set(this.nb(h),l)});const i=t._m===void 0?void 0:this.nb(t._m);return{time:t._t,logical:t.Ys,point:t.om,hoveredSeries:i,hoveredObjectId:t.dm,seriesData:e,sourceEvent:t.fm}}}function IS(s,t){let e;if(Ju(s)){const i=document.getElementById(s);Vs(i!==null,`Cannot find element in DOM with id=${s}`),e=i}else e=s;return new OS(e,t)}function AS(s){let t,e;return{c(){t=Rt("div"),this.h()},l(i){t=Ot(i,"DIV",{class:!0}),$(t).forEach(P),this.h()},h(){I(t,"class","overflow-visible w-full h-full min-h-[200px] sm:min-h-[250px]"),op(()=>s[6].call(t))},m(i,r){et(i,t,r),e=hp(t,s[6].bind(t)),s[7](t)},p:xr,i:xr,o:xr,d(i){i&&P(t),e(),s[7](null)}}}function PS(s,t,e){let i,r,h;const l={layout:{textColor:"rgb(107 114 128)",background:{type:Vu.Solid,color:"transparent"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{borderVisible:!1},rightPriceScale:{borderVisible:!1},watermark:{visible:!0,fontSize:24,horzAlign:"center",vertAlign:"center",color:"#FF3B7680",text:"bcked.com"}};let{priceFormat:a={type:"percent",precision:2,minMove:.01}}=t;const c={lineColor:"#FF3B76",topColor:"#FF3B7688",bottomColor:"#FF3B7600",priceFormat:a};let{data:d}=t,f,g,m;function b(L){L&&(g=IS(L,l),m=g.addAreaSeries(c),_(i))}function _(L){var G;m==null||m.setData(L),(G=g==null?void 0:g.timeScale())==null||G.fitContent()}function S(L,G){var N;g==null||g.resize(L,G),(N=g==null?void 0:g.timeScale())==null||N.fitContent()}function R(){r=this.offsetWidth,h=this.offsetHeight,e(2,r),e(1,h)}function k(L){lp[L?"unshift":"push"](()=>{f=L,e(0,f)})}return s.$$set=L=>{"priceFormat"in L&&e(3,a=L.priceFormat),"data"in L&&e(4,d=L.data)},s.$$.update=()=>{s.$$.dirty&16&&e(5,i=d.map(({date:L,value:G})=>({time:new Date(L).getTime()/1e3,value:G}))),s.$$.dirty&1&&b(f),s.$$.dirty&32&&_(i),s.$$.dirty&6&&S(r,h)},e(2,r=0),e(1,h=0),[f,h,r,a,d,i,R,k]}class Bp extends vi{constructor(t){super(),_i(this,t,PS,AS,wi,{priceFormat:3,data:4})}}function LS(s=yf){if(s===yf)return kp;if(typeof s!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=s(t,e);return i||i===0?i:(s(e,e)===0)-(s(t,t)===0)}}function kp(s,t){return(s==null||!(s>=s))-(t==null||!(t>=t))||(s<t?-1:s>t?1:0)}function Dp(s,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(s.length-1,i)),!(e<=t&&t<=i))return s;for(r=r===void 0?kp:LS(r);i>e;){if(i-e>600){const c=i-e+1,d=t-e+1,f=Math.log(c),g=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*g*(c-g)/c)*(d-c/2<0?-1:1),b=Math.max(e,Math.floor(t-d*g/c+m)),_=Math.min(i,Math.floor(t+(c-d)*g/c+m));Dp(s,t,b,_,r)}const h=s[t];let l=e,a=i;for(no(s,e,t),r(s[i],h)>0&&no(s,e,i);l<a;){for(no(s,l,a),++l,--a;r(s[l],h)<0;)++l;for(;r(s[a],h)>0;)--a}r(s[e],h)===0?no(s,e,a):(++a,no(s,a,i)),a<=t&&(e=a+1),t<=a&&(i=a-1)}return s}function no(s,t,e){const i=s[t];s[t]=s[e],s[e]=i}function NS(s,t,e){if(s=Float64Array.from($w(s,e)),!(!(i=s.length)||isNaN(t=+t))){if(t<=0||i<2)return Sf(s);if(t>=1)return Mf(s);var i,r=(i-1)*t,h=Math.floor(r),l=Mf(Dp(s,h).subarray(0,h+1)),a=Sf(s.subarray(h+1));return l+(a-l)*(r-h)}}function FS(s,t){return NS(s,.5,t)}function md(s){return function(t){return t<0?-Math.pow(-t,s):Math.pow(t,s)}}function BS(s){return s<0?-Math.sqrt(-s):Math.sqrt(s)}function kS(s){return s<0?-s*s:s*s}function DS(s){var t=s(gh,gh),e=1;function i(){return e===1?s(gh,gh):e===.5?s(BS,kS):s(md(e),md(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},ib(t)}function zp(){var s=DS(tb());return s.copy=function(){return eb(s,zp()).exponent(s.exponent())},lb.apply(s,arguments),s}function zS(){return zp.apply(null,arguments).exponent(.5)}function vd(s,t){let e;if(t===void 0)for(const i of s)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of s)(r=t(r,++i,s))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function VS(s,t){let e;if(t===void 0)for(const i of s)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of s)(r=t(r,++i,s))!=null&&(e>r||e===void 0&&r>=r)&&(e=r)}return e}function Pu(s,t){let e=0;if(t===void 0)for(let i of s)(i=+i)&&(e+=i);else{let i=-1;for(let r of s)(r=+t(r,++i,s))&&(e+=r)}return e}function Vp(s,t){return s.sourceLinks.length?s.depth:t-1}function Eh(s){return function(){return s}}function _d(s,t){return Wh(s.source,t.source)||s.index-t.index}function wd(s,t){return Wh(s.target,t.target)||s.index-t.index}function Wh(s,t){return s.y0-t.y0}function Lu(s){return s.value}function US(s){return s.index}function HS(s){return s.nodes}function WS(s){return s.links}function bd(s,t){const e=s.get(t);if(!e)throw new Error("missing: "+t);return e}function yd({nodes:s}){for(const t of s){let e=t.y0,i=e;for(const r of t.sourceLinks)r.y0=e+r.width/2,e+=r.width;for(const r of t.targetLinks)r.y1=i+r.width/2,i+=r.width}}function GS(){let s=0,t=0,e=1,i=1,r=24,h=8,l,a=US,c=Vp,d,f,g=HS,m=WS,b=6;function _(){const O={nodes:g.apply(null,arguments),links:m.apply(null,arguments)};return S(O),R(O),k(O),L(O),nt(O),yd(O),O}_.update=function(O){return yd(O),O},_.nodeId=function(O){return arguments.length?(a=typeof O=="function"?O:Eh(O),_):a},_.nodeAlign=function(O){return arguments.length?(c=typeof O=="function"?O:Eh(O),_):c},_.nodeSort=function(O){return arguments.length?(d=O,_):d},_.nodeWidth=function(O){return arguments.length?(r=+O,_):r},_.nodePadding=function(O){return arguments.length?(h=l=+O,_):h},_.nodes=function(O){return arguments.length?(g=typeof O=="function"?O:Eh(O),_):g},_.links=function(O){return arguments.length?(m=typeof O=="function"?O:Eh(O),_):m},_.linkSort=function(O){return arguments.length?(f=O,_):f},_.size=function(O){return arguments.length?(s=t=0,e=+O[0],i=+O[1],_):[e-s,i-t]},_.extent=function(O){return arguments.length?(s=+O[0][0],e=+O[1][0],t=+O[0][1],i=+O[1][1],_):[[s,t],[e,i]]},_.iterations=function(O){return arguments.length?(b=+O,_):b};function S({nodes:O,links:K}){for(const[j,q]of O.entries())q.index=j,q.sourceLinks=[],q.targetLinks=[];const U=new Map(O.map((j,q)=>[a(j,q,O),j]));for(const[j,q]of K.entries()){q.index=j;let{source:ot,target:B}=q;typeof ot!="object"&&(ot=q.source=bd(U,ot)),typeof B!="object"&&(B=q.target=bd(U,B)),ot.sourceLinks.push(q),B.targetLinks.push(q)}if(f!=null)for(const{sourceLinks:j,targetLinks:q}of O)j.sort(f),q.sort(f)}function R({nodes:O}){for(const K of O)K.value=K.fixedValue===void 0?Math.max(Pu(K.sourceLinks,Lu),Pu(K.targetLinks,Lu)):K.fixedValue}function k({nodes:O}){const K=O.length;let U=new Set(O),j=new Set,q=0;for(;U.size;){for(const ot of U){ot.depth=q;for(const{target:B}of ot.sourceLinks)j.add(B)}if(++q>K)throw new Error("circular link");U=j,j=new Set}}function L({nodes:O}){const K=O.length;let U=new Set(O),j=new Set,q=0;for(;U.size;){for(const ot of U){ot.height=q;for(const{source:B}of ot.targetLinks)j.add(B)}if(++q>K)throw new Error("circular link");U=j,j=new Set}}function G({nodes:O}){const K=vd(O,q=>q.depth)+1,U=(e-s-r)/(K-1),j=new Array(K);for(const q of O){const ot=Math.max(0,Math.min(K-1,Math.floor(c.call(null,q,K))));q.layer=ot,q.x0=s+ot*U,q.x1=q.x0+r,j[ot]?j[ot].push(q):j[ot]=[q]}if(d)for(const q of j)q.sort(d);return j}function N(O){const K=VS(O,U=>(i-t-(U.length-1)*l)/Pu(U,Lu));for(const U of O){let j=t;for(const q of U){q.y0=j,q.y1=j+q.value*K,j=q.y1+l;for(const ot of q.sourceLinks)ot.width=ot.value*K}j=(i-j+l)/(U.length+1);for(let q=0;q<U.length;++q){const ot=U[q];ot.y0+=j*(q+1),ot.y1+=j*(q+1)}ft(U)}}function nt(O){const K=G(O);l=Math.min(h,(i-t)/(vd(K,U=>U.length)-1)),N(K);for(let U=0;U<b;++U){const j=Math.pow(.99,U),q=Math.max(1-j,(U+1)/b);Z(K,j,q),ct(K,j,q)}}function ct(O,K,U){for(let j=1,q=O.length;j<q;++j){const ot=O[j];for(const B of ot){let dt=0,Xt=0;for(const{source:Gt,value:de}of B.targetLinks){let ve=de*(B.layer-Gt.layer);dt+=mt(Gt,B)*ve,Xt+=ve}if(!(Xt>0))continue;let Wt=(dt/Xt-B.y0)*K;B.y0+=Wt,B.y1+=Wt,bt(B)}d===void 0&&ot.sort(Wh),H(ot,U)}}function Z(O,K,U){for(let j=O.length,q=j-2;q>=0;--q){const ot=O[q];for(const B of ot){let dt=0,Xt=0;for(const{target:Gt,value:de}of B.sourceLinks){let ve=de*(Gt.layer-B.layer);dt+=yt(B,Gt)*ve,Xt+=ve}if(!(Xt>0))continue;let Wt=(dt/Xt-B.y0)*K;B.y0+=Wt,B.y1+=Wt,bt(B)}d===void 0&&ot.sort(Wh),H(ot,U)}}function H(O,K){const U=O.length>>1,j=O[U];Et(O,j.y0-l,U-1,K),it(O,j.y1+l,U+1,K),Et(O,i,O.length-1,K),it(O,t,0,K)}function it(O,K,U,j){for(;U<O.length;++U){const q=O[U],ot=(K-q.y0)*j;ot>1e-6&&(q.y0+=ot,q.y1+=ot),K=q.y1+l}}function Et(O,K,U,j){for(;U>=0;--U){const q=O[U],ot=(q.y1-K)*j;ot>1e-6&&(q.y0-=ot,q.y1-=ot),K=q.y0-l}}function bt({sourceLinks:O,targetLinks:K}){if(f===void 0){for(const{source:{sourceLinks:U}}of K)U.sort(wd);for(const{target:{targetLinks:U}}of O)U.sort(_d)}}function ft(O){if(f===void 0)for(const{sourceLinks:K,targetLinks:U}of O)K.sort(wd),U.sort(_d)}function mt(O,K){let U=O.y0-(O.sourceLinks.length-1)*l/2;for(const{target:j,width:q}of O.sourceLinks){if(j===K)break;U+=q+l}for(const{source:j,width:q}of K.targetLinks){if(j===O)break;U-=q}return U}function yt(O,K){let U=K.y0-(K.targetLinks.length-1)*l/2;for(const{source:j,width:q}of K.targetLinks){if(j===O)break;U+=q+l}for(const{target:j,width:q}of O.sourceLinks){if(j===K)break;U-=q}return U}return _}function qS(s){let t;return{c(){t=Bt("image"),this.h()},l(e){t=kt(e,"image",{x:!0,y:!0,href:!0,height:!0,width:!0,"dominant-baseline":!0,"text-anchor":!0}),$(t).forEach(P),this.h()},h(){I(t,"x",0),I(t,"y",0),I(t,"href",Xe+"/default-icon.png"),I(t,"height",64),I(t,"width",64),I(t,"dominant-baseline","central"),I(t,"text-anchor","middle")},m(e,i){et(e,t,i)},p:xr,d(e){e&&P(t)}}}function YS(s){let t,e;return{c(){t=Bt("image"),this.h()},l(i){t=kt(i,"image",{x:!0,y:!0,href:!0,height:!0,width:!0,"dominant-baseline":!0,"text-anchor":!0}),$(t).forEach(P),this.h()},h(){I(t,"x",0),I(t,"y",0),I(t,"href",e=Xe+"/"+s[5].icon.href),I(t,"height",64),I(t,"width",64),I(t,"dominant-baseline","central"),I(t,"text-anchor","middle")},m(i,r){et(i,t,r)},p(i,r){r&32&&e!==(e=Xe+"/"+i[5].icon.href)&&I(t,"href",e)},d(i){i&&P(t)}}}function KS(s){let t,e,i=s[4][0]&&Sd(s),r=s[4][1]&&Md(s);return{c(){i&&i.c(),t=fi(),r&&r.c(),e=fi()},l(h){i&&i.l(h),t=fi(),r&&r.l(h),e=fi()},m(h,l){i&&i.m(h,l),et(h,t,l),r&&r.m(h,l),et(h,e,l)},p(h,l){h[4][0]?i?i.p(h,l):(i=Sd(h),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),h[4][1]?r?r.p(h,l):(r=Md(h),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(h){i&&i.d(h),h&&P(t),r&&r.d(h),h&&P(e)}}}function Sd(s){let t,e;return{c(){t=Bt("image"),this.h()},l(i){t=kt(i,"image",{x:!0,y:!0,href:!0,height:!0,width:!0,"dominant-baseline":!0,"text-anchor":!0}),$(t).forEach(P),this.h()},h(){I(t,"x",0),I(t,"y",22),I(t,"href",e=Xe+"/"+s[4][0].icon.href),I(t,"height",42),I(t,"width",42),I(t,"dominant-baseline","central"),I(t,"text-anchor","middle")},m(i,r){et(i,t,r)},p(i,r){r&16&&e!==(e=Xe+"/"+i[4][0].icon.href)&&I(t,"href",e)},d(i){i&&P(t)}}}function Md(s){let t,e;return{c(){t=Bt("image"),this.h()},l(i){t=kt(i,"image",{x:!0,y:!0,href:!0,height:!0,width:!0,"dominant-baseline":!0,"text-anchor":!0}),$(t).forEach(P),this.h()},h(){I(t,"x",22),I(t,"y",0),I(t,"href",e=Xe+"/"+s[4][1].icon.href),I(t,"height",42),I(t,"width",42),I(t,"dominant-baseline","central"),I(t,"text-anchor","middle")},m(i,r){et(i,t,r)},p(i,r){r&16&&e!==(e=Xe+"/"+i[4][1].icon.href)&&I(t,"href",e)},d(i){i&&P(t)}}}function xd(s){let t,e,i;return{c(){t=Bt("circle"),e=Bt("image"),this.h()},l(r){t=kt(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),$(t).forEach(P),e=kt(r,"image",{x:!0,y:!0,href:!0,height:!0,width:!0,"dominant-baseline":!0,"text-anchor":!0}),$(e).forEach(P),this.h()},h(){var r;I(t,"cx",50),I(t,"cy",50),I(t,"r",14),I(t,"fill","#FFFFFFE5"),I(e,"x",38),I(e,"y",38),I(e,"href",i=Xe+"/"+((r=s[5].chain)==null?void 0:r.icon.href)),I(e,"height",24),I(e,"width",24),I(e,"dominant-baseline","central"),I(e,"text-anchor","middle")},m(r,h){et(r,t,h),et(r,e,h)},p(r,h){var l;h&32&&i!==(i=Xe+"/"+((l=r[5].chain)==null?void 0:l.icon.href))&&I(e,"href",i)},d(r){r&&P(t),r&&P(e)}}}function Cd(s){let t,e,i;return{c(){t=Bt("circle"),e=Bt("image"),this.h()},l(r){t=kt(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),$(t).forEach(P),e=kt(r,"image",{x:!0,y:!0,href:!0,height:!0,width:!0,"dominant-baseline":!0,"text-anchor":!0}),$(e).forEach(P),this.h()},h(){var r;I(t,"cx",34),I(t,"cy",50),I(t,"r",14),I(t,"fill","#FFFFFFE5"),I(e,"x",22),I(e,"y",38),I(e,"href",i=Xe+"/"+((r=s[5].issuer)==null?void 0:r.icon.href)),I(e,"height",24),I(e,"width",24),I(e,"dominant-baseline","central"),I(e,"text-anchor","middle")},m(r,h){et(r,t,h),et(r,e,h)},p(r,h){var l;h&32&&i!==(i=Xe+"/"+((l=r[5].issuer)==null?void 0:l.icon.href))&&I(e,"href",i)},d(r){r&&P(t),r&&P(e)}}}function jS(s){var _,S;let t,e,i,r=s[5].details.name+"",h,l,a,c;function d(R,k){var L,G;return k&48&&(l=null),l==null&&(l=!!(R[5].details.tags.includes("lp")&&R[4].length==2)),l?KS:(G=(L=R[5])==null?void 0:L.icon)!=null&&G.href?YS:qS}let f=d(s,-1),g=f(s),m=((_=s[5].chain)==null?void 0:_.icon)&&xd(s),b=((S=s[5].issuer)==null?void 0:S.icon)&&Cd(s);return{c(){t=Bt("svg"),e=Bt("desc"),i=$t("Icon of "),h=$t(r),g.c(),a=fi(),m&&m.c(),c=fi(),b&&b.c(),this.h()},l(R){t=kt(R,"svg",{version:!0,x:!0,y:!0,height:!0,width:!0,viewBox:!0,class:!0,xmlns:!0});var k=$(t);e=kt(k,"desc",{});var L=$(e);i=te(L,"Icon of "),h=te(L,r),L.forEach(P),g.l(k),a=fi(),m&&m.l(k),c=fi(),b&&b.l(k),k.forEach(P),this.h()},h(){I(t,"version","1.1"),I(t,"x",s[1]),I(t,"y",s[2]),I(t,"height",s[3]),I(t,"width",s[3]),I(t,"viewBox","0 0 64 64"),I(t,"class",s[0]),I(t,"xmlns","http://www.w3.org/2000/svg")},m(R,k){et(R,t,k),rt(t,e),rt(e,i),rt(e,h),g.m(t,null),rt(t,a),m&&m.m(t,null),rt(t,c),b&&b.m(t,null)},p(R,[k]){var L,G;k&32&&r!==(r=R[5].details.name+"")&&Ee(h,r),f===(f=d(R,k))&&g?g.p(R,k):(g.d(1),g=f(R),g&&(g.c(),g.m(t,a))),(L=R[5].chain)!=null&&L.icon?m?m.p(R,k):(m=xd(R),m.c(),m.m(t,c)):m&&(m.d(1),m=null),(G=R[5].issuer)!=null&&G.icon?b?b.p(R,k):(b=Cd(R),b.c(),b.m(t,null)):b&&(b.d(1),b=null),k&2&&I(t,"x",R[1]),k&4&&I(t,"y",R[2]),k&8&&I(t,"height",R[3]),k&8&&I(t,"width",R[3]),k&1&&I(t,"class",R[0])},i:xr,o:xr,d(R){R&&P(t),g.d(),m&&m.d(),b&&b.d()}}}function JS(s,t,e){let i,r,h,l,a,{class:c=""}=t,{data:d}=t,{id:f}=t,{x:g=0}=t,{y:m=0}=t,{size:b=32}=t,_;return s.$$set=S=>{"class"in S&&e(0,c=S.class),"data"in S&&e(6,d=S.data),"id"in S&&e(7,f=S.id),"x"in S&&e(1,g=S.x),"y"in S&&e(2,m=S.y),"size"in S&&e(3,b=S.size)},s.$$.update=()=>{s.$$.dirty&64&&e(11,{graphData:i}=d,i),s.$$.dirty&2048&&e(8,_=ap(i)),s.$$.dirty&384&&e(10,r=_.getNode(f)),s.$$.dirty&1024&&e(5,h=r.data),s.$$.dirty&384&&e(9,l=(_.getLinks(f)??[]).filter(S=>{var R;return(R=S.data.history.at(-1))==null?void 0:R.amount})),s.$$.dirty&896&&e(4,a=l.filter(S=>S.fromId==f).map(S=>_.getNode(S.toId).data))},[c,g,m,b,a,h,d,f,_,l,r,i]}class XS extends vi{constructor(t){super(),_i(this,t,JS,jS,wi,{class:0,data:6,id:7,x:1,y:2,size:3})}}function Ed(s,t,e){var a;const i=s.slice();i[18]=t[e],i[23]=e;const r=(a=i[0].getNode(i[18].id))==null?void 0:a.data;i[19]=r;const h=Math.max(i[18].y1-i[18].y0,1);i[20]=h;const l=Math.min(i[2],i[20])*.8;return i[21]=l,i}function Td(s,t,e){var l,a;const i=s.slice();i[18]=t[e],i[23]=e;const r=(l=i[0].getNode(i[18].source.id))==null?void 0:l.data;i[24]=r;const h=(a=i[0].getNode(i[18].target.id))==null?void 0:a.data;return i[25]=h,i}function Rd(s){let t,e,i=s[24].details.name+"",r,h=" -> ",l,a=s[25].details.name+"",c,d,f;return{c(){t=Bt("g"),e=Bt("title"),r=$t(i),l=$t(h),c=$t(a),d=Bt("path"),this.h()},l(g){t=kt(g,"g",{class:!0});var m=$(t);e=kt(m,"title",{});var b=$(e);r=te(b,i),l=te(b,h),c=te(b,a),b.forEach(P),d=kt(m,"path",{class:!0,d:!0}),$(d).forEach(P),m.forEach(P),this.h()},h(){I(d,"class","opacity-40 fill-neon-pink group-hover:fill-neon-blue"),I(d,"d",f=s[7](s[18])),I(t,"class","sankey-link group")},m(g,m){et(g,t,m),rt(t,e),rt(e,r),rt(e,l),rt(e,c),rt(t,d)},p(g,m){m&9&&i!==(i=g[24].details.name+"")&&Ee(r,i),m&9&&a!==(a=g[25].details.name+"")&&Ee(c,a),m&8&&f!==(f=g[7](g[18]))&&I(d,"d",f)},d(g){g&&P(t)}}}function Od(s){let t,e,i=s[19].details.name+"",r,h,l,a,c,d,f;return d=new XS({props:{class:"drop-shadow-md group-hover:drop-shadow-lg",id:s[18].id,data:s[1],x:s[18].y0+s[20]/2-s[21]/2,y:s[18].x0+s[2]/2-s[21]/2,size:s[21]}}),{c(){t=Bt("g"),e=Bt("title"),r=$t(i),h=Bt("rect"),It(d.$$.fragment),this.h()},l(g){t=kt(g,"g",{class:!0});var m=$(t);e=kt(m,"title",{});var b=$(e);r=te(b,i),b.forEach(P),h=kt(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,rx:!0,ry:!0}),$(h).forEach(P),At(d.$$.fragment,m),m.forEach(P),this.h()},h(){I(h,"class","fill-neon-pink group-hover:fill-neon-blue"),I(h,"x",l=s[18].y0),I(h,"y",a=s[18].x0),I(h,"height",s[2]),I(h,"width",c=s[20]),I(h,"rx","5"),I(h,"ry","5"),I(t,"class","sankey-node group")},m(g,m){et(g,t,m),rt(t,e),rt(e,r),rt(t,h),Pt(d,t,null),f=!0},p(g,m){(!f||m&9)&&i!==(i=g[19].details.name+"")&&Ee(r,i),(!f||m&8&&l!==(l=g[18].y0))&&I(h,"x",l),(!f||m&8&&a!==(a=g[18].x0))&&I(h,"y",a),(!f||m&4)&&I(h,"height",g[2]),(!f||m&8&&c!==(c=g[20]))&&I(h,"width",c);const b={};m&8&&(b.id=g[18].id),m&2&&(b.data=g[1]),m&12&&(b.x=g[18].y0+g[20]/2-g[21]/2),m&12&&(b.y=g[18].x0+g[2]/2-g[21]/2),m&12&&(b.size=g[21]),d.$set(b)},i(g){f||(J(d.$$.fragment,g),f=!0)},o(g){tt(d.$$.fragment,g),f=!1},d(g){g&&P(t),Lt(d)}}}function ZS(s){let t,e,i,r,h=s[3].links,l=[];for(let f=0;f<h.length;f+=1)l[f]=Rd(Td(s,h,f));let a=s[3].nodes,c=[];for(let f=0;f<a.length;f+=1)c[f]=Od(Ed(s,a,f));const d=f=>tt(c[f],1,1,()=>{c[f]=null});return{c(){t=Bt("g"),e=Bt("g");for(let f=0;f<l.length;f+=1)l[f].c();i=Bt("g");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){t=kt(f,"g",{class:!0});var g=$(t);e=kt(g,"g",{class:!0});var m=$(e);for(let _=0;_<l.length;_+=1)l[_].l(m);m.forEach(P),i=kt(g,"g",{class:!0});var b=$(i);for(let _=0;_<c.length;_+=1)c[_].l(b);b.forEach(P),g.forEach(P),this.h()},h(){I(e,"class","sankey-links"),I(i,"class","sankey-nodes"),I(t,"class","sankey-layer")},m(f,g){et(f,t,g),rt(t,e);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);rt(t,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);r=!0},p(f,[g]){if(g&137){h=f[3].links;let m;for(m=0;m<h.length;m+=1){const b=Td(f,h,m);l[m]?l[m].p(b,g):(l[m]=Rd(b),l[m].c(),l[m].m(e,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=h.length}if(g&15){a=f[3].nodes;let m;for(m=0;m<a.length;m+=1){const b=Ed(f,a,m);c[m]?(c[m].p(b,g),J(c[m],1)):(c[m]=Od(b),c[m].c(),J(c[m],1),c[m].m(i,null))}for(Ke(),m=a.length;m<c.length;m+=1)d(m);je()}},i(f){if(!r){for(let g=0;g<a.length;g+=1)J(c[g]);r=!0}},o(f){c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)tt(c[g]);r=!1},d(f){f&&P(t),kh(l,f),kh(c,f)}}}function QS(s,t,e){let i,r,h,l,a,{graph:c}=t,{data:d}=t;const{data:f,width:g,height:m}=Xw("LayerCake");at(s,f,N=>e(15,l=N)),at(s,g,N=>e(14,h=N)),at(s,m,N=>e(16,a=N));let{nodeHeight:b=40}=t,{linkWidth:_=N=>.9}=t,{nodePadding:S=10}=t,{nodeId:R=N=>N.id}=t,{nodeAlign:k=Vp}=t,{iterations:L=200}=t;function G(N){let nt=N.source.x1,ct=N.target.x0,Z=N.y0-N.width/2*_(N),H=N.y0+N.width/2*_(N),it=N.y1-N.width/2*_(N),Et=N.y1+N.width/2*_(N),bt=nt+(ct-nt)/2,ft=nb();return ft.moveTo(Z,nt),ft.bezierCurveTo(Z,bt,it,bt,it,ct),ft.lineTo(Et,ct),ft.bezierCurveTo(Et,bt,H,bt,H,nt),ft.lineTo(Z,nt),ft.toString()}return s.$$set=N=>{"graph"in N&&e(0,c=N.graph),"data"in N&&e(1,d=N.data),"nodeHeight"in N&&e(2,b=N.nodeHeight),"linkWidth"in N&&e(8,_=N.linkWidth),"nodePadding"in N&&e(9,S=N.nodePadding),"nodeId"in N&&e(10,R=N.nodeId),"nodeAlign"in N&&e(11,k=N.nodeAlign),"iterations"in N&&e(12,L=N.iterations)},s.$$.update=()=>{s.$$.dirty&89604&&e(13,i=GS().nodeAlign(k).nodeWidth(b).nodePadding(S).nodeId(R).size([a,h]).iterations(L)),s.$$.dirty&40960&&e(3,r=i(l)),s.$$.dirty&16384},[c,d,b,r,f,g,m,G,_,S,R,k,L,i,h,l,a]}class $S extends vi{constructor(t){super(),_i(this,t,QS,ZS,wi,{graph:0,data:1,nodeHeight:2,linkWidth:8,nodePadding:9,nodeId:10,nodeAlign:11,iterations:12})}}function t2(s){return s===0?!0:s}function Xn(s){return t2(s)?Array.isArray(s)?t=>s.map(e=>typeof e!="function"?t[e]:e(t)):typeof s!="function"?t=>t[s]:s:null}function e2(s){const t={};for(const e of s){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=e;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Nu(s,t={}){return e2(Object.entries(s).filter(([e,i])=>i!==void 0&&t[e]===void 0))}function i2(s,t=300){let e;return(...i)=>{clearTimeout(e),e=setTimeout(()=>{s.apply(this,i)},t)}}function n2(s,t,{sort:e=!1}={}){if(!Array.isArray(s))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof s}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),h=r.length;let l,a,c,d,f,g,m;const b=s.length;for(l=0;l<h;l+=1){for(m=new Set,d=r[l],f=t[d],a=0;a<b;a+=1)if(g=f(s[a]),Array.isArray(g)){const S=g.length;for(c=0;c<S;c+=1)m.add(g[c])}else m.add(g);const _=Array.from(m);i[d]=e===!0?_.sort():_}return i}function s2(s,t){if(!Array.isArray(s))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof s}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},i=Object.keys(t),r=i.length;let h,l,a,c,d,f,g,m;const b=s.length;for(h=0;h<r;h+=1){for(c=i[h],g=t[c],d=null,f=null,l=0;l<b;l+=1)if(m=g(s[l]),Array.isArray(m)){const _=m.length;for(a=0;a<_;a+=1)m[a]!==!1&&m[a]!==void 0&&m[a]!==null&&Number.isNaN(m[a])===!1&&((d===null||m[a]<d)&&(d=m[a]),(f===null||m[a]>f)&&(f=m[a]))}else m!==!1&&m!==void 0&&m!==null&&Number.isNaN(m)===!1&&((d===null||m<d)&&(d=m),(f===null||m>f)&&(f=m));e[c]=[d,f]}return e}function ho(s,t){return s.length!==t.length?!1:s.every(e=>t.includes(e))}function Up(s){return!!(typeof s.bandwidth=="function"||ho(Object.keys(s),["domain","range","unknown","copy"]))}function r2(s,t,e){const i=Object.keys(e).reduce((h,l)=>{const a=Up(e[l])===!0?"ordinal":"other";return h[a]||(h[a]={}),h[a][l]=t[l],h},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=n2(s,i.ordinal)),i.other&&(r={...r,...s2(s,i.other)}),r}function o2(s=[],t){return Array.isArray(t)===!0?t.map((e,i)=>e===null?s[i]:e):s}function Th(s){return function([e,i]){return typeof i=="function"&&(i=i(e[s])),e?o2(e[s],i):i}}const lo={x:mu,y:mu,z:mu,r:zS};function h2(s){return s.constant?"symlog":s.base?"log":s.exponent?s.exponent()===.5?"sqrt":"pow":"other"}function Id(s){return s}function l2(s){return t=>Math.log(s*t)}function u2(s){return t=>s*Math.exp(t)}function a2(s){return t=>Math.sign(t)*Math.log1p(Math.abs(t/s))}function c2(s){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*s}function Rh(s){return function(e){return e<0?-Math.pow(-e,s):Math.pow(e,s)}}function f2(s){const t=h2(s);if(t==="log"){const e=Math.sign(s.domain()[0]);return{lift:l2(e),ground:u2(e),scaleType:t}}return t==="pow"?{lift:Rh(1),ground:Rh(1/1),scaleType:t}:t==="sqrt"?{lift:Rh(.5),ground:Rh(1/.5),scaleType:t}:t==="symlog"?{lift:a2(1),ground:c2(1),scaleType:t}:{lift:Id,ground:Id,scaleType:t}}function Gh(s){return s.replace(/^\w/,t=>t.toUpperCase())}function Ie(s,t=""){return`scale${Gh(t)}${Gh(s)}`}function Hp(s){if(typeof s.bandwidth=="function")return typeof s.paddingInner=="function"?Ie("band"):Ie("point");if(ho(Object.keys(s),["domain","range","unknown","copy"]))return Ie("ordinal");let t="";if(s.interpolator&&(s.domain().length===3?t="diverging":t="sequential"),s.quantiles)return Ie("quantile",t);if(s.thresholds)return Ie("quantize",t);if(s.constant)return Ie("symlog",t);if(s.base)return Ie("log",t);if(s.exponent)return s.exponent()===.5?Ie("sqrt",t):Ie("pow",t);if(ho(Object.keys(s),["domain","range","invertExtent","unknown","copy"]))return Ie("threshold");if(ho(Object.keys(s),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Ie("identity");if(ho(Object.keys(s),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Ie("radial");if(t)return Ie(t);if(s.domain()[0]instanceof Date){const e=new Date;let i;return e.getDay=()=>i="time",e.getUTCDay=()=>i="utc",s.tickFormat(0,"%a")(e),Ie(i)}return Ie("linear")}const d2=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function p2(s,t){if(typeof s.range!="function")throw console.log(s),new Error("Scale method `range` must be a function");if(typeof s.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||d2.includes(Hp(s))||Up(s)===!0)return s.domain();const{lift:e,ground:i}=f2(s),r=s.domain()[0],h=Object.prototype.toString.call(r)==="[object Date]",[l,a]=s.domain().map(b=>e(h?b.getTime():b)),[c,d]=s.range(),f=t[0]||0,g=t[1]||0,m=(a-l)/(Math.abs(d-c)-f-g);return[l-f*m,g*m+a].map(b=>i(h?new Date(b):b))}function g2(s,t,e,i,r){let h,l;return r===!0?(h=0,l=100):(h=s==="r"?1:0,l=s==="y"?e:s==="r"?25:t),i===!0?[l,h]:[h,l]}function m2(s,t,e,i,r,h){return r?typeof r=="function"?r({width:t,height:e}):r:g2(s,t,e,i,h)}function Oh(s){return function([e,i,r,h,l,a,c,d,f,g]){if(i===null)return null;const m=m2(s,c,d,a,f,g),b=e===lo[s]?e():e.copy();return b.domain(r),(!b.interpolator||typeof b.interpolator=="function"&&b.interpolator().name.startsWith("identity"))&&b.range(m),h&&b.domain(p2(b,h)),(l===!0||typeof l=="number")&&(typeof b.nice=="function"?b.nice(typeof l=="number"?l:void 0):console.error(`[Layer Cake] You set \`${s}Nice: true\` but the ${s}Scale does not have a \`.nice\` method. Ignoring...`)),b}}function Ih([s,t]){return e=>{const i=s(e);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Ah([s]){if(typeof s=="function"){if(typeof s.range=="function")return s.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ji="    ";function v2(s){const{r:t,g:e,b:i,opacity:r}=sb(s);return[t,e,i].every(h=>h>=0&&h<=255)?{r:t,g:e,b:i,o:r}:!1}function _2({r:s,g:t,b:e}){return(.2126*s+.7152*t+.0722*e)/255>.6?"black":"white"}function w2(s){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),b2(s.boundingBox),console.log(`Scales:
`),Object.keys(s.activeGetters).forEach(t=>{y2(t,s[`${t}Scale`],s[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function b2(s){Object.entries(s).forEach(([t,e])=>{console.log(`${Ji}${t}:`,e)})}function y2(s,t,e){const i=Hp(t);console.log(`${Ji}${s}:`),console.log(`${Ji}${Ji}Accessor: "${e.toString()}"`),console.log(`${Ji}${Ji}Type: ${i}`),Ad(t,"domain"),Ad(t,"range"," ")}function Ad(s,t,e=""){const i=s[t](),r=M2(i);r?S2(r,t,i):console.log(`${Ji}${Ji}${Gh(t)}:${e}`,i)}function S2(s,t,e){console.log(`${Ji}${Ji}${Gh(t)}:    %cArray%c(${e.length}) `+s[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...s[1],"color: #1478e4")}function M2(s){const t=[],e=s.map((i,r)=>{const h=v2(i);if(h!==!1){t.push(h);const l=r===s.length-1?" ":"";return`%c ${i}${l}`}return i});return t.length?[`%c[ ${e.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${_2(i)};`)]:null}const x2=s=>({element:s[0]&4,width:s[0]&256,height:s[0]&512,aspectRatio:s[0]&1024,containerWidth:s[0]&128,containerHeight:s[0]&64}),Pd=s=>({element:s[2],width:s[8],height:s[9],aspectRatio:s[10],containerWidth:s[7],containerHeight:s[6]});function Ld(s){let t,e,i;const r=s[103].default,h=Fs(r,s,s[102],Pd);return{c(){t=Rt("div"),h&&h.c(),this.h()},l(l){t=Ot(l,"DIV",{class:!0});var a=$(t);h&&h.l(a),a.forEach(P),this.h()},h(){I(t,"class","layercake-container svelte-vhzpsp"),op(()=>s[105].call(t)),ui(t,"position",s[5]),ui(t,"top",s[5]==="absolute"?"0":null),ui(t,"right",s[5]==="absolute"?"0":null),ui(t,"bottom",s[5]==="absolute"?"0":null),ui(t,"left",s[5]==="absolute"?"0":null),ui(t,"pointer-events",s[4]===!1?"none":null)},m(l,a){et(l,t,a),h&&h.m(t,null),s[104](t),e=hp(t,s[105].bind(t)),i=!0},p(l,a){h&&h.p&&(!i||a[0]&1988|a[3]&512)&&Bs(h,r,l,l[102],i?Ds(r,l[102],a,x2):ks(l[102]),Pd),a[0]&32&&ui(t,"position",l[5]),a[0]&32&&ui(t,"top",l[5]==="absolute"?"0":null),a[0]&32&&ui(t,"right",l[5]==="absolute"?"0":null),a[0]&32&&ui(t,"bottom",l[5]==="absolute"?"0":null),a[0]&32&&ui(t,"left",l[5]==="absolute"?"0":null),a[0]&16&&ui(t,"pointer-events",l[4]===!1?"none":null)},i(l){i||(J(h,l),i=!0)},o(l){tt(h,l),i=!1},d(l){l&&P(t),h&&h.d(l),s[104](null),e()}}}function C2(s){let t,e,i=(s[3]===!0||typeof window<"u")&&Ld(s);return{c(){i&&i.c(),t=fi()},l(r){i&&i.l(r),t=fi()},m(r,h){i&&i.m(r,h),et(r,t,h),e=!0},p(r,h){r[3]===!0||typeof window<"u"?i?(i.p(r,h),h[0]&8&&J(i,1)):(i=Ld(r),i.c(),J(i,1),i.m(t.parentNode,t)):i&&(Ke(),tt(i,1,1,()=>{i=null}),je())},i(r){e||(J(i),e=!0)},o(r){tt(i),e=!1},d(r){i&&i.d(r),r&&P(t)}}}function E2(s,t,e){let i,r,h,l,a,c,d,f,g,m,b,_,S,R,k,L,G,N,nt,ct,Z,H,it,Et,bt,ft,mt,yt,O,K,U,j,q,ot,B,dt,Xt,Wt,Gt,de,ve,ye,Se,bi,De,ze,yi,{$$slots:he={},$$scope:Pe}=t;const $i=i2(w2,200);let{ssr:le=!1}=t,{pointerEvents:Si=!0}=t,{position:Fi="relative"}=t,{percentRange:Me=!1}=t,{width:pe=void 0}=t,{height:Ze=void 0}=t,{containerWidth:Le=pe||100}=t,{containerHeight:_n=Ze||100}=t,{element:Bi=void 0}=t,{x:wn=void 0}=t,{y:Qe=void 0}=t,{z:Ve=void 0}=t,{r:ki=void 0}=t,{data:Di=[]}=t,{xDomain:zi=void 0}=t,{yDomain:Vi=void 0}=t,{zDomain:Ui=void 0}=t,{rDomain:Hi=void 0}=t,{xNice:bn=!1}=t,{yNice:yn=!1}=t,{zNice:Sn=!1}=t,{rNice:Hs=!1}=t,{xPadding:Ws=void 0}=t,{yPadding:Gs=void 0}=t,{zPadding:ts=void 0}=t,{rPadding:es=void 0}=t,{xScale:qs=lo.x}=t,{yScale:is=lo.y}=t,{zScale:Ys=lo.z}=t,{rScale:Ks=lo.r}=t,{xRange:tn=void 0}=t,{yRange:Mn=void 0}=t,{zRange:xn=void 0}=t,{rRange:Cn=void 0}=t,{xReverse:En=!1}=t,{yReverse:js=typeof is.bandwidth!="function"}=t,{zReverse:Tn=!1}=t,{rReverse:Js=!1}=t,{padding:Xs={}}=t,{extents:Zs={}}=t,{flatData:Qs=void 0}=t,{custom:$s={}}=t,{debug:Lr=!1}=t,Nr=!1;up(()=>{Nr=!0});const Nt={},Mi=xt(Me);at(s,Mi,C=>e(141,bi=C));const Rn=xt(Le);at(s,Rn,C=>e(7,Se=C));const On=xt(_n);at(s,On,C=>e(6,ye=C));const tr=xt(Nu(Zs));at(s,tr,C=>e(140,ve=C));const er=xt(Di);at(s,er,C=>e(139,de=C));const ns=xt(Qs||Di);at(s,ns,C=>e(138,Gt=C));const ir=xt(Xs);at(s,ir,C=>e(137,Wt=C));const xi=xt(Xn(wn));at(s,xi,C=>e(136,Xt=C));const In=xt(Xn(Qe));at(s,In,C=>e(135,dt=C));const Ci=xt(Xn(Ve));at(s,Ci,C=>e(134,B=C));const An=xt(Xn(ki));at(s,An,C=>e(133,ot=C));const nr=xt(zi);at(s,nr,C=>e(132,q=C));const sr=xt(Vi);at(s,sr,C=>e(131,j=C));const ss=xt(Ui);at(s,ss,C=>e(130,U=C));const rs=xt(Hi);at(s,rs,C=>e(129,K=C));const Pn=xt(bn);at(s,Pn,C=>e(128,O=C));const os=xt(yn);at(s,os,C=>e(127,yt=C));const hs=xt(Sn);at(s,hs,C=>e(126,mt=C));const ls=xt(Hs);at(s,ls,C=>e(125,ft=C));const us=xt(En);at(s,us,C=>e(124,bt=C));const Ln=xt(js);at(s,Ln,C=>e(123,Et=C));const Nn=xt(Tn);at(s,Nn,C=>e(122,it=C));const Fn=xt(Js);at(s,Fn,C=>e(121,H=C));const en=xt(Ws);at(s,en,C=>e(120,Z=C));const as=xt(Gs);at(s,as,C=>e(119,ct=C));const Bn=xt(ts);at(s,Bn,C=>e(118,nt=C));const Wi=xt(es);at(s,Wi,C=>e(117,N=C));const cs=xt(tn);at(s,cs,C=>e(116,G=C));const rr=xt(Mn);at(s,rr,C=>e(115,L=C));const fs=xt(xn);at(s,fs,C=>e(114,k=C));const ds=xt(Cn);at(s,ds,C=>e(113,R=C));const nn=xt(qs);at(s,nn,C=>e(112,S=C));const ps=xt(is);at(s,ps,C=>e(111,_=C));const kn=xt(Ys);at(s,kn,C=>e(110,b=C));const sn=xt(Ks);at(s,sn,C=>e(109,m=C));const Dn=xt(Nt);at(s,Dn,C=>e(107,f=C));const Ei=xt($s);at(s,Ei,C=>e(108,g=C));const gs=ie([xi,In,Ci,An],([C,Oi,ti,oe])=>{const Gi={};return C&&(Gi.x=C),Oi&&(Gi.y=Oi),ti&&(Gi.z=ti),oe&&(Gi.r=oe),Gi});at(s,gs,C=>e(100,c=C));const Fr=ie([ir,Rn,On],([C])=>Object.assign({top:0,right:0,bottom:0,left:0},C)),or=ie([Rn,On,Fr],([C,Oi,ti])=>{const oe={};return oe.top=ti.top,oe.right=C-ti.right,oe.bottom=Oi-ti.bottom,oe.left=ti.left,oe.width=oe.right-oe.left,oe.height=oe.bottom-oe.top,oe.width<=0&&Nr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),oe.height<=0&&Nr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),oe});at(s,or,C=>e(101,d=C));const Ti=ie([or],([C])=>C.width);at(s,Ti,C=>e(8,De=C));const Ri=ie([or],([C])=>C.height);at(s,Ri,C=>e(9,ze=C));const $e=ie([ns,gs,tr,nn,ps,sn,kn],([C,Oi,ti,oe,Gi,fl,ue])=>{const Dr={x:oe,y:Gi,r:fl,z:ue},Ii=Nu(Oi,ti),Oo=Object.fromEntries(Object.keys(Ii).map(ws=>[ws,Dr[ws]]));return Object.keys(Ii).length>0?{...r2(C,Ii,Oo),...ti}:{}}),Br=ie([$e,nr],Th("x")),Eo=ie([$e,sr],Th("y")),To=ie([$e,ss],Th("z")),Ro=ie([$e,rs],Th("r")),zn=ie([nn,$e,Br,en,Pn,us,Ti,Ri,cs,Mi],Oh("x"));at(s,zn,C=>e(99,a=C));const sl=ie([xi,zn],Ih),ms=ie([ps,$e,Eo,as,os,Ln,Ti,Ri,rr,Mi],Oh("y"));at(s,ms,C=>e(98,l=C));const rl=ie([In,ms],Ih),vs=ie([kn,$e,To,Bn,hs,Nn,Ti,Ri,fs,Mi],Oh("z"));at(s,vs,C=>e(97,h=C));const kr=ie([Ci,vs],Ih),_s=ie([sn,$e,Ro,Wi,ls,Fn,Ti,Ri,ds,Mi],Oh("r"));at(s,_s,C=>e(96,r=C));const ol=ie([An,_s],Ih),hl=ie([zn],Ah),ll=ie([ms],Ah),ul=ie([vs],Ah),Yt=ie([_s],Ah),zt=ie([Ti,Ri],([C,Oi])=>C/Oi);at(s,zt,C=>e(10,yi=C));function al(C){lp[C?"unshift":"push"](()=>{Bi=C,e(2,Bi)})}function cl(){Le=this.clientWidth,_n=this.clientHeight,e(0,Le),e(1,_n)}return s.$$set=C=>{"ssr"in C&&e(3,le=C.ssr),"pointerEvents"in C&&e(4,Si=C.pointerEvents),"position"in C&&e(5,Fi=C.position),"percentRange"in C&&e(57,Me=C.percentRange),"width"in C&&e(58,pe=C.width),"height"in C&&e(59,Ze=C.height),"containerWidth"in C&&e(0,Le=C.containerWidth),"containerHeight"in C&&e(1,_n=C.containerHeight),"element"in C&&e(2,Bi=C.element),"x"in C&&e(60,wn=C.x),"y"in C&&e(61,Qe=C.y),"z"in C&&e(62,Ve=C.z),"r"in C&&e(63,ki=C.r),"data"in C&&e(64,Di=C.data),"xDomain"in C&&e(65,zi=C.xDomain),"yDomain"in C&&e(66,Vi=C.yDomain),"zDomain"in C&&e(67,Ui=C.zDomain),"rDomain"in C&&e(68,Hi=C.rDomain),"xNice"in C&&e(69,bn=C.xNice),"yNice"in C&&e(70,yn=C.yNice),"zNice"in C&&e(71,Sn=C.zNice),"rNice"in C&&e(72,Hs=C.rNice),"xPadding"in C&&e(73,Ws=C.xPadding),"yPadding"in C&&e(74,Gs=C.yPadding),"zPadding"in C&&e(75,ts=C.zPadding),"rPadding"in C&&e(76,es=C.rPadding),"xScale"in C&&e(77,qs=C.xScale),"yScale"in C&&e(78,is=C.yScale),"zScale"in C&&e(79,Ys=C.zScale),"rScale"in C&&e(80,Ks=C.rScale),"xRange"in C&&e(81,tn=C.xRange),"yRange"in C&&e(82,Mn=C.yRange),"zRange"in C&&e(83,xn=C.zRange),"rRange"in C&&e(84,Cn=C.rRange),"xReverse"in C&&e(85,En=C.xReverse),"yReverse"in C&&e(86,js=C.yReverse),"zReverse"in C&&e(87,Tn=C.zReverse),"rReverse"in C&&e(88,Js=C.rReverse),"padding"in C&&e(89,Xs=C.padding),"extents"in C&&e(90,Zs=C.extents),"flatData"in C&&e(91,Qs=C.flatData),"custom"in C&&e(92,$s=C.custom),"debug"in C&&e(93,Lr=C.debug),"$$scope"in C&&e(102,Pe=C.$$scope)},s.$$.update=()=>{s.$$.dirty[1]&536870912&&wn&&e(94,Nt.x=wn,Nt),s.$$.dirty[1]&1073741824&&Qe&&e(94,Nt.y=Qe,Nt),s.$$.dirty[2]&1&&Ve&&e(94,Nt.z=Ve,Nt),s.$$.dirty[2]&2&&ki&&e(94,Nt.r=ki,Nt),s.$$.dirty[2]&8&&zi&&e(94,Nt.xDomain=zi,Nt),s.$$.dirty[2]&16&&Vi&&e(94,Nt.yDomain=Vi,Nt),s.$$.dirty[2]&32&&Ui&&e(94,Nt.zDomain=Ui,Nt),s.$$.dirty[2]&64&&Hi&&e(94,Nt.rDomain=Hi,Nt),s.$$.dirty[2]&524288&&tn&&e(94,Nt.xRange=tn,Nt),s.$$.dirty[2]&1048576&&Mn&&e(94,Nt.yRange=Mn,Nt),s.$$.dirty[2]&2097152&&xn&&e(94,Nt.zRange=xn,Nt),s.$$.dirty[2]&4194304&&Cn&&e(94,Nt.rRange=Cn,Nt),s.$$.dirty[1]&67108864&&Mt(Mi,bi=Me,bi),s.$$.dirty[0]&1&&Mt(Rn,Se=Le,Se),s.$$.dirty[0]&2&&Mt(On,ye=_n,ye),s.$$.dirty[2]&268435456&&Mt(tr,ve=Nu(Zs),ve),s.$$.dirty[2]&4&&Mt(er,de=Di,de),s.$$.dirty[2]&536870916&&Mt(ns,Gt=Qs||Di,Gt),s.$$.dirty[2]&134217728&&Mt(ir,Wt=Xs,Wt),s.$$.dirty[1]&536870912&&Mt(xi,Xt=Xn(wn),Xt),s.$$.dirty[1]&1073741824&&Mt(In,dt=Xn(Qe),dt),s.$$.dirty[2]&1&&Mt(Ci,B=Xn(Ve),B),s.$$.dirty[2]&2&&Mt(An,ot=Xn(ki),ot),s.$$.dirty[2]&8&&Mt(nr,q=zi,q),s.$$.dirty[2]&16&&Mt(sr,j=Vi,j),s.$$.dirty[2]&32&&Mt(ss,U=Ui,U),s.$$.dirty[2]&64&&Mt(rs,K=Hi,K),s.$$.dirty[2]&128&&Mt(Pn,O=bn,O),s.$$.dirty[2]&256&&Mt(os,yt=yn,yt),s.$$.dirty[2]&512&&Mt(hs,mt=Sn,mt),s.$$.dirty[2]&1024&&Mt(ls,ft=Hs,ft),s.$$.dirty[2]&8388608&&Mt(us,bt=En,bt),s.$$.dirty[2]&16777216&&Mt(Ln,Et=js,Et),s.$$.dirty[2]&33554432&&Mt(Nn,it=Tn,it),s.$$.dirty[2]&67108864&&Mt(Fn,H=Js,H),s.$$.dirty[2]&2048&&Mt(en,Z=Ws,Z),s.$$.dirty[2]&4096&&Mt(as,ct=Gs,ct),s.$$.dirty[2]&8192&&Mt(Bn,nt=ts,nt),s.$$.dirty[2]&16384&&Mt(Wi,N=es,N),s.$$.dirty[2]&524288&&Mt(cs,G=tn,G),s.$$.dirty[2]&1048576&&Mt(rr,L=Mn,L),s.$$.dirty[2]&2097152&&Mt(fs,k=xn,k),s.$$.dirty[2]&4194304&&Mt(ds,R=Cn,R),s.$$.dirty[2]&32768&&Mt(nn,S=qs,S),s.$$.dirty[2]&65536&&Mt(ps,_=is,_),s.$$.dirty[2]&131072&&Mt(kn,b=Ys,b),s.$$.dirty[2]&262144&&Mt(sn,m=Ks,m),s.$$.dirty[2]&1073741824&&Mt(Ei,g=$s,g),s.$$.dirty[3]&2&&Mt(Dn,f=Nt,f),s.$$.dirty[3]&4&&Zw("LayerCake",i),s.$$.dirty[0]&8|s.$$.dirty[3]&507&&d&&Lr===!0&&(le===!0||typeof window<"u")&&$i({boundingBox:d,activeGetters:c,x:Nt.x,y:Nt.y,z:Nt.z,r:Nt.r,xScale:a,yScale:l,zScale:h,rScale:r})},e(95,i={activeGetters:gs,width:Ti,height:Ri,percentRange:Mi,aspectRatio:zt,containerWidth:Rn,containerHeight:On,x:xi,y:In,z:Ci,r:An,custom:Ei,data:er,xNice:Pn,yNice:os,zNice:hs,rNice:ls,xReverse:us,yReverse:Ln,zReverse:Nn,rReverse:Fn,xPadding:en,yPadding:as,zPadding:Bn,rPadding:Wi,padding:Fr,flatData:ns,extents:$e,xDomain:Br,yDomain:Eo,zDomain:To,rDomain:Ro,xRange:hl,yRange:ll,zRange:ul,rRange:Yt,config:Dn,xScale:zn,xGet:sl,yScale:ms,yGet:rl,zScale:vs,zGet:kr,rScale:_s,rGet:ol}),[Le,_n,Bi,le,Si,Fi,ye,Se,De,ze,yi,Mi,Rn,On,tr,er,ns,ir,xi,In,Ci,An,nr,sr,ss,rs,Pn,os,hs,ls,us,Ln,Nn,Fn,en,as,Bn,Wi,cs,rr,fs,ds,nn,ps,kn,sn,Dn,Ei,gs,or,Ti,Ri,zn,ms,vs,_s,zt,Me,pe,Ze,wn,Qe,Ve,ki,Di,zi,Vi,Ui,Hi,bn,yn,Sn,Hs,Ws,Gs,ts,es,qs,is,Ys,Ks,tn,Mn,xn,Cn,En,js,Tn,Js,Xs,Zs,Qs,$s,Lr,Nt,i,r,h,l,a,c,d,Pe,he,al,cl]}class T2 extends vi{constructor(t){super(),_i(this,t,E2,C2,wi,{ssr:3,pointerEvents:4,position:5,percentRange:57,width:58,height:59,containerWidth:0,containerHeight:1,element:2,x:60,y:61,z:62,r:63,data:64,xDomain:65,yDomain:66,zDomain:67,rDomain:68,xNice:69,yNice:70,zNice:71,rNice:72,xPadding:73,yPadding:74,zPadding:75,rPadding:76,xScale:77,yScale:78,zScale:79,rScale:80,xRange:81,yRange:82,zRange:83,rRange:84,xReverse:85,yReverse:86,zReverse:87,rReverse:88,padding:89,extents:90,flatData:91,custom:92,debug:93},null,[-1,-1,-1,-1,-1,-1])}}function R2(s){let t,e,i;return e=new $S({props:{graph:s[0],data:s[1]}}),{c(){t=Bt("svg"),It(e.$$.fragment),this.h()},l(r){t=kt(r,"svg",{version:!0,width:!0,height:!0,xmlns:!0});var h=$(t);At(e.$$.fragment,h),h.forEach(P),this.h()},h(){I(t,"version","1.1"),I(t,"width","100%"),I(t,"height","100%"),I(t,"xmlns","http://www.w3.org/2000/svg")},m(r,h){et(r,t,h),Pt(e,t,null),i=!0},p(r,h){const l={};h&1&&(l.graph=r[0]),h&2&&(l.data=r[1]),e.$set(l)},i(r){i||(J(e.$$.fragment,r),i=!0)},o(r){tt(e.$$.fragment,r),i=!1},d(r){r&&P(t),Lt(e)}}}function O2(s){let t,e,i,r,h,l,a,c;return a=new T2({props:{data:JSON.parse(JSON.stringify(Nd(s[0]))),$$slots:{default:[R2]},$$scope:{ctx:s}}}),{c(){t=Rt("div"),e=Rt("div"),i=Rt("span"),r=$t("bcked.com"),h=jt(),l=Rt("div"),It(a.$$.fragment),this.h()},l(d){t=Ot(d,"DIV",{class:!0});var f=$(t);e=Ot(f,"DIV",{class:!0});var g=$(e);i=Ot(g,"SPAN",{});var m=$(i);r=te(m,"bcked.com"),m.forEach(P),g.forEach(P),h=Jt(f),l=Ot(f,"DIV",{class:!0});var b=$(l);At(a.$$.fragment,b),b.forEach(P),f.forEach(P),this.h()},h(){I(e,"class","absolute flex inset-0 text-2xl justify-center items-center text-neon-pink/50"),I(l,"class","h-full w-full min-h-[300px] sm:min-h-[350px] lg:min-h-[300px]"),I(t,"class","relative w-full h-full items-center")},m(d,f){et(d,t,f),rt(t,e),rt(e,i),rt(i,r),rt(t,h),rt(t,l),Pt(a,l,null),c=!0},p(d,[f]){const g={};f&1&&(g.data=JSON.parse(JSON.stringify(Nd(d[0])))),f&7&&(g.$$scope={dirty:f,ctx:d}),a.$set(g)},i(d){c||(J(a.$$.fragment,d),c=!0)},o(d){tt(a.$$.fragment,d),c=!1},d(d){d&&P(t),Lt(a)}}}function Nd(s){let t={nodes:[],links:[]};return s.forEachNode(e=>{var i,r,h;(h=(r=(i=e==null?void 0:e.data)==null?void 0:i.history)==null?void 0:r.at(-1))!=null&&h.mcap&&t.nodes.push({id:e.id,name:e.id,value:e.data.history.at(-1).mcap})}),s.forEachLink(e=>{var i,r,h;(h=(r=(i=e==null?void 0:e.data)==null?void 0:i.history)==null?void 0:r.at(-1))!=null&&h.value&&t.nodes.some(l=>l.id==e.fromId)&&t.nodes.some(l=>l.id==e.toId)&&t.links.push({source:e.fromId,target:e.toId,value:e.data.history.at(-1).value})}),t}function I2(s,t,e){let{graph:i}=t,{data:r}=t;return s.$$set=h=>{"graph"in h&&e(0,i=h.graph),"data"in h&&e(1,r=h.data)},[i,r]}class Wp extends vi{constructor(t){super(),_i(this,t,I2,O2,wi,{graph:0,data:1})}}class A2{constructor(t){to(this,"_instances",{});this.classes=t}get instances(){return Object.keys(this.classes).map(t=>this.getInstance(t))}getInstance(t){const e=this.classes[t];if(!e)throw new Error(`No proxy implementation for: ${t}.`);if(e.name in this._instances)return this._instances[e.name];const i=new e;return this._instances[e.name]=i,i}}var di={},P2={get exports(){return di},set exports(s){di=s}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(s,t){(function(){var e,i="4.17.21",r=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",g=1,m=2,b=4,_=1,S=2,R=1,k=2,L=4,G=8,N=16,nt=32,ct=64,Z=128,H=256,it=512,Et=30,bt="...",ft=800,mt=16,yt=1,O=2,K=3,U=1/0,j=9007199254740991,q=17976931348623157e292,ot=0/0,B=4294967295,dt=B-1,Xt=B>>>1,Wt=[["ary",Z],["bind",R],["bindKey",k],["curry",G],["curryRight",N],["flip",it],["partial",nt],["partialRight",ct],["rearg",H]],Gt="[object Arguments]",de="[object Array]",ve="[object AsyncFunction]",ye="[object Boolean]",Se="[object Date]",bi="[object DOMException]",De="[object Error]",ze="[object Function]",yi="[object GeneratorFunction]",he="[object Map]",Pe="[object Number]",$i="[object Null]",le="[object Object]",Si="[object Promise]",Fi="[object Proxy]",Me="[object RegExp]",pe="[object Set]",Ze="[object String]",Le="[object Symbol]",_n="[object Undefined]",Bi="[object WeakMap]",wn="[object WeakSet]",Qe="[object ArrayBuffer]",Ve="[object DataView]",ki="[object Float32Array]",Di="[object Float64Array]",zi="[object Int8Array]",Vi="[object Int16Array]",Ui="[object Int32Array]",Hi="[object Uint8Array]",bn="[object Uint8ClampedArray]",yn="[object Uint16Array]",Sn="[object Uint32Array]",Hs=/\b__p \+= '';/g,Ws=/\b(__p \+=) '' \+/g,Gs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ts=/&(?:amp|lt|gt|quot|#39);/g,es=/[&<>"']/g,qs=RegExp(ts.source),is=RegExp(es.source),Ys=/<%-([\s\S]+?)%>/g,Ks=/<%([\s\S]+?)%>/g,tn=/<%=([\s\S]+?)%>/g,Mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xn=/^\w*$/,Cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,En=/[\\^$.*+?()[\]{}|]/g,js=RegExp(En.source),Tn=/^\s+/,Js=/\s/,Xs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zs=/\{\n\/\* \[wrapped with (.+)\] \*/,Qs=/,? & /,$s=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lr=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mi=/\w*$/,Rn=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,tr=/^\[object .+?Constructor\]$/,er=/^0o[0-7]+$/i,ns=/^(?:0|[1-9]\d*)$/,ir=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xi=/($^)/,In=/['\n\r\u2028\u2029\\]/g,Ci="\\ud800-\\udfff",An="\\u0300-\\u036f",nr="\\ufe20-\\ufe2f",sr="\\u20d0-\\u20ff",ss=An+nr+sr,rs="\\u2700-\\u27bf",Pn="a-z\\xdf-\\xf6\\xf8-\\xff",os="\\xac\\xb1\\xd7\\xf7",hs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ls="\\u2000-\\u206f",us=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ln="A-Z\\xc0-\\xd6\\xd8-\\xde",Nn="\\ufe0e\\ufe0f",Fn=os+hs+ls+us,en="['’]",as="["+Ci+"]",Bn="["+Fn+"]",Wi="["+ss+"]",cs="\\d+",rr="["+rs+"]",fs="["+Pn+"]",ds="[^"+Ci+Fn+cs+rs+Pn+Ln+"]",nn="\\ud83c[\\udffb-\\udfff]",ps="(?:"+Wi+"|"+nn+")",kn="[^"+Ci+"]",sn="(?:\\ud83c[\\udde6-\\uddff]){2}",Dn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ei="["+Ln+"]",gs="\\u200d",Fr="(?:"+fs+"|"+ds+")",or="(?:"+Ei+"|"+ds+")",Ti="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",Ri="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",$e=ps+"?",Br="["+Nn+"]?",Eo="(?:"+gs+"(?:"+[kn,sn,Dn].join("|")+")"+Br+$e+")*",To="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ro="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zn=Br+$e+Eo,sl="(?:"+[rr,sn,Dn].join("|")+")"+zn,ms="(?:"+[kn+Wi+"?",Wi,sn,Dn,as].join("|")+")",rl=RegExp(en,"g"),vs=RegExp(Wi,"g"),kr=RegExp(nn+"(?="+nn+")|"+ms+zn,"g"),_s=RegExp([Ei+"?"+fs+"+"+Ti+"(?="+[Bn,Ei,"$"].join("|")+")",or+"+"+Ri+"(?="+[Bn,Ei+Fr,"$"].join("|")+")",Ei+"?"+Fr+"+"+Ti,Ei+"+"+Ri,Ro,To,cs,sl].join("|"),"g"),ol=RegExp("["+gs+Ci+ss+Nn+"]"),hl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ll=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ul=-1,Yt={};Yt[ki]=Yt[Di]=Yt[zi]=Yt[Vi]=Yt[Ui]=Yt[Hi]=Yt[bn]=Yt[yn]=Yt[Sn]=!0,Yt[Gt]=Yt[de]=Yt[Qe]=Yt[ye]=Yt[Ve]=Yt[Se]=Yt[De]=Yt[ze]=Yt[he]=Yt[Pe]=Yt[le]=Yt[Me]=Yt[pe]=Yt[Ze]=Yt[Bi]=!1;var zt={};zt[Gt]=zt[de]=zt[Qe]=zt[Ve]=zt[ye]=zt[Se]=zt[ki]=zt[Di]=zt[zi]=zt[Vi]=zt[Ui]=zt[he]=zt[Pe]=zt[le]=zt[Me]=zt[pe]=zt[Ze]=zt[Le]=zt[Hi]=zt[bn]=zt[yn]=zt[Sn]=!0,zt[De]=zt[ze]=zt[Bi]=!1;var al={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},cl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},C={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ti=parseFloat,oe=parseInt,Gi=typeof eo=="object"&&eo&&eo.Object===Object&&eo,fl=typeof self=="object"&&self&&self.Object===Object&&self,ue=Gi||fl||Function("return this")(),Dr=t&&!t.nodeType&&t,Ii=Dr&&!0&&s&&!s.nodeType&&s,Oo=Ii&&Ii.exports===Dr,ws=Oo&&Gi.process,ei=function(){try{var E=Ii&&Ii.require&&Ii.require("util").types;return E||ws&&ws.binding&&ws.binding("util")}catch{}}(),ga=ei&&ei.isArrayBuffer,ma=ei&&ei.isDate,va=ei&&ei.isMap,_a=ei&&ei.isRegExp,wa=ei&&ei.isSet,ba=ei&&ei.isTypedArray;function Ue(E,F,A){switch(A.length){case 0:return E.call(F);case 1:return E.call(F,A[0]);case 2:return E.call(F,A[0],A[1]);case 3:return E.call(F,A[0],A[1],A[2])}return E.apply(F,A)}function v0(E,F,A,Q){for(var pt=-1,Dt=E==null?0:E.length;++pt<Dt;){var ae=E[pt];F(Q,ae,A(ae),E)}return Q}function ii(E,F){for(var A=-1,Q=E==null?0:E.length;++A<Q&&F(E[A],A,E)!==!1;);return E}function _0(E,F){for(var A=E==null?0:E.length;A--&&F(E[A],A,E)!==!1;);return E}function ya(E,F){for(var A=-1,Q=E==null?0:E.length;++A<Q;)if(!F(E[A],A,E))return!1;return!0}function Vn(E,F){for(var A=-1,Q=E==null?0:E.length,pt=0,Dt=[];++A<Q;){var ae=E[A];F(ae,A,E)&&(Dt[pt++]=ae)}return Dt}function Io(E,F){var A=E==null?0:E.length;return!!A&&hr(E,F,0)>-1}function dl(E,F,A){for(var Q=-1,pt=E==null?0:E.length;++Q<pt;)if(A(F,E[Q]))return!0;return!1}function Qt(E,F){for(var A=-1,Q=E==null?0:E.length,pt=Array(Q);++A<Q;)pt[A]=F(E[A],A,E);return pt}function Un(E,F){for(var A=-1,Q=F.length,pt=E.length;++A<Q;)E[pt+A]=F[A];return E}function pl(E,F,A,Q){var pt=-1,Dt=E==null?0:E.length;for(Q&&Dt&&(A=E[++pt]);++pt<Dt;)A=F(A,E[pt],pt,E);return A}function w0(E,F,A,Q){var pt=E==null?0:E.length;for(Q&&pt&&(A=E[--pt]);pt--;)A=F(A,E[pt],pt,E);return A}function gl(E,F){for(var A=-1,Q=E==null?0:E.length;++A<Q;)if(F(E[A],A,E))return!0;return!1}var b0=ml("length");function y0(E){return E.split("")}function S0(E){return E.match($s)||[]}function Sa(E,F,A){var Q;return A(E,function(pt,Dt,ae){if(F(pt,Dt,ae))return Q=Dt,!1}),Q}function Ao(E,F,A,Q){for(var pt=E.length,Dt=A+(Q?1:-1);Q?Dt--:++Dt<pt;)if(F(E[Dt],Dt,E))return Dt;return-1}function hr(E,F,A){return F===F?N0(E,F,A):Ao(E,Ma,A)}function M0(E,F,A,Q){for(var pt=A-1,Dt=E.length;++pt<Dt;)if(Q(E[pt],F))return pt;return-1}function Ma(E){return E!==E}function xa(E,F){var A=E==null?0:E.length;return A?_l(E,F)/A:ot}function ml(E){return function(F){return F==null?e:F[E]}}function vl(E){return function(F){return E==null?e:E[F]}}function Ca(E,F,A,Q,pt){return pt(E,function(Dt,ae,Kt){A=Q?(Q=!1,Dt):F(A,Dt,ae,Kt)}),A}function x0(E,F){var A=E.length;for(E.sort(F);A--;)E[A]=E[A].value;return E}function _l(E,F){for(var A,Q=-1,pt=E.length;++Q<pt;){var Dt=F(E[Q]);Dt!==e&&(A=A===e?Dt:A+Dt)}return A}function wl(E,F){for(var A=-1,Q=Array(E);++A<E;)Q[A]=F(A);return Q}function C0(E,F){return Qt(F,function(A){return[A,E[A]]})}function Ea(E){return E&&E.slice(0,Ia(E)+1).replace(Tn,"")}function He(E){return function(F){return E(F)}}function bl(E,F){return Qt(F,function(A){return E[A]})}function zr(E,F){return E.has(F)}function Ta(E,F){for(var A=-1,Q=E.length;++A<Q&&hr(F,E[A],0)>-1;);return A}function Ra(E,F){for(var A=E.length;A--&&hr(F,E[A],0)>-1;);return A}function E0(E,F){for(var A=E.length,Q=0;A--;)E[A]===F&&++Q;return Q}var T0=vl(al),R0=vl(cl);function O0(E){return"\\"+Oi[E]}function I0(E,F){return E==null?e:E[F]}function lr(E){return ol.test(E)}function A0(E){return hl.test(E)}function P0(E){for(var F,A=[];!(F=E.next()).done;)A.push(F.value);return A}function yl(E){var F=-1,A=Array(E.size);return E.forEach(function(Q,pt){A[++F]=[pt,Q]}),A}function Oa(E,F){return function(A){return E(F(A))}}function Hn(E,F){for(var A=-1,Q=E.length,pt=0,Dt=[];++A<Q;){var ae=E[A];(ae===F||ae===f)&&(E[A]=f,Dt[pt++]=A)}return Dt}function Po(E){var F=-1,A=Array(E.size);return E.forEach(function(Q){A[++F]=Q}),A}function L0(E){var F=-1,A=Array(E.size);return E.forEach(function(Q){A[++F]=[Q,Q]}),A}function N0(E,F,A){for(var Q=A-1,pt=E.length;++Q<pt;)if(E[Q]===F)return Q;return-1}function F0(E,F,A){for(var Q=A+1;Q--;)if(E[Q]===F)return Q;return Q}function ur(E){return lr(E)?k0(E):b0(E)}function Ai(E){return lr(E)?D0(E):y0(E)}function Ia(E){for(var F=E.length;F--&&Js.test(E.charAt(F)););return F}var B0=vl(C);function k0(E){for(var F=kr.lastIndex=0;kr.test(E);)++F;return F}function D0(E){return E.match(kr)||[]}function z0(E){return E.match(_s)||[]}var V0=function E(F){F=F==null?ue:ar.defaults(ue.Object(),F,ar.pick(ue,ll));var A=F.Array,Q=F.Date,pt=F.Error,Dt=F.Function,ae=F.Math,Kt=F.Object,Sl=F.RegExp,U0=F.String,ni=F.TypeError,Lo=A.prototype,H0=Dt.prototype,cr=Kt.prototype,No=F["__core-js_shared__"],Fo=H0.toString,qt=cr.hasOwnProperty,W0=0,Aa=function(){var n=/[^.]+$/.exec(No&&No.keys&&No.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Bo=cr.toString,G0=Fo.call(Kt),q0=ue._,Y0=Sl("^"+Fo.call(qt).replace(En,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ko=Oo?F.Buffer:e,Wn=F.Symbol,Do=F.Uint8Array,Pa=ko?ko.allocUnsafe:e,zo=Oa(Kt.getPrototypeOf,Kt),La=Kt.create,Na=cr.propertyIsEnumerable,Vo=Lo.splice,Fa=Wn?Wn.isConcatSpreadable:e,Vr=Wn?Wn.iterator:e,bs=Wn?Wn.toStringTag:e,Uo=function(){try{var n=Cs(Kt,"defineProperty");return n({},"",{}),n}catch{}}(),K0=F.clearTimeout!==ue.clearTimeout&&F.clearTimeout,j0=Q&&Q.now!==ue.Date.now&&Q.now,J0=F.setTimeout!==ue.setTimeout&&F.setTimeout,Ho=ae.ceil,Wo=ae.floor,Ml=Kt.getOwnPropertySymbols,X0=ko?ko.isBuffer:e,Ba=F.isFinite,Z0=Lo.join,Q0=Oa(Kt.keys,Kt),ce=ae.max,xe=ae.min,$0=Q.now,tg=F.parseInt,ka=ae.random,eg=Lo.reverse,xl=Cs(F,"DataView"),Ur=Cs(F,"Map"),Cl=Cs(F,"Promise"),fr=Cs(F,"Set"),Hr=Cs(F,"WeakMap"),Wr=Cs(Kt,"create"),Go=Hr&&new Hr,dr={},ig=Es(xl),ng=Es(Ur),sg=Es(Cl),rg=Es(fr),og=Es(Hr),qo=Wn?Wn.prototype:e,Gr=qo?qo.valueOf:e,Da=qo?qo.toString:e;function w(n){if(ne(n)&&!gt(n)&&!(n instanceof Ct)){if(n instanceof si)return n;if(qt.call(n,"__wrapped__"))return zc(n)}return new si(n)}var pr=function(){function n(){}return function(o){if(!ee(o))return{};if(La)return La(o);n.prototype=o;var u=new n;return n.prototype=e,u}}();function Yo(){}function si(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}w.templateSettings={escape:Ys,evaluate:Ks,interpolate:tn,variable:"",imports:{_:w}},w.prototype=Yo.prototype,w.prototype.constructor=w,si.prototype=pr(Yo.prototype),si.prototype.constructor=si;function Ct(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function hg(){var n=new Ct(this.__wrapped__);return n.__actions__=Ne(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Ne(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Ne(this.__views__),n}function lg(){if(this.__filtered__){var n=new Ct(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function ug(){var n=this.__wrapped__.value(),o=this.__dir__,u=gt(n),p=o<0,v=u?n.length:0,y=ym(0,v,this.__views__),M=y.start,x=y.end,T=x-M,z=p?x:M-1,V=this.__iteratees__,W=V.length,X=0,st=xe(T,this.__takeCount__);if(!u||!p&&v==T&&st==T)return lc(n,this.__actions__);var lt=[];t:for(;T--&&X<st;){z+=o;for(var _t=-1,ut=n[z];++_t<W;){var St=V[_t],Tt=St.iteratee,qe=St.type,Oe=Tt(ut);if(qe==O)ut=Oe;else if(!Oe){if(qe==yt)continue t;break t}}lt[X++]=ut}return lt}Ct.prototype=pr(Yo.prototype),Ct.prototype.constructor=Ct;function ys(n){var o=-1,u=n==null?0:n.length;for(this.clear();++o<u;){var p=n[o];this.set(p[0],p[1])}}function ag(){this.__data__=Wr?Wr(null):{},this.size=0}function cg(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function fg(n){var o=this.__data__;if(Wr){var u=o[n];return u===c?e:u}return qt.call(o,n)?o[n]:e}function dg(n){var o=this.__data__;return Wr?o[n]!==e:qt.call(o,n)}function pg(n,o){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=Wr&&o===e?c:o,this}ys.prototype.clear=ag,ys.prototype.delete=cg,ys.prototype.get=fg,ys.prototype.has=dg,ys.prototype.set=pg;function rn(n){var o=-1,u=n==null?0:n.length;for(this.clear();++o<u;){var p=n[o];this.set(p[0],p[1])}}function gg(){this.__data__=[],this.size=0}function mg(n){var o=this.__data__,u=Ko(o,n);if(u<0)return!1;var p=o.length-1;return u==p?o.pop():Vo.call(o,u,1),--this.size,!0}function vg(n){var o=this.__data__,u=Ko(o,n);return u<0?e:o[u][1]}function _g(n){return Ko(this.__data__,n)>-1}function wg(n,o){var u=this.__data__,p=Ko(u,n);return p<0?(++this.size,u.push([n,o])):u[p][1]=o,this}rn.prototype.clear=gg,rn.prototype.delete=mg,rn.prototype.get=vg,rn.prototype.has=_g,rn.prototype.set=wg;function on(n){var o=-1,u=n==null?0:n.length;for(this.clear();++o<u;){var p=n[o];this.set(p[0],p[1])}}function bg(){this.size=0,this.__data__={hash:new ys,map:new(Ur||rn),string:new ys}}function yg(n){var o=rh(this,n).delete(n);return this.size-=o?1:0,o}function Sg(n){return rh(this,n).get(n)}function Mg(n){return rh(this,n).has(n)}function xg(n,o){var u=rh(this,n),p=u.size;return u.set(n,o),this.size+=u.size==p?0:1,this}on.prototype.clear=bg,on.prototype.delete=yg,on.prototype.get=Sg,on.prototype.has=Mg,on.prototype.set=xg;function Ss(n){var o=-1,u=n==null?0:n.length;for(this.__data__=new on;++o<u;)this.add(n[o])}function Cg(n){return this.__data__.set(n,c),this}function Eg(n){return this.__data__.has(n)}Ss.prototype.add=Ss.prototype.push=Cg,Ss.prototype.has=Eg;function Pi(n){var o=this.__data__=new rn(n);this.size=o.size}function Tg(){this.__data__=new rn,this.size=0}function Rg(n){var o=this.__data__,u=o.delete(n);return this.size=o.size,u}function Og(n){return this.__data__.get(n)}function Ig(n){return this.__data__.has(n)}function Ag(n,o){var u=this.__data__;if(u instanceof rn){var p=u.__data__;if(!Ur||p.length<r-1)return p.push([n,o]),this.size=++u.size,this;u=this.__data__=new on(p)}return u.set(n,o),this.size=u.size,this}Pi.prototype.clear=Tg,Pi.prototype.delete=Rg,Pi.prototype.get=Og,Pi.prototype.has=Ig,Pi.prototype.set=Ag;function za(n,o){var u=gt(n),p=!u&&Ts(n),v=!u&&!p&&jn(n),y=!u&&!p&&!v&&_r(n),M=u||p||v||y,x=M?wl(n.length,U0):[],T=x.length;for(var z in n)(o||qt.call(n,z))&&!(M&&(z=="length"||v&&(z=="offset"||z=="parent")||y&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||an(z,T)))&&x.push(z);return x}function Va(n){var o=n.length;return o?n[Bl(0,o-1)]:e}function Pg(n,o){return oh(Ne(n),Ms(o,0,n.length))}function Lg(n){return oh(Ne(n))}function El(n,o,u){(u!==e&&!Li(n[o],u)||u===e&&!(o in n))&&hn(n,o,u)}function qr(n,o,u){var p=n[o];(!(qt.call(n,o)&&Li(p,u))||u===e&&!(o in n))&&hn(n,o,u)}function Ko(n,o){for(var u=n.length;u--;)if(Li(n[u][0],o))return u;return-1}function Ng(n,o,u,p){return Gn(n,function(v,y,M){o(p,v,u(v),M)}),p}function Ua(n,o){return n&&Yi(o,ge(o),n)}function Fg(n,o){return n&&Yi(o,Be(o),n)}function hn(n,o,u){o=="__proto__"&&Uo?Uo(n,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):n[o]=u}function Tl(n,o){for(var u=-1,p=o.length,v=A(p),y=n==null;++u<p;)v[u]=y?e:hu(n,o[u]);return v}function Ms(n,o,u){return n===n&&(u!==e&&(n=n<=u?n:u),o!==e&&(n=n>=o?n:o)),n}function ri(n,o,u,p,v,y){var M,x=o&g,T=o&m,z=o&b;if(u&&(M=v?u(n,p,v,y):u(n)),M!==e)return M;if(!ee(n))return n;var V=gt(n);if(V){if(M=Mm(n),!x)return Ne(n,M)}else{var W=Ce(n),X=W==ze||W==yi;if(jn(n))return cc(n,x);if(W==le||W==Gt||X&&!v){if(M=T||X?{}:Ic(n),!x)return T?fm(n,Fg(M,n)):cm(n,Ua(M,n))}else{if(!zt[W])return v?n:{};M=xm(n,W,x)}}y||(y=new Pi);var st=y.get(n);if(st)return st;y.set(n,M),of(n)?n.forEach(function(ut){M.add(ri(ut,o,u,ut,n,y))}):sf(n)&&n.forEach(function(ut,St){M.set(St,ri(ut,o,u,St,n,y))});var lt=z?T?Kl:Yl:T?Be:ge,_t=V?e:lt(n);return ii(_t||n,function(ut,St){_t&&(St=ut,ut=n[St]),qr(M,St,ri(ut,o,u,St,n,y))}),M}function Bg(n){var o=ge(n);return function(u){return Ha(u,n,o)}}function Ha(n,o,u){var p=u.length;if(n==null)return!p;for(n=Kt(n);p--;){var v=u[p],y=o[v],M=n[v];if(M===e&&!(v in n)||!y(M))return!1}return!0}function Wa(n,o,u){if(typeof n!="function")throw new ni(l);return Qr(function(){n.apply(e,u)},o)}function Yr(n,o,u,p){var v=-1,y=Io,M=!0,x=n.length,T=[],z=o.length;if(!x)return T;u&&(o=Qt(o,He(u))),p?(y=dl,M=!1):o.length>=r&&(y=zr,M=!1,o=new Ss(o));t:for(;++v<x;){var V=n[v],W=u==null?V:u(V);if(V=p||V!==0?V:0,M&&W===W){for(var X=z;X--;)if(o[X]===W)continue t;T.push(V)}else y(o,W,p)||T.push(V)}return T}var Gn=mc(qi),Ga=mc(Ol,!0);function kg(n,o){var u=!0;return Gn(n,function(p,v,y){return u=!!o(p,v,y),u}),u}function jo(n,o,u){for(var p=-1,v=n.length;++p<v;){var y=n[p],M=o(y);if(M!=null&&(x===e?M===M&&!Ge(M):u(M,x)))var x=M,T=y}return T}function Dg(n,o,u,p){var v=n.length;for(u=vt(u),u<0&&(u=-u>v?0:v+u),p=p===e||p>v?v:vt(p),p<0&&(p+=v),p=u>p?0:lf(p);u<p;)n[u++]=o;return n}function qa(n,o){var u=[];return Gn(n,function(p,v,y){o(p,v,y)&&u.push(p)}),u}function _e(n,o,u,p,v){var y=-1,M=n.length;for(u||(u=Em),v||(v=[]);++y<M;){var x=n[y];o>0&&u(x)?o>1?_e(x,o-1,u,p,v):Un(v,x):p||(v[v.length]=x)}return v}var Rl=vc(),Ya=vc(!0);function qi(n,o){return n&&Rl(n,o,ge)}function Ol(n,o){return n&&Ya(n,o,ge)}function Jo(n,o){return Vn(o,function(u){return cn(n[u])})}function xs(n,o){o=Yn(o,n);for(var u=0,p=o.length;n!=null&&u<p;)n=n[Ki(o[u++])];return u&&u==p?n:e}function Ka(n,o,u){var p=o(n);return gt(n)?p:Un(p,u(n))}function Te(n){return n==null?n===e?_n:$i:bs&&bs in Kt(n)?bm(n):Lm(n)}function Il(n,o){return n>o}function zg(n,o){return n!=null&&qt.call(n,o)}function Vg(n,o){return n!=null&&o in Kt(n)}function Ug(n,o,u){return n>=xe(o,u)&&n<ce(o,u)}function Al(n,o,u){for(var p=u?dl:Io,v=n[0].length,y=n.length,M=y,x=A(y),T=1/0,z=[];M--;){var V=n[M];M&&o&&(V=Qt(V,He(o))),T=xe(V.length,T),x[M]=!u&&(o||v>=120&&V.length>=120)?new Ss(M&&V):e}V=n[0];var W=-1,X=x[0];t:for(;++W<v&&z.length<T;){var st=V[W],lt=o?o(st):st;if(st=u||st!==0?st:0,!(X?zr(X,lt):p(z,lt,u))){for(M=y;--M;){var _t=x[M];if(!(_t?zr(_t,lt):p(n[M],lt,u)))continue t}X&&X.push(lt),z.push(st)}}return z}function Hg(n,o,u,p){return qi(n,function(v,y,M){o(p,u(v),y,M)}),p}function Kr(n,o,u){o=Yn(o,n),n=Nc(n,o);var p=n==null?n:n[Ki(hi(o))];return p==null?e:Ue(p,n,u)}function ja(n){return ne(n)&&Te(n)==Gt}function Wg(n){return ne(n)&&Te(n)==Qe}function Gg(n){return ne(n)&&Te(n)==Se}function jr(n,o,u,p,v){return n===o?!0:n==null||o==null||!ne(n)&&!ne(o)?n!==n&&o!==o:qg(n,o,u,p,jr,v)}function qg(n,o,u,p,v,y){var M=gt(n),x=gt(o),T=M?de:Ce(n),z=x?de:Ce(o);T=T==Gt?le:T,z=z==Gt?le:z;var V=T==le,W=z==le,X=T==z;if(X&&jn(n)){if(!jn(o))return!1;M=!0,V=!1}if(X&&!V)return y||(y=new Pi),M||_r(n)?Tc(n,o,u,p,v,y):_m(n,o,T,u,p,v,y);if(!(u&_)){var st=V&&qt.call(n,"__wrapped__"),lt=W&&qt.call(o,"__wrapped__");if(st||lt){var _t=st?n.value():n,ut=lt?o.value():o;return y||(y=new Pi),v(_t,ut,u,p,y)}}return X?(y||(y=new Pi),wm(n,o,u,p,v,y)):!1}function Yg(n){return ne(n)&&Ce(n)==he}function Pl(n,o,u,p){var v=u.length,y=v,M=!p;if(n==null)return!y;for(n=Kt(n);v--;){var x=u[v];if(M&&x[2]?x[1]!==n[x[0]]:!(x[0]in n))return!1}for(;++v<y;){x=u[v];var T=x[0],z=n[T],V=x[1];if(M&&x[2]){if(z===e&&!(T in n))return!1}else{var W=new Pi;if(p)var X=p(z,V,T,n,o,W);if(!(X===e?jr(V,z,_|S,p,W):X))return!1}}return!0}function Ja(n){if(!ee(n)||Rm(n))return!1;var o=cn(n)?Y0:tr;return o.test(Es(n))}function Kg(n){return ne(n)&&Te(n)==Me}function jg(n){return ne(n)&&Ce(n)==pe}function Jg(n){return ne(n)&&fh(n.length)&&!!Yt[Te(n)]}function Xa(n){return typeof n=="function"?n:n==null?ke:typeof n=="object"?gt(n)?$a(n[0],n[1]):Qa(n):wf(n)}function Ll(n){if(!Zr(n))return Q0(n);var o=[];for(var u in Kt(n))qt.call(n,u)&&u!="constructor"&&o.push(u);return o}function Xg(n){if(!ee(n))return Pm(n);var o=Zr(n),u=[];for(var p in n)p=="constructor"&&(o||!qt.call(n,p))||u.push(p);return u}function Nl(n,o){return n<o}function Za(n,o){var u=-1,p=Fe(n)?A(n.length):[];return Gn(n,function(v,y,M){p[++u]=o(v,y,M)}),p}function Qa(n){var o=Jl(n);return o.length==1&&o[0][2]?Pc(o[0][0],o[0][1]):function(u){return u===n||Pl(u,n,o)}}function $a(n,o){return Zl(n)&&Ac(o)?Pc(Ki(n),o):function(u){var p=hu(u,n);return p===e&&p===o?lu(u,n):jr(o,p,_|S)}}function Xo(n,o,u,p,v){n!==o&&Rl(o,function(y,M){if(v||(v=new Pi),ee(y))Zg(n,o,M,u,Xo,p,v);else{var x=p?p($l(n,M),y,M+"",n,o,v):e;x===e&&(x=y),El(n,M,x)}},Be)}function Zg(n,o,u,p,v,y,M){var x=$l(n,u),T=$l(o,u),z=M.get(T);if(z){El(n,u,z);return}var V=y?y(x,T,u+"",n,o,M):e,W=V===e;if(W){var X=gt(T),st=!X&&jn(T),lt=!X&&!st&&_r(T);V=T,X||st||lt?gt(x)?V=x:se(x)?V=Ne(x):st?(W=!1,V=cc(T,!0)):lt?(W=!1,V=fc(T,!0)):V=[]:$r(T)||Ts(T)?(V=x,Ts(x)?V=uf(x):(!ee(x)||cn(x))&&(V=Ic(T))):W=!1}W&&(M.set(T,V),v(V,T,p,y,M),M.delete(T)),El(n,u,V)}function tc(n,o){var u=n.length;if(u)return o+=o<0?u:0,an(o,u)?n[o]:e}function ec(n,o,u){o.length?o=Qt(o,function(y){return gt(y)?function(M){return xs(M,y.length===1?y[0]:y)}:y}):o=[ke];var p=-1;o=Qt(o,He(ht()));var v=Za(n,function(y,M,x){var T=Qt(o,function(z){return z(y)});return{criteria:T,index:++p,value:y}});return x0(v,function(y,M){return am(y,M,u)})}function Qg(n,o){return ic(n,o,function(u,p){return lu(n,p)})}function ic(n,o,u){for(var p=-1,v=o.length,y={};++p<v;){var M=o[p],x=xs(n,M);u(x,M)&&Jr(y,Yn(M,n),x)}return y}function $g(n){return function(o){return xs(o,n)}}function Fl(n,o,u,p){var v=p?M0:hr,y=-1,M=o.length,x=n;for(n===o&&(o=Ne(o)),u&&(x=Qt(n,He(u)));++y<M;)for(var T=0,z=o[y],V=u?u(z):z;(T=v(x,V,T,p))>-1;)x!==n&&Vo.call(x,T,1),Vo.call(n,T,1);return n}function nc(n,o){for(var u=n?o.length:0,p=u-1;u--;){var v=o[u];if(u==p||v!==y){var y=v;an(v)?Vo.call(n,v,1):zl(n,v)}}return n}function Bl(n,o){return n+Wo(ka()*(o-n+1))}function tm(n,o,u,p){for(var v=-1,y=ce(Ho((o-n)/(u||1)),0),M=A(y);y--;)M[p?y:++v]=n,n+=u;return M}function kl(n,o){var u="";if(!n||o<1||o>j)return u;do o%2&&(u+=n),o=Wo(o/2),o&&(n+=n);while(o);return u}function wt(n,o){return tu(Lc(n,o,ke),n+"")}function em(n){return Va(wr(n))}function im(n,o){var u=wr(n);return oh(u,Ms(o,0,u.length))}function Jr(n,o,u,p){if(!ee(n))return n;o=Yn(o,n);for(var v=-1,y=o.length,M=y-1,x=n;x!=null&&++v<y;){var T=Ki(o[v]),z=u;if(T==="__proto__"||T==="constructor"||T==="prototype")return n;if(v!=M){var V=x[T];z=p?p(V,T,x):e,z===e&&(z=ee(V)?V:an(o[v+1])?[]:{})}qr(x,T,z),x=x[T]}return n}var sc=Go?function(n,o){return Go.set(n,o),n}:ke,nm=Uo?function(n,o){return Uo(n,"toString",{configurable:!0,enumerable:!1,value:au(o),writable:!0})}:ke;function sm(n){return oh(wr(n))}function oi(n,o,u){var p=-1,v=n.length;o<0&&(o=-o>v?0:v+o),u=u>v?v:u,u<0&&(u+=v),v=o>u?0:u-o>>>0,o>>>=0;for(var y=A(v);++p<v;)y[p]=n[p+o];return y}function rm(n,o){var u;return Gn(n,function(p,v,y){return u=o(p,v,y),!u}),!!u}function Zo(n,o,u){var p=0,v=n==null?p:n.length;if(typeof o=="number"&&o===o&&v<=Xt){for(;p<v;){var y=p+v>>>1,M=n[y];M!==null&&!Ge(M)&&(u?M<=o:M<o)?p=y+1:v=y}return v}return Dl(n,o,ke,u)}function Dl(n,o,u,p){var v=0,y=n==null?0:n.length;if(y===0)return 0;o=u(o);for(var M=o!==o,x=o===null,T=Ge(o),z=o===e;v<y;){var V=Wo((v+y)/2),W=u(n[V]),X=W!==e,st=W===null,lt=W===W,_t=Ge(W);if(M)var ut=p||lt;else z?ut=lt&&(p||X):x?ut=lt&&X&&(p||!st):T?ut=lt&&X&&!st&&(p||!_t):st||_t?ut=!1:ut=p?W<=o:W<o;ut?v=V+1:y=V}return xe(y,dt)}function rc(n,o){for(var u=-1,p=n.length,v=0,y=[];++u<p;){var M=n[u],x=o?o(M):M;if(!u||!Li(x,T)){var T=x;y[v++]=M===0?0:M}}return y}function oc(n){return typeof n=="number"?n:Ge(n)?ot:+n}function We(n){if(typeof n=="string")return n;if(gt(n))return Qt(n,We)+"";if(Ge(n))return Da?Da.call(n):"";var o=n+"";return o=="0"&&1/n==-U?"-0":o}function qn(n,o,u){var p=-1,v=Io,y=n.length,M=!0,x=[],T=x;if(u)M=!1,v=dl;else if(y>=r){var z=o?null:mm(n);if(z)return Po(z);M=!1,v=zr,T=new Ss}else T=o?[]:x;t:for(;++p<y;){var V=n[p],W=o?o(V):V;if(V=u||V!==0?V:0,M&&W===W){for(var X=T.length;X--;)if(T[X]===W)continue t;o&&T.push(W),x.push(V)}else v(T,W,u)||(T!==x&&T.push(W),x.push(V))}return x}function zl(n,o){return o=Yn(o,n),n=Nc(n,o),n==null||delete n[Ki(hi(o))]}function hc(n,o,u,p){return Jr(n,o,u(xs(n,o)),p)}function Qo(n,o,u,p){for(var v=n.length,y=p?v:-1;(p?y--:++y<v)&&o(n[y],y,n););return u?oi(n,p?0:y,p?y+1:v):oi(n,p?y+1:0,p?v:y)}function lc(n,o){var u=n;return u instanceof Ct&&(u=u.value()),pl(o,function(p,v){return v.func.apply(v.thisArg,Un([p],v.args))},u)}function Vl(n,o,u){var p=n.length;if(p<2)return p?qn(n[0]):[];for(var v=-1,y=A(p);++v<p;)for(var M=n[v],x=-1;++x<p;)x!=v&&(y[v]=Yr(y[v]||M,n[x],o,u));return qn(_e(y,1),o,u)}function uc(n,o,u){for(var p=-1,v=n.length,y=o.length,M={};++p<v;){var x=p<y?o[p]:e;u(M,n[p],x)}return M}function Ul(n){return se(n)?n:[]}function Hl(n){return typeof n=="function"?n:ke}function Yn(n,o){return gt(n)?n:Zl(n,o)?[n]:Dc(Vt(n))}var om=wt;function Kn(n,o,u){var p=n.length;return u=u===e?p:u,!o&&u>=p?n:oi(n,o,u)}var ac=K0||function(n){return ue.clearTimeout(n)};function cc(n,o){if(o)return n.slice();var u=n.length,p=Pa?Pa(u):new n.constructor(u);return n.copy(p),p}function Wl(n){var o=new n.constructor(n.byteLength);return new Do(o).set(new Do(n)),o}function hm(n,o){var u=o?Wl(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function lm(n){var o=new n.constructor(n.source,Mi.exec(n));return o.lastIndex=n.lastIndex,o}function um(n){return Gr?Kt(Gr.call(n)):{}}function fc(n,o){var u=o?Wl(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function dc(n,o){if(n!==o){var u=n!==e,p=n===null,v=n===n,y=Ge(n),M=o!==e,x=o===null,T=o===o,z=Ge(o);if(!x&&!z&&!y&&n>o||y&&M&&T&&!x&&!z||p&&M&&T||!u&&T||!v)return 1;if(!p&&!y&&!z&&n<o||z&&u&&v&&!p&&!y||x&&u&&v||!M&&v||!T)return-1}return 0}function am(n,o,u){for(var p=-1,v=n.criteria,y=o.criteria,M=v.length,x=u.length;++p<M;){var T=dc(v[p],y[p]);if(T){if(p>=x)return T;var z=u[p];return T*(z=="desc"?-1:1)}}return n.index-o.index}function pc(n,o,u,p){for(var v=-1,y=n.length,M=u.length,x=-1,T=o.length,z=ce(y-M,0),V=A(T+z),W=!p;++x<T;)V[x]=o[x];for(;++v<M;)(W||v<y)&&(V[u[v]]=n[v]);for(;z--;)V[x++]=n[v++];return V}function gc(n,o,u,p){for(var v=-1,y=n.length,M=-1,x=u.length,T=-1,z=o.length,V=ce(y-x,0),W=A(V+z),X=!p;++v<V;)W[v]=n[v];for(var st=v;++T<z;)W[st+T]=o[T];for(;++M<x;)(X||v<y)&&(W[st+u[M]]=n[v++]);return W}function Ne(n,o){var u=-1,p=n.length;for(o||(o=A(p));++u<p;)o[u]=n[u];return o}function Yi(n,o,u,p){var v=!u;u||(u={});for(var y=-1,M=o.length;++y<M;){var x=o[y],T=p?p(u[x],n[x],x,u,n):e;T===e&&(T=n[x]),v?hn(u,x,T):qr(u,x,T)}return u}function cm(n,o){return Yi(n,Xl(n),o)}function fm(n,o){return Yi(n,Rc(n),o)}function $o(n,o){return function(u,p){var v=gt(u)?v0:Ng,y=o?o():{};return v(u,n,ht(p,2),y)}}function gr(n){return wt(function(o,u){var p=-1,v=u.length,y=v>1?u[v-1]:e,M=v>2?u[2]:e;for(y=n.length>3&&typeof y=="function"?(v--,y):e,M&&Re(u[0],u[1],M)&&(y=v<3?e:y,v=1),o=Kt(o);++p<v;){var x=u[p];x&&n(o,x,p,y)}return o})}function mc(n,o){return function(u,p){if(u==null)return u;if(!Fe(u))return n(u,p);for(var v=u.length,y=o?v:-1,M=Kt(u);(o?y--:++y<v)&&p(M[y],y,M)!==!1;);return u}}function vc(n){return function(o,u,p){for(var v=-1,y=Kt(o),M=p(o),x=M.length;x--;){var T=M[n?x:++v];if(u(y[T],T,y)===!1)break}return o}}function dm(n,o,u){var p=o&R,v=Xr(n);function y(){var M=this&&this!==ue&&this instanceof y?v:n;return M.apply(p?u:this,arguments)}return y}function _c(n){return function(o){o=Vt(o);var u=lr(o)?Ai(o):e,p=u?u[0]:o.charAt(0),v=u?Kn(u,1).join(""):o.slice(1);return p[n]()+v}}function mr(n){return function(o){return pl(vf(mf(o).replace(rl,"")),n,"")}}function Xr(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=pr(n.prototype),p=n.apply(u,o);return ee(p)?p:u}}function pm(n,o,u){var p=Xr(n);function v(){for(var y=arguments.length,M=A(y),x=y,T=vr(v);x--;)M[x]=arguments[x];var z=y<3&&M[0]!==T&&M[y-1]!==T?[]:Hn(M,T);if(y-=z.length,y<u)return Mc(n,o,th,v.placeholder,e,M,z,e,e,u-y);var V=this&&this!==ue&&this instanceof v?p:n;return Ue(V,this,M)}return v}function wc(n){return function(o,u,p){var v=Kt(o);if(!Fe(o)){var y=ht(u,3);o=ge(o),u=function(x){return y(v[x],x,v)}}var M=n(o,u,p);return M>-1?v[y?o[M]:M]:e}}function bc(n){return un(function(o){var u=o.length,p=u,v=si.prototype.thru;for(n&&o.reverse();p--;){var y=o[p];if(typeof y!="function")throw new ni(l);if(v&&!M&&sh(y)=="wrapper")var M=new si([],!0)}for(p=M?p:u;++p<u;){y=o[p];var x=sh(y),T=x=="wrapper"?jl(y):e;T&&Ql(T[0])&&T[1]==(Z|G|nt|H)&&!T[4].length&&T[9]==1?M=M[sh(T[0])].apply(M,T[3]):M=y.length==1&&Ql(y)?M[x]():M.thru(y)}return function(){var z=arguments,V=z[0];if(M&&z.length==1&&gt(V))return M.plant(V).value();for(var W=0,X=u?o[W].apply(this,z):V;++W<u;)X=o[W].call(this,X);return X}})}function th(n,o,u,p,v,y,M,x,T,z){var V=o&Z,W=o&R,X=o&k,st=o&(G|N),lt=o&it,_t=X?e:Xr(n);function ut(){for(var St=arguments.length,Tt=A(St),qe=St;qe--;)Tt[qe]=arguments[qe];if(st)var Oe=vr(ut),Ye=E0(Tt,Oe);if(p&&(Tt=pc(Tt,p,v,st)),y&&(Tt=gc(Tt,y,M,st)),St-=Ye,st&&St<z){var re=Hn(Tt,Oe);return Mc(n,o,th,ut.placeholder,u,Tt,re,x,T,z-St)}var Ni=W?u:this,dn=X?Ni[n]:n;return St=Tt.length,x?Tt=Nm(Tt,x):lt&&St>1&&Tt.reverse(),V&&T<St&&(Tt.length=T),this&&this!==ue&&this instanceof ut&&(dn=_t||Xr(dn)),dn.apply(Ni,Tt)}return ut}function yc(n,o){return function(u,p){return Hg(u,n,o(p),{})}}function eh(n,o){return function(u,p){var v;if(u===e&&p===e)return o;if(u!==e&&(v=u),p!==e){if(v===e)return p;typeof u=="string"||typeof p=="string"?(u=We(u),p=We(p)):(u=oc(u),p=oc(p)),v=n(u,p)}return v}}function Gl(n){return un(function(o){return o=Qt(o,He(ht())),wt(function(u){var p=this;return n(o,function(v){return Ue(v,p,u)})})})}function ih(n,o){o=o===e?" ":We(o);var u=o.length;if(u<2)return u?kl(o,n):o;var p=kl(o,Ho(n/ur(o)));return lr(o)?Kn(Ai(p),0,n).join(""):p.slice(0,n)}function gm(n,o,u,p){var v=o&R,y=Xr(n);function M(){for(var x=-1,T=arguments.length,z=-1,V=p.length,W=A(V+T),X=this&&this!==ue&&this instanceof M?y:n;++z<V;)W[z]=p[z];for(;T--;)W[z++]=arguments[++x];return Ue(X,v?u:this,W)}return M}function Sc(n){return function(o,u,p){return p&&typeof p!="number"&&Re(o,u,p)&&(u=p=e),o=fn(o),u===e?(u=o,o=0):u=fn(u),p=p===e?o<u?1:-1:fn(p),tm(o,u,p,n)}}function nh(n){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=li(o),u=li(u)),n(o,u)}}function Mc(n,o,u,p,v,y,M,x,T,z){var V=o&G,W=V?M:e,X=V?e:M,st=V?y:e,lt=V?e:y;o|=V?nt:ct,o&=~(V?ct:nt),o&L||(o&=~(R|k));var _t=[n,o,v,st,W,lt,X,x,T,z],ut=u.apply(e,_t);return Ql(n)&&Fc(ut,_t),ut.placeholder=p,Bc(ut,n,o)}function ql(n){var o=ae[n];return function(u,p){if(u=li(u),p=p==null?0:xe(vt(p),292),p&&Ba(u)){var v=(Vt(u)+"e").split("e"),y=o(v[0]+"e"+(+v[1]+p));return v=(Vt(y)+"e").split("e"),+(v[0]+"e"+(+v[1]-p))}return o(u)}}var mm=fr&&1/Po(new fr([,-0]))[1]==U?function(n){return new fr(n)}:du;function xc(n){return function(o){var u=Ce(o);return u==he?yl(o):u==pe?L0(o):C0(o,n(o))}}function ln(n,o,u,p,v,y,M,x){var T=o&k;if(!T&&typeof n!="function")throw new ni(l);var z=p?p.length:0;if(z||(o&=~(nt|ct),p=v=e),M=M===e?M:ce(vt(M),0),x=x===e?x:vt(x),z-=v?v.length:0,o&ct){var V=p,W=v;p=v=e}var X=T?e:jl(n),st=[n,o,u,p,v,V,W,y,M,x];if(X&&Am(st,X),n=st[0],o=st[1],u=st[2],p=st[3],v=st[4],x=st[9]=st[9]===e?T?0:n.length:ce(st[9]-z,0),!x&&o&(G|N)&&(o&=~(G|N)),!o||o==R)var lt=dm(n,o,u);else o==G||o==N?lt=pm(n,o,x):(o==nt||o==(R|nt))&&!v.length?lt=gm(n,o,u,p):lt=th.apply(e,st);var _t=X?sc:Fc;return Bc(_t(lt,st),n,o)}function Cc(n,o,u,p){return n===e||Li(n,cr[u])&&!qt.call(p,u)?o:n}function Ec(n,o,u,p,v,y){return ee(n)&&ee(o)&&(y.set(o,n),Xo(n,o,e,Ec,y),y.delete(o)),n}function vm(n){return $r(n)?e:n}function Tc(n,o,u,p,v,y){var M=u&_,x=n.length,T=o.length;if(x!=T&&!(M&&T>x))return!1;var z=y.get(n),V=y.get(o);if(z&&V)return z==o&&V==n;var W=-1,X=!0,st=u&S?new Ss:e;for(y.set(n,o),y.set(o,n);++W<x;){var lt=n[W],_t=o[W];if(p)var ut=M?p(_t,lt,W,o,n,y):p(lt,_t,W,n,o,y);if(ut!==e){if(ut)continue;X=!1;break}if(st){if(!gl(o,function(St,Tt){if(!zr(st,Tt)&&(lt===St||v(lt,St,u,p,y)))return st.push(Tt)})){X=!1;break}}else if(!(lt===_t||v(lt,_t,u,p,y))){X=!1;break}}return y.delete(n),y.delete(o),X}function _m(n,o,u,p,v,y,M){switch(u){case Ve:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case Qe:return!(n.byteLength!=o.byteLength||!y(new Do(n),new Do(o)));case ye:case Se:case Pe:return Li(+n,+o);case De:return n.name==o.name&&n.message==o.message;case Me:case Ze:return n==o+"";case he:var x=yl;case pe:var T=p&_;if(x||(x=Po),n.size!=o.size&&!T)return!1;var z=M.get(n);if(z)return z==o;p|=S,M.set(n,o);var V=Tc(x(n),x(o),p,v,y,M);return M.delete(n),V;case Le:if(Gr)return Gr.call(n)==Gr.call(o)}return!1}function wm(n,o,u,p,v,y){var M=u&_,x=Yl(n),T=x.length,z=Yl(o),V=z.length;if(T!=V&&!M)return!1;for(var W=T;W--;){var X=x[W];if(!(M?X in o:qt.call(o,X)))return!1}var st=y.get(n),lt=y.get(o);if(st&&lt)return st==o&&lt==n;var _t=!0;y.set(n,o),y.set(o,n);for(var ut=M;++W<T;){X=x[W];var St=n[X],Tt=o[X];if(p)var qe=M?p(Tt,St,X,o,n,y):p(St,Tt,X,n,o,y);if(!(qe===e?St===Tt||v(St,Tt,u,p,y):qe)){_t=!1;break}ut||(ut=X=="constructor")}if(_t&&!ut){var Oe=n.constructor,Ye=o.constructor;Oe!=Ye&&"constructor"in n&&"constructor"in o&&!(typeof Oe=="function"&&Oe instanceof Oe&&typeof Ye=="function"&&Ye instanceof Ye)&&(_t=!1)}return y.delete(n),y.delete(o),_t}function un(n){return tu(Lc(n,e,Hc),n+"")}function Yl(n){return Ka(n,ge,Xl)}function Kl(n){return Ka(n,Be,Rc)}var jl=Go?function(n){return Go.get(n)}:du;function sh(n){for(var o=n.name+"",u=dr[o],p=qt.call(dr,o)?u.length:0;p--;){var v=u[p],y=v.func;if(y==null||y==n)return v.name}return o}function vr(n){var o=qt.call(w,"placeholder")?w:n;return o.placeholder}function ht(){var n=w.iteratee||cu;return n=n===cu?Xa:n,arguments.length?n(arguments[0],arguments[1]):n}function rh(n,o){var u=n.__data__;return Tm(o)?u[typeof o=="string"?"string":"hash"]:u.map}function Jl(n){for(var o=ge(n),u=o.length;u--;){var p=o[u],v=n[p];o[u]=[p,v,Ac(v)]}return o}function Cs(n,o){var u=I0(n,o);return Ja(u)?u:e}function bm(n){var o=qt.call(n,bs),u=n[bs];try{n[bs]=e;var p=!0}catch{}var v=Bo.call(n);return p&&(o?n[bs]=u:delete n[bs]),v}var Xl=Ml?function(n){return n==null?[]:(n=Kt(n),Vn(Ml(n),function(o){return Na.call(n,o)}))}:pu,Rc=Ml?function(n){for(var o=[];n;)Un(o,Xl(n)),n=zo(n);return o}:pu,Ce=Te;(xl&&Ce(new xl(new ArrayBuffer(1)))!=Ve||Ur&&Ce(new Ur)!=he||Cl&&Ce(Cl.resolve())!=Si||fr&&Ce(new fr)!=pe||Hr&&Ce(new Hr)!=Bi)&&(Ce=function(n){var o=Te(n),u=o==le?n.constructor:e,p=u?Es(u):"";if(p)switch(p){case ig:return Ve;case ng:return he;case sg:return Si;case rg:return pe;case og:return Bi}return o});function ym(n,o,u){for(var p=-1,v=u.length;++p<v;){var y=u[p],M=y.size;switch(y.type){case"drop":n+=M;break;case"dropRight":o-=M;break;case"take":o=xe(o,n+M);break;case"takeRight":n=ce(n,o-M);break}}return{start:n,end:o}}function Sm(n){var o=n.match(Zs);return o?o[1].split(Qs):[]}function Oc(n,o,u){o=Yn(o,n);for(var p=-1,v=o.length,y=!1;++p<v;){var M=Ki(o[p]);if(!(y=n!=null&&u(n,M)))break;n=n[M]}return y||++p!=v?y:(v=n==null?0:n.length,!!v&&fh(v)&&an(M,v)&&(gt(n)||Ts(n)))}function Mm(n){var o=n.length,u=new n.constructor(o);return o&&typeof n[0]=="string"&&qt.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function Ic(n){return typeof n.constructor=="function"&&!Zr(n)?pr(zo(n)):{}}function xm(n,o,u){var p=n.constructor;switch(o){case Qe:return Wl(n);case ye:case Se:return new p(+n);case Ve:return hm(n,u);case ki:case Di:case zi:case Vi:case Ui:case Hi:case bn:case yn:case Sn:return fc(n,u);case he:return new p;case Pe:case Ze:return new p(n);case Me:return lm(n);case pe:return new p;case Le:return um(n)}}function Cm(n,o){var u=o.length;if(!u)return n;var p=u-1;return o[p]=(u>1?"& ":"")+o[p],o=o.join(u>2?", ":" "),n.replace(Xs,`{
/* [wrapped with `+o+`] */
`)}function Em(n){return gt(n)||Ts(n)||!!(Fa&&n&&n[Fa])}function an(n,o){var u=typeof n;return o=o??j,!!o&&(u=="number"||u!="symbol"&&ns.test(n))&&n>-1&&n%1==0&&n<o}function Re(n,o,u){if(!ee(u))return!1;var p=typeof o;return(p=="number"?Fe(u)&&an(o,u.length):p=="string"&&o in u)?Li(u[o],n):!1}function Zl(n,o){if(gt(n))return!1;var u=typeof n;return u=="number"||u=="symbol"||u=="boolean"||n==null||Ge(n)?!0:xn.test(n)||!Mn.test(n)||o!=null&&n in Kt(o)}function Tm(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function Ql(n){var o=sh(n),u=w[o];if(typeof u!="function"||!(o in Ct.prototype))return!1;if(n===u)return!0;var p=jl(u);return!!p&&n===p[0]}function Rm(n){return!!Aa&&Aa in n}var Om=No?cn:gu;function Zr(n){var o=n&&n.constructor,u=typeof o=="function"&&o.prototype||cr;return n===u}function Ac(n){return n===n&&!ee(n)}function Pc(n,o){return function(u){return u==null?!1:u[n]===o&&(o!==e||n in Kt(u))}}function Im(n){var o=ah(n,function(p){return u.size===d&&u.clear(),p}),u=o.cache;return o}function Am(n,o){var u=n[1],p=o[1],v=u|p,y=v<(R|k|Z),M=p==Z&&u==G||p==Z&&u==H&&n[7].length<=o[8]||p==(Z|H)&&o[7].length<=o[8]&&u==G;if(!(y||M))return n;p&R&&(n[2]=o[2],v|=u&R?0:L);var x=o[3];if(x){var T=n[3];n[3]=T?pc(T,x,o[4]):x,n[4]=T?Hn(n[3],f):o[4]}return x=o[5],x&&(T=n[5],n[5]=T?gc(T,x,o[6]):x,n[6]=T?Hn(n[5],f):o[6]),x=o[7],x&&(n[7]=x),p&Z&&(n[8]=n[8]==null?o[8]:xe(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=v,n}function Pm(n){var o=[];if(n!=null)for(var u in Kt(n))o.push(u);return o}function Lm(n){return Bo.call(n)}function Lc(n,o,u){return o=ce(o===e?n.length-1:o,0),function(){for(var p=arguments,v=-1,y=ce(p.length-o,0),M=A(y);++v<y;)M[v]=p[o+v];v=-1;for(var x=A(o+1);++v<o;)x[v]=p[v];return x[o]=u(M),Ue(n,this,x)}}function Nc(n,o){return o.length<2?n:xs(n,oi(o,0,-1))}function Nm(n,o){for(var u=n.length,p=xe(o.length,u),v=Ne(n);p--;){var y=o[p];n[p]=an(y,u)?v[y]:e}return n}function $l(n,o){if(!(o==="constructor"&&typeof n[o]=="function")&&o!="__proto__")return n[o]}var Fc=kc(sc),Qr=J0||function(n,o){return ue.setTimeout(n,o)},tu=kc(nm);function Bc(n,o,u){var p=o+"";return tu(n,Cm(p,Fm(Sm(p),u)))}function kc(n){var o=0,u=0;return function(){var p=$0(),v=mt-(p-u);if(u=p,v>0){if(++o>=ft)return arguments[0]}else o=0;return n.apply(e,arguments)}}function oh(n,o){var u=-1,p=n.length,v=p-1;for(o=o===e?p:o;++u<o;){var y=Bl(u,v),M=n[y];n[y]=n[u],n[u]=M}return n.length=o,n}var Dc=Im(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(Cn,function(u,p,v,y){o.push(v?y.replace(Nr,"$1"):p||u)}),o});function Ki(n){if(typeof n=="string"||Ge(n))return n;var o=n+"";return o=="0"&&1/n==-U?"-0":o}function Es(n){if(n!=null){try{return Fo.call(n)}catch{}try{return n+""}catch{}}return""}function Fm(n,o){return ii(Wt,function(u){var p="_."+u[0];o&u[1]&&!Io(n,p)&&n.push(p)}),n.sort()}function zc(n){if(n instanceof Ct)return n.clone();var o=new si(n.__wrapped__,n.__chain__);return o.__actions__=Ne(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function Bm(n,o,u){(u?Re(n,o,u):o===e)?o=1:o=ce(vt(o),0);var p=n==null?0:n.length;if(!p||o<1)return[];for(var v=0,y=0,M=A(Ho(p/o));v<p;)M[y++]=oi(n,v,v+=o);return M}function km(n){for(var o=-1,u=n==null?0:n.length,p=0,v=[];++o<u;){var y=n[o];y&&(v[p++]=y)}return v}function Dm(){var n=arguments.length;if(!n)return[];for(var o=A(n-1),u=arguments[0],p=n;p--;)o[p-1]=arguments[p];return Un(gt(u)?Ne(u):[u],_e(o,1))}var zm=wt(function(n,o){return se(n)?Yr(n,_e(o,1,se,!0)):[]}),Vm=wt(function(n,o){var u=hi(o);return se(u)&&(u=e),se(n)?Yr(n,_e(o,1,se,!0),ht(u,2)):[]}),Um=wt(function(n,o){var u=hi(o);return se(u)&&(u=e),se(n)?Yr(n,_e(o,1,se,!0),e,u):[]});function Hm(n,o,u){var p=n==null?0:n.length;return p?(o=u||o===e?1:vt(o),oi(n,o<0?0:o,p)):[]}function Wm(n,o,u){var p=n==null?0:n.length;return p?(o=u||o===e?1:vt(o),o=p-o,oi(n,0,o<0?0:o)):[]}function Gm(n,o){return n&&n.length?Qo(n,ht(o,3),!0,!0):[]}function qm(n,o){return n&&n.length?Qo(n,ht(o,3),!0):[]}function Ym(n,o,u,p){var v=n==null?0:n.length;return v?(u&&typeof u!="number"&&Re(n,o,u)&&(u=0,p=v),Dg(n,o,u,p)):[]}function Vc(n,o,u){var p=n==null?0:n.length;if(!p)return-1;var v=u==null?0:vt(u);return v<0&&(v=ce(p+v,0)),Ao(n,ht(o,3),v)}function Uc(n,o,u){var p=n==null?0:n.length;if(!p)return-1;var v=p-1;return u!==e&&(v=vt(u),v=u<0?ce(p+v,0):xe(v,p-1)),Ao(n,ht(o,3),v,!0)}function Hc(n){var o=n==null?0:n.length;return o?_e(n,1):[]}function Km(n){var o=n==null?0:n.length;return o?_e(n,U):[]}function jm(n,o){var u=n==null?0:n.length;return u?(o=o===e?1:vt(o),_e(n,o)):[]}function Jm(n){for(var o=-1,u=n==null?0:n.length,p={};++o<u;){var v=n[o];p[v[0]]=v[1]}return p}function Wc(n){return n&&n.length?n[0]:e}function Xm(n,o,u){var p=n==null?0:n.length;if(!p)return-1;var v=u==null?0:vt(u);return v<0&&(v=ce(p+v,0)),hr(n,o,v)}function Zm(n){var o=n==null?0:n.length;return o?oi(n,0,-1):[]}var Qm=wt(function(n){var o=Qt(n,Ul);return o.length&&o[0]===n[0]?Al(o):[]}),$m=wt(function(n){var o=hi(n),u=Qt(n,Ul);return o===hi(u)?o=e:u.pop(),u.length&&u[0]===n[0]?Al(u,ht(o,2)):[]}),t1=wt(function(n){var o=hi(n),u=Qt(n,Ul);return o=typeof o=="function"?o:e,o&&u.pop(),u.length&&u[0]===n[0]?Al(u,e,o):[]});function e1(n,o){return n==null?"":Z0.call(n,o)}function hi(n){var o=n==null?0:n.length;return o?n[o-1]:e}function i1(n,o,u){var p=n==null?0:n.length;if(!p)return-1;var v=p;return u!==e&&(v=vt(u),v=v<0?ce(p+v,0):xe(v,p-1)),o===o?F0(n,o,v):Ao(n,Ma,v,!0)}function n1(n,o){return n&&n.length?tc(n,vt(o)):e}var s1=wt(Gc);function Gc(n,o){return n&&n.length&&o&&o.length?Fl(n,o):n}function r1(n,o,u){return n&&n.length&&o&&o.length?Fl(n,o,ht(u,2)):n}function o1(n,o,u){return n&&n.length&&o&&o.length?Fl(n,o,e,u):n}var h1=un(function(n,o){var u=n==null?0:n.length,p=Tl(n,o);return nc(n,Qt(o,function(v){return an(v,u)?+v:v}).sort(dc)),p});function l1(n,o){var u=[];if(!(n&&n.length))return u;var p=-1,v=[],y=n.length;for(o=ht(o,3);++p<y;){var M=n[p];o(M,p,n)&&(u.push(M),v.push(p))}return nc(n,v),u}function eu(n){return n==null?n:eg.call(n)}function u1(n,o,u){var p=n==null?0:n.length;return p?(u&&typeof u!="number"&&Re(n,o,u)?(o=0,u=p):(o=o==null?0:vt(o),u=u===e?p:vt(u)),oi(n,o,u)):[]}function a1(n,o){return Zo(n,o)}function c1(n,o,u){return Dl(n,o,ht(u,2))}function f1(n,o){var u=n==null?0:n.length;if(u){var p=Zo(n,o);if(p<u&&Li(n[p],o))return p}return-1}function d1(n,o){return Zo(n,o,!0)}function p1(n,o,u){return Dl(n,o,ht(u,2),!0)}function g1(n,o){var u=n==null?0:n.length;if(u){var p=Zo(n,o,!0)-1;if(Li(n[p],o))return p}return-1}function m1(n){return n&&n.length?rc(n):[]}function v1(n,o){return n&&n.length?rc(n,ht(o,2)):[]}function _1(n){var o=n==null?0:n.length;return o?oi(n,1,o):[]}function w1(n,o,u){return n&&n.length?(o=u||o===e?1:vt(o),oi(n,0,o<0?0:o)):[]}function b1(n,o,u){var p=n==null?0:n.length;return p?(o=u||o===e?1:vt(o),o=p-o,oi(n,o<0?0:o,p)):[]}function y1(n,o){return n&&n.length?Qo(n,ht(o,3),!1,!0):[]}function S1(n,o){return n&&n.length?Qo(n,ht(o,3)):[]}var M1=wt(function(n){return qn(_e(n,1,se,!0))}),x1=wt(function(n){var o=hi(n);return se(o)&&(o=e),qn(_e(n,1,se,!0),ht(o,2))}),C1=wt(function(n){var o=hi(n);return o=typeof o=="function"?o:e,qn(_e(n,1,se,!0),e,o)});function E1(n){return n&&n.length?qn(n):[]}function T1(n,o){return n&&n.length?qn(n,ht(o,2)):[]}function R1(n,o){return o=typeof o=="function"?o:e,n&&n.length?qn(n,e,o):[]}function iu(n){if(!(n&&n.length))return[];var o=0;return n=Vn(n,function(u){if(se(u))return o=ce(u.length,o),!0}),wl(o,function(u){return Qt(n,ml(u))})}function qc(n,o){if(!(n&&n.length))return[];var u=iu(n);return o==null?u:Qt(u,function(p){return Ue(o,e,p)})}var O1=wt(function(n,o){return se(n)?Yr(n,o):[]}),I1=wt(function(n){return Vl(Vn(n,se))}),A1=wt(function(n){var o=hi(n);return se(o)&&(o=e),Vl(Vn(n,se),ht(o,2))}),P1=wt(function(n){var o=hi(n);return o=typeof o=="function"?o:e,Vl(Vn(n,se),e,o)}),L1=wt(iu);function N1(n,o){return uc(n||[],o||[],qr)}function F1(n,o){return uc(n||[],o||[],Jr)}var B1=wt(function(n){var o=n.length,u=o>1?n[o-1]:e;return u=typeof u=="function"?(n.pop(),u):e,qc(n,u)});function Yc(n){var o=w(n);return o.__chain__=!0,o}function k1(n,o){return o(n),n}function hh(n,o){return o(n)}var D1=un(function(n){var o=n.length,u=o?n[0]:0,p=this.__wrapped__,v=function(y){return Tl(y,n)};return o>1||this.__actions__.length||!(p instanceof Ct)||!an(u)?this.thru(v):(p=p.slice(u,+u+(o?1:0)),p.__actions__.push({func:hh,args:[v],thisArg:e}),new si(p,this.__chain__).thru(function(y){return o&&!y.length&&y.push(e),y}))});function z1(){return Yc(this)}function V1(){return new si(this.value(),this.__chain__)}function U1(){this.__values__===e&&(this.__values__=hf(this.value()));var n=this.__index__>=this.__values__.length,o=n?e:this.__values__[this.__index__++];return{done:n,value:o}}function H1(){return this}function W1(n){for(var o,u=this;u instanceof Yo;){var p=zc(u);p.__index__=0,p.__values__=e,o?v.__wrapped__=p:o=p;var v=p;u=u.__wrapped__}return v.__wrapped__=n,o}function G1(){var n=this.__wrapped__;if(n instanceof Ct){var o=n;return this.__actions__.length&&(o=new Ct(this)),o=o.reverse(),o.__actions__.push({func:hh,args:[eu],thisArg:e}),new si(o,this.__chain__)}return this.thru(eu)}function q1(){return lc(this.__wrapped__,this.__actions__)}var Y1=$o(function(n,o,u){qt.call(n,u)?++n[u]:hn(n,u,1)});function K1(n,o,u){var p=gt(n)?ya:kg;return u&&Re(n,o,u)&&(o=e),p(n,ht(o,3))}function j1(n,o){var u=gt(n)?Vn:qa;return u(n,ht(o,3))}var J1=wc(Vc),X1=wc(Uc);function Z1(n,o){return _e(lh(n,o),1)}function Q1(n,o){return _e(lh(n,o),U)}function $1(n,o,u){return u=u===e?1:vt(u),_e(lh(n,o),u)}function Kc(n,o){var u=gt(n)?ii:Gn;return u(n,ht(o,3))}function jc(n,o){var u=gt(n)?_0:Ga;return u(n,ht(o,3))}var tv=$o(function(n,o,u){qt.call(n,u)?n[u].push(o):hn(n,u,[o])});function ev(n,o,u,p){n=Fe(n)?n:wr(n),u=u&&!p?vt(u):0;var v=n.length;return u<0&&(u=ce(v+u,0)),dh(n)?u<=v&&n.indexOf(o,u)>-1:!!v&&hr(n,o,u)>-1}var iv=wt(function(n,o,u){var p=-1,v=typeof o=="function",y=Fe(n)?A(n.length):[];return Gn(n,function(M){y[++p]=v?Ue(o,M,u):Kr(M,o,u)}),y}),nv=$o(function(n,o,u){hn(n,u,o)});function lh(n,o){var u=gt(n)?Qt:Za;return u(n,ht(o,3))}function sv(n,o,u,p){return n==null?[]:(gt(o)||(o=o==null?[]:[o]),u=p?e:u,gt(u)||(u=u==null?[]:[u]),ec(n,o,u))}var rv=$o(function(n,o,u){n[u?0:1].push(o)},function(){return[[],[]]});function ov(n,o,u){var p=gt(n)?pl:Ca,v=arguments.length<3;return p(n,ht(o,4),u,v,Gn)}function hv(n,o,u){var p=gt(n)?w0:Ca,v=arguments.length<3;return p(n,ht(o,4),u,v,Ga)}function lv(n,o){var u=gt(n)?Vn:qa;return u(n,ch(ht(o,3)))}function uv(n){var o=gt(n)?Va:em;return o(n)}function av(n,o,u){(u?Re(n,o,u):o===e)?o=1:o=vt(o);var p=gt(n)?Pg:im;return p(n,o)}function cv(n){var o=gt(n)?Lg:sm;return o(n)}function fv(n){if(n==null)return 0;if(Fe(n))return dh(n)?ur(n):n.length;var o=Ce(n);return o==he||o==pe?n.size:Ll(n).length}function dv(n,o,u){var p=gt(n)?gl:rm;return u&&Re(n,o,u)&&(o=e),p(n,ht(o,3))}var pv=wt(function(n,o){if(n==null)return[];var u=o.length;return u>1&&Re(n,o[0],o[1])?o=[]:u>2&&Re(o[0],o[1],o[2])&&(o=[o[0]]),ec(n,_e(o,1),[])}),uh=j0||function(){return ue.Date.now()};function gv(n,o){if(typeof o!="function")throw new ni(l);return n=vt(n),function(){if(--n<1)return o.apply(this,arguments)}}function Jc(n,o,u){return o=u?e:o,o=n&&o==null?n.length:o,ln(n,Z,e,e,e,e,o)}function Xc(n,o){var u;if(typeof o!="function")throw new ni(l);return n=vt(n),function(){return--n>0&&(u=o.apply(this,arguments)),n<=1&&(o=e),u}}var nu=wt(function(n,o,u){var p=R;if(u.length){var v=Hn(u,vr(nu));p|=nt}return ln(n,p,o,u,v)}),Zc=wt(function(n,o,u){var p=R|k;if(u.length){var v=Hn(u,vr(Zc));p|=nt}return ln(o,p,n,u,v)});function Qc(n,o,u){o=u?e:o;var p=ln(n,G,e,e,e,e,e,o);return p.placeholder=Qc.placeholder,p}function $c(n,o,u){o=u?e:o;var p=ln(n,N,e,e,e,e,e,o);return p.placeholder=$c.placeholder,p}function tf(n,o,u){var p,v,y,M,x,T,z=0,V=!1,W=!1,X=!0;if(typeof n!="function")throw new ni(l);o=li(o)||0,ee(u)&&(V=!!u.leading,W="maxWait"in u,y=W?ce(li(u.maxWait)||0,o):y,X="trailing"in u?!!u.trailing:X);function st(re){var Ni=p,dn=v;return p=v=e,z=re,M=n.apply(dn,Ni),M}function lt(re){return z=re,x=Qr(St,o),V?st(re):M}function _t(re){var Ni=re-T,dn=re-z,bf=o-Ni;return W?xe(bf,y-dn):bf}function ut(re){var Ni=re-T,dn=re-z;return T===e||Ni>=o||Ni<0||W&&dn>=y}function St(){var re=uh();if(ut(re))return Tt(re);x=Qr(St,_t(re))}function Tt(re){return x=e,X&&p?st(re):(p=v=e,M)}function qe(){x!==e&&ac(x),z=0,p=T=v=x=e}function Oe(){return x===e?M:Tt(uh())}function Ye(){var re=uh(),Ni=ut(re);if(p=arguments,v=this,T=re,Ni){if(x===e)return lt(T);if(W)return ac(x),x=Qr(St,o),st(T)}return x===e&&(x=Qr(St,o)),M}return Ye.cancel=qe,Ye.flush=Oe,Ye}var mv=wt(function(n,o){return Wa(n,1,o)}),vv=wt(function(n,o,u){return Wa(n,li(o)||0,u)});function _v(n){return ln(n,it)}function ah(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new ni(l);var u=function(){var p=arguments,v=o?o.apply(this,p):p[0],y=u.cache;if(y.has(v))return y.get(v);var M=n.apply(this,p);return u.cache=y.set(v,M)||y,M};return u.cache=new(ah.Cache||on),u}ah.Cache=on;function ch(n){if(typeof n!="function")throw new ni(l);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function wv(n){return Xc(2,n)}var bv=om(function(n,o){o=o.length==1&&gt(o[0])?Qt(o[0],He(ht())):Qt(_e(o,1),He(ht()));var u=o.length;return wt(function(p){for(var v=-1,y=xe(p.length,u);++v<y;)p[v]=o[v].call(this,p[v]);return Ue(n,this,p)})}),su=wt(function(n,o){var u=Hn(o,vr(su));return ln(n,nt,e,o,u)}),ef=wt(function(n,o){var u=Hn(o,vr(ef));return ln(n,ct,e,o,u)}),yv=un(function(n,o){return ln(n,H,e,e,e,o)});function Sv(n,o){if(typeof n!="function")throw new ni(l);return o=o===e?o:vt(o),wt(n,o)}function Mv(n,o){if(typeof n!="function")throw new ni(l);return o=o==null?0:ce(vt(o),0),wt(function(u){var p=u[o],v=Kn(u,0,o);return p&&Un(v,p),Ue(n,this,v)})}function xv(n,o,u){var p=!0,v=!0;if(typeof n!="function")throw new ni(l);return ee(u)&&(p="leading"in u?!!u.leading:p,v="trailing"in u?!!u.trailing:v),tf(n,o,{leading:p,maxWait:o,trailing:v})}function Cv(n){return Jc(n,1)}function Ev(n,o){return su(Hl(o),n)}function Tv(){if(!arguments.length)return[];var n=arguments[0];return gt(n)?n:[n]}function Rv(n){return ri(n,b)}function Ov(n,o){return o=typeof o=="function"?o:e,ri(n,b,o)}function Iv(n){return ri(n,g|b)}function Av(n,o){return o=typeof o=="function"?o:e,ri(n,g|b,o)}function Pv(n,o){return o==null||Ha(n,o,ge(o))}function Li(n,o){return n===o||n!==n&&o!==o}var Lv=nh(Il),Nv=nh(function(n,o){return n>=o}),Ts=ja(function(){return arguments}())?ja:function(n){return ne(n)&&qt.call(n,"callee")&&!Na.call(n,"callee")},gt=A.isArray,Fv=ga?He(ga):Wg;function Fe(n){return n!=null&&fh(n.length)&&!cn(n)}function se(n){return ne(n)&&Fe(n)}function Bv(n){return n===!0||n===!1||ne(n)&&Te(n)==ye}var jn=X0||gu,kv=ma?He(ma):Gg;function Dv(n){return ne(n)&&n.nodeType===1&&!$r(n)}function zv(n){if(n==null)return!0;if(Fe(n)&&(gt(n)||typeof n=="string"||typeof n.splice=="function"||jn(n)||_r(n)||Ts(n)))return!n.length;var o=Ce(n);if(o==he||o==pe)return!n.size;if(Zr(n))return!Ll(n).length;for(var u in n)if(qt.call(n,u))return!1;return!0}function Vv(n,o){return jr(n,o)}function Uv(n,o,u){u=typeof u=="function"?u:e;var p=u?u(n,o):e;return p===e?jr(n,o,e,u):!!p}function ru(n){if(!ne(n))return!1;var o=Te(n);return o==De||o==bi||typeof n.message=="string"&&typeof n.name=="string"&&!$r(n)}function Hv(n){return typeof n=="number"&&Ba(n)}function cn(n){if(!ee(n))return!1;var o=Te(n);return o==ze||o==yi||o==ve||o==Fi}function nf(n){return typeof n=="number"&&n==vt(n)}function fh(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=j}function ee(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function ne(n){return n!=null&&typeof n=="object"}var sf=va?He(va):Yg;function Wv(n,o){return n===o||Pl(n,o,Jl(o))}function Gv(n,o,u){return u=typeof u=="function"?u:e,Pl(n,o,Jl(o),u)}function qv(n){return rf(n)&&n!=+n}function Yv(n){if(Om(n))throw new pt(h);return Ja(n)}function Kv(n){return n===null}function jv(n){return n==null}function rf(n){return typeof n=="number"||ne(n)&&Te(n)==Pe}function $r(n){if(!ne(n)||Te(n)!=le)return!1;var o=zo(n);if(o===null)return!0;var u=qt.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Fo.call(u)==G0}var ou=_a?He(_a):Kg;function Jv(n){return nf(n)&&n>=-j&&n<=j}var of=wa?He(wa):jg;function dh(n){return typeof n=="string"||!gt(n)&&ne(n)&&Te(n)==Ze}function Ge(n){return typeof n=="symbol"||ne(n)&&Te(n)==Le}var _r=ba?He(ba):Jg;function Xv(n){return n===e}function Zv(n){return ne(n)&&Ce(n)==Bi}function Qv(n){return ne(n)&&Te(n)==wn}var $v=nh(Nl),t_=nh(function(n,o){return n<=o});function hf(n){if(!n)return[];if(Fe(n))return dh(n)?Ai(n):Ne(n);if(Vr&&n[Vr])return P0(n[Vr]());var o=Ce(n),u=o==he?yl:o==pe?Po:wr;return u(n)}function fn(n){if(!n)return n===0?n:0;if(n=li(n),n===U||n===-U){var o=n<0?-1:1;return o*q}return n===n?n:0}function vt(n){var o=fn(n),u=o%1;return o===o?u?o-u:o:0}function lf(n){return n?Ms(vt(n),0,B):0}function li(n){if(typeof n=="number")return n;if(Ge(n))return ot;if(ee(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=ee(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=Ea(n);var u=On.test(n);return u||er.test(n)?oe(n.slice(2),u?2:8):Rn.test(n)?ot:+n}function uf(n){return Yi(n,Be(n))}function e_(n){return n?Ms(vt(n),-j,j):n===0?n:0}function Vt(n){return n==null?"":We(n)}var i_=gr(function(n,o){if(Zr(o)||Fe(o)){Yi(o,ge(o),n);return}for(var u in o)qt.call(o,u)&&qr(n,u,o[u])}),af=gr(function(n,o){Yi(o,Be(o),n)}),ph=gr(function(n,o,u,p){Yi(o,Be(o),n,p)}),n_=gr(function(n,o,u,p){Yi(o,ge(o),n,p)}),s_=un(Tl);function r_(n,o){var u=pr(n);return o==null?u:Ua(u,o)}var o_=wt(function(n,o){n=Kt(n);var u=-1,p=o.length,v=p>2?o[2]:e;for(v&&Re(o[0],o[1],v)&&(p=1);++u<p;)for(var y=o[u],M=Be(y),x=-1,T=M.length;++x<T;){var z=M[x],V=n[z];(V===e||Li(V,cr[z])&&!qt.call(n,z))&&(n[z]=y[z])}return n}),h_=wt(function(n){return n.push(e,Ec),Ue(cf,e,n)});function l_(n,o){return Sa(n,ht(o,3),qi)}function u_(n,o){return Sa(n,ht(o,3),Ol)}function a_(n,o){return n==null?n:Rl(n,ht(o,3),Be)}function c_(n,o){return n==null?n:Ya(n,ht(o,3),Be)}function f_(n,o){return n&&qi(n,ht(o,3))}function d_(n,o){return n&&Ol(n,ht(o,3))}function p_(n){return n==null?[]:Jo(n,ge(n))}function g_(n){return n==null?[]:Jo(n,Be(n))}function hu(n,o,u){var p=n==null?e:xs(n,o);return p===e?u:p}function m_(n,o){return n!=null&&Oc(n,o,zg)}function lu(n,o){return n!=null&&Oc(n,o,Vg)}var v_=yc(function(n,o,u){o!=null&&typeof o.toString!="function"&&(o=Bo.call(o)),n[o]=u},au(ke)),__=yc(function(n,o,u){o!=null&&typeof o.toString!="function"&&(o=Bo.call(o)),qt.call(n,o)?n[o].push(u):n[o]=[u]},ht),w_=wt(Kr);function ge(n){return Fe(n)?za(n):Ll(n)}function Be(n){return Fe(n)?za(n,!0):Xg(n)}function b_(n,o){var u={};return o=ht(o,3),qi(n,function(p,v,y){hn(u,o(p,v,y),p)}),u}function y_(n,o){var u={};return o=ht(o,3),qi(n,function(p,v,y){hn(u,v,o(p,v,y))}),u}var S_=gr(function(n,o,u){Xo(n,o,u)}),cf=gr(function(n,o,u,p){Xo(n,o,u,p)}),M_=un(function(n,o){var u={};if(n==null)return u;var p=!1;o=Qt(o,function(y){return y=Yn(y,n),p||(p=y.length>1),y}),Yi(n,Kl(n),u),p&&(u=ri(u,g|m|b,vm));for(var v=o.length;v--;)zl(u,o[v]);return u});function x_(n,o){return ff(n,ch(ht(o)))}var C_=un(function(n,o){return n==null?{}:Qg(n,o)});function ff(n,o){if(n==null)return{};var u=Qt(Kl(n),function(p){return[p]});return o=ht(o),ic(n,u,function(p,v){return o(p,v[0])})}function E_(n,o,u){o=Yn(o,n);var p=-1,v=o.length;for(v||(v=1,n=e);++p<v;){var y=n==null?e:n[Ki(o[p])];y===e&&(p=v,y=u),n=cn(y)?y.call(n):y}return n}function T_(n,o,u){return n==null?n:Jr(n,o,u)}function R_(n,o,u,p){return p=typeof p=="function"?p:e,n==null?n:Jr(n,o,u,p)}var df=xc(ge),pf=xc(Be);function O_(n,o,u){var p=gt(n),v=p||jn(n)||_r(n);if(o=ht(o,4),u==null){var y=n&&n.constructor;v?u=p?new y:[]:ee(n)?u=cn(y)?pr(zo(n)):{}:u={}}return(v?ii:qi)(n,function(M,x,T){return o(u,M,x,T)}),u}function I_(n,o){return n==null?!0:zl(n,o)}function A_(n,o,u){return n==null?n:hc(n,o,Hl(u))}function P_(n,o,u,p){return p=typeof p=="function"?p:e,n==null?n:hc(n,o,Hl(u),p)}function wr(n){return n==null?[]:bl(n,ge(n))}function L_(n){return n==null?[]:bl(n,Be(n))}function N_(n,o,u){return u===e&&(u=o,o=e),u!==e&&(u=li(u),u=u===u?u:0),o!==e&&(o=li(o),o=o===o?o:0),Ms(li(n),o,u)}function F_(n,o,u){return o=fn(o),u===e?(u=o,o=0):u=fn(u),n=li(n),Ug(n,o,u)}function B_(n,o,u){if(u&&typeof u!="boolean"&&Re(n,o,u)&&(o=u=e),u===e&&(typeof o=="boolean"?(u=o,o=e):typeof n=="boolean"&&(u=n,n=e)),n===e&&o===e?(n=0,o=1):(n=fn(n),o===e?(o=n,n=0):o=fn(o)),n>o){var p=n;n=o,o=p}if(u||n%1||o%1){var v=ka();return xe(n+v*(o-n+ti("1e-"+((v+"").length-1))),o)}return Bl(n,o)}var k_=mr(function(n,o,u){return o=o.toLowerCase(),n+(u?gf(o):o)});function gf(n){return uu(Vt(n).toLowerCase())}function mf(n){return n=Vt(n),n&&n.replace(ir,T0).replace(vs,"")}function D_(n,o,u){n=Vt(n),o=We(o);var p=n.length;u=u===e?p:Ms(vt(u),0,p);var v=u;return u-=o.length,u>=0&&n.slice(u,v)==o}function z_(n){return n=Vt(n),n&&is.test(n)?n.replace(es,R0):n}function V_(n){return n=Vt(n),n&&js.test(n)?n.replace(En,"\\$&"):n}var U_=mr(function(n,o,u){return n+(u?"-":"")+o.toLowerCase()}),H_=mr(function(n,o,u){return n+(u?" ":"")+o.toLowerCase()}),W_=_c("toLowerCase");function G_(n,o,u){n=Vt(n),o=vt(o);var p=o?ur(n):0;if(!o||p>=o)return n;var v=(o-p)/2;return ih(Wo(v),u)+n+ih(Ho(v),u)}function q_(n,o,u){n=Vt(n),o=vt(o);var p=o?ur(n):0;return o&&p<o?n+ih(o-p,u):n}function Y_(n,o,u){n=Vt(n),o=vt(o);var p=o?ur(n):0;return o&&p<o?ih(o-p,u)+n:n}function K_(n,o,u){return u||o==null?o=0:o&&(o=+o),tg(Vt(n).replace(Tn,""),o||0)}function j_(n,o,u){return(u?Re(n,o,u):o===e)?o=1:o=vt(o),kl(Vt(n),o)}function J_(){var n=arguments,o=Vt(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var X_=mr(function(n,o,u){return n+(u?"_":"")+o.toLowerCase()});function Z_(n,o,u){return u&&typeof u!="number"&&Re(n,o,u)&&(o=u=e),u=u===e?B:u>>>0,u?(n=Vt(n),n&&(typeof o=="string"||o!=null&&!ou(o))&&(o=We(o),!o&&lr(n))?Kn(Ai(n),0,u):n.split(o,u)):[]}var Q_=mr(function(n,o,u){return n+(u?" ":"")+uu(o)});function $_(n,o,u){return n=Vt(n),u=u==null?0:Ms(vt(u),0,n.length),o=We(o),n.slice(u,u+o.length)==o}function tw(n,o,u){var p=w.templateSettings;u&&Re(n,o,u)&&(o=e),n=Vt(n),o=ph({},o,p,Cc);var v=ph({},o.imports,p.imports,Cc),y=ge(v),M=bl(v,y),x,T,z=0,V=o.interpolate||xi,W="__p += '",X=Sl((o.escape||xi).source+"|"+V.source+"|"+(V===tn?Nt:xi).source+"|"+(o.evaluate||xi).source+"|$","g"),st="//# sourceURL="+(qt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ul+"]")+`
`;n.replace(X,function(ut,St,Tt,qe,Oe,Ye){return Tt||(Tt=qe),W+=n.slice(z,Ye).replace(In,O0),St&&(x=!0,W+=`' +
__e(`+St+`) +
'`),Oe&&(T=!0,W+=`';
`+Oe+`;
__p += '`),Tt&&(W+=`' +
((__t = (`+Tt+`)) == null ? '' : __t) +
'`),z=Ye+ut.length,ut}),W+=`';
`;var lt=qt.call(o,"variable")&&o.variable;if(!lt)W=`with (obj) {
`+W+`
}
`;else if(Lr.test(lt))throw new pt(a);W=(T?W.replace(Hs,""):W).replace(Ws,"$1").replace(Gs,"$1;"),W="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var _t=_f(function(){return Dt(y,st+"return "+W).apply(e,M)});if(_t.source=W,ru(_t))throw _t;return _t}function ew(n){return Vt(n).toLowerCase()}function iw(n){return Vt(n).toUpperCase()}function nw(n,o,u){if(n=Vt(n),n&&(u||o===e))return Ea(n);if(!n||!(o=We(o)))return n;var p=Ai(n),v=Ai(o),y=Ta(p,v),M=Ra(p,v)+1;return Kn(p,y,M).join("")}function sw(n,o,u){if(n=Vt(n),n&&(u||o===e))return n.slice(0,Ia(n)+1);if(!n||!(o=We(o)))return n;var p=Ai(n),v=Ra(p,Ai(o))+1;return Kn(p,0,v).join("")}function rw(n,o,u){if(n=Vt(n),n&&(u||o===e))return n.replace(Tn,"");if(!n||!(o=We(o)))return n;var p=Ai(n),v=Ta(p,Ai(o));return Kn(p,v).join("")}function ow(n,o){var u=Et,p=bt;if(ee(o)){var v="separator"in o?o.separator:v;u="length"in o?vt(o.length):u,p="omission"in o?We(o.omission):p}n=Vt(n);var y=n.length;if(lr(n)){var M=Ai(n);y=M.length}if(u>=y)return n;var x=u-ur(p);if(x<1)return p;var T=M?Kn(M,0,x).join(""):n.slice(0,x);if(v===e)return T+p;if(M&&(x+=T.length-x),ou(v)){if(n.slice(x).search(v)){var z,V=T;for(v.global||(v=Sl(v.source,Vt(Mi.exec(v))+"g")),v.lastIndex=0;z=v.exec(V);)var W=z.index;T=T.slice(0,W===e?x:W)}}else if(n.indexOf(We(v),x)!=x){var X=T.lastIndexOf(v);X>-1&&(T=T.slice(0,X))}return T+p}function hw(n){return n=Vt(n),n&&qs.test(n)?n.replace(ts,B0):n}var lw=mr(function(n,o,u){return n+(u?" ":"")+o.toUpperCase()}),uu=_c("toUpperCase");function vf(n,o,u){return n=Vt(n),o=u?e:o,o===e?A0(n)?z0(n):S0(n):n.match(o)||[]}var _f=wt(function(n,o){try{return Ue(n,e,o)}catch(u){return ru(u)?u:new pt(u)}}),uw=un(function(n,o){return ii(o,function(u){u=Ki(u),hn(n,u,nu(n[u],n))}),n});function aw(n){var o=n==null?0:n.length,u=ht();return n=o?Qt(n,function(p){if(typeof p[1]!="function")throw new ni(l);return[u(p[0]),p[1]]}):[],wt(function(p){for(var v=-1;++v<o;){var y=n[v];if(Ue(y[0],this,p))return Ue(y[1],this,p)}})}function cw(n){return Bg(ri(n,g))}function au(n){return function(){return n}}function fw(n,o){return n==null||n!==n?o:n}var dw=bc(),pw=bc(!0);function ke(n){return n}function cu(n){return Xa(typeof n=="function"?n:ri(n,g))}function gw(n){return Qa(ri(n,g))}function mw(n,o){return $a(n,ri(o,g))}var vw=wt(function(n,o){return function(u){return Kr(u,n,o)}}),_w=wt(function(n,o){return function(u){return Kr(n,u,o)}});function fu(n,o,u){var p=ge(o),v=Jo(o,p);u==null&&!(ee(o)&&(v.length||!p.length))&&(u=o,o=n,n=this,v=Jo(o,ge(o)));var y=!(ee(u)&&"chain"in u)||!!u.chain,M=cn(n);return ii(v,function(x){var T=o[x];n[x]=T,M&&(n.prototype[x]=function(){var z=this.__chain__;if(y||z){var V=n(this.__wrapped__),W=V.__actions__=Ne(this.__actions__);return W.push({func:T,args:arguments,thisArg:n}),V.__chain__=z,V}return T.apply(n,Un([this.value()],arguments))})}),n}function ww(){return ue._===this&&(ue._=q0),this}function du(){}function bw(n){return n=vt(n),wt(function(o){return tc(o,n)})}var yw=Gl(Qt),Sw=Gl(ya),Mw=Gl(gl);function wf(n){return Zl(n)?ml(Ki(n)):$g(n)}function xw(n){return function(o){return n==null?e:xs(n,o)}}var Cw=Sc(),Ew=Sc(!0);function pu(){return[]}function gu(){return!1}function Tw(){return{}}function Rw(){return""}function Ow(){return!0}function Iw(n,o){if(n=vt(n),n<1||n>j)return[];var u=B,p=xe(n,B);o=ht(o),n-=B;for(var v=wl(p,o);++u<n;)o(u);return v}function Aw(n){return gt(n)?Qt(n,Ki):Ge(n)?[n]:Ne(Dc(Vt(n)))}function Pw(n){var o=++W0;return Vt(n)+o}var Lw=eh(function(n,o){return n+o},0),Nw=ql("ceil"),Fw=eh(function(n,o){return n/o},1),Bw=ql("floor");function kw(n){return n&&n.length?jo(n,ke,Il):e}function Dw(n,o){return n&&n.length?jo(n,ht(o,2),Il):e}function zw(n){return xa(n,ke)}function Vw(n,o){return xa(n,ht(o,2))}function Uw(n){return n&&n.length?jo(n,ke,Nl):e}function Hw(n,o){return n&&n.length?jo(n,ht(o,2),Nl):e}var Ww=eh(function(n,o){return n*o},1),Gw=ql("round"),qw=eh(function(n,o){return n-o},0);function Yw(n){return n&&n.length?_l(n,ke):0}function Kw(n,o){return n&&n.length?_l(n,ht(o,2)):0}return w.after=gv,w.ary=Jc,w.assign=i_,w.assignIn=af,w.assignInWith=ph,w.assignWith=n_,w.at=s_,w.before=Xc,w.bind=nu,w.bindAll=uw,w.bindKey=Zc,w.castArray=Tv,w.chain=Yc,w.chunk=Bm,w.compact=km,w.concat=Dm,w.cond=aw,w.conforms=cw,w.constant=au,w.countBy=Y1,w.create=r_,w.curry=Qc,w.curryRight=$c,w.debounce=tf,w.defaults=o_,w.defaultsDeep=h_,w.defer=mv,w.delay=vv,w.difference=zm,w.differenceBy=Vm,w.differenceWith=Um,w.drop=Hm,w.dropRight=Wm,w.dropRightWhile=Gm,w.dropWhile=qm,w.fill=Ym,w.filter=j1,w.flatMap=Z1,w.flatMapDeep=Q1,w.flatMapDepth=$1,w.flatten=Hc,w.flattenDeep=Km,w.flattenDepth=jm,w.flip=_v,w.flow=dw,w.flowRight=pw,w.fromPairs=Jm,w.functions=p_,w.functionsIn=g_,w.groupBy=tv,w.initial=Zm,w.intersection=Qm,w.intersectionBy=$m,w.intersectionWith=t1,w.invert=v_,w.invertBy=__,w.invokeMap=iv,w.iteratee=cu,w.keyBy=nv,w.keys=ge,w.keysIn=Be,w.map=lh,w.mapKeys=b_,w.mapValues=y_,w.matches=gw,w.matchesProperty=mw,w.memoize=ah,w.merge=S_,w.mergeWith=cf,w.method=vw,w.methodOf=_w,w.mixin=fu,w.negate=ch,w.nthArg=bw,w.omit=M_,w.omitBy=x_,w.once=wv,w.orderBy=sv,w.over=yw,w.overArgs=bv,w.overEvery=Sw,w.overSome=Mw,w.partial=su,w.partialRight=ef,w.partition=rv,w.pick=C_,w.pickBy=ff,w.property=wf,w.propertyOf=xw,w.pull=s1,w.pullAll=Gc,w.pullAllBy=r1,w.pullAllWith=o1,w.pullAt=h1,w.range=Cw,w.rangeRight=Ew,w.rearg=yv,w.reject=lv,w.remove=l1,w.rest=Sv,w.reverse=eu,w.sampleSize=av,w.set=T_,w.setWith=R_,w.shuffle=cv,w.slice=u1,w.sortBy=pv,w.sortedUniq=m1,w.sortedUniqBy=v1,w.split=Z_,w.spread=Mv,w.tail=_1,w.take=w1,w.takeRight=b1,w.takeRightWhile=y1,w.takeWhile=S1,w.tap=k1,w.throttle=xv,w.thru=hh,w.toArray=hf,w.toPairs=df,w.toPairsIn=pf,w.toPath=Aw,w.toPlainObject=uf,w.transform=O_,w.unary=Cv,w.union=M1,w.unionBy=x1,w.unionWith=C1,w.uniq=E1,w.uniqBy=T1,w.uniqWith=R1,w.unset=I_,w.unzip=iu,w.unzipWith=qc,w.update=A_,w.updateWith=P_,w.values=wr,w.valuesIn=L_,w.without=O1,w.words=vf,w.wrap=Ev,w.xor=I1,w.xorBy=A1,w.xorWith=P1,w.zip=L1,w.zipObject=N1,w.zipObjectDeep=F1,w.zipWith=B1,w.entries=df,w.entriesIn=pf,w.extend=af,w.extendWith=ph,fu(w,w),w.add=Lw,w.attempt=_f,w.camelCase=k_,w.capitalize=gf,w.ceil=Nw,w.clamp=N_,w.clone=Rv,w.cloneDeep=Iv,w.cloneDeepWith=Av,w.cloneWith=Ov,w.conformsTo=Pv,w.deburr=mf,w.defaultTo=fw,w.divide=Fw,w.endsWith=D_,w.eq=Li,w.escape=z_,w.escapeRegExp=V_,w.every=K1,w.find=J1,w.findIndex=Vc,w.findKey=l_,w.findLast=X1,w.findLastIndex=Uc,w.findLastKey=u_,w.floor=Bw,w.forEach=Kc,w.forEachRight=jc,w.forIn=a_,w.forInRight=c_,w.forOwn=f_,w.forOwnRight=d_,w.get=hu,w.gt=Lv,w.gte=Nv,w.has=m_,w.hasIn=lu,w.head=Wc,w.identity=ke,w.includes=ev,w.indexOf=Xm,w.inRange=F_,w.invoke=w_,w.isArguments=Ts,w.isArray=gt,w.isArrayBuffer=Fv,w.isArrayLike=Fe,w.isArrayLikeObject=se,w.isBoolean=Bv,w.isBuffer=jn,w.isDate=kv,w.isElement=Dv,w.isEmpty=zv,w.isEqual=Vv,w.isEqualWith=Uv,w.isError=ru,w.isFinite=Hv,w.isFunction=cn,w.isInteger=nf,w.isLength=fh,w.isMap=sf,w.isMatch=Wv,w.isMatchWith=Gv,w.isNaN=qv,w.isNative=Yv,w.isNil=jv,w.isNull=Kv,w.isNumber=rf,w.isObject=ee,w.isObjectLike=ne,w.isPlainObject=$r,w.isRegExp=ou,w.isSafeInteger=Jv,w.isSet=of,w.isString=dh,w.isSymbol=Ge,w.isTypedArray=_r,w.isUndefined=Xv,w.isWeakMap=Zv,w.isWeakSet=Qv,w.join=e1,w.kebabCase=U_,w.last=hi,w.lastIndexOf=i1,w.lowerCase=H_,w.lowerFirst=W_,w.lt=$v,w.lte=t_,w.max=kw,w.maxBy=Dw,w.mean=zw,w.meanBy=Vw,w.min=Uw,w.minBy=Hw,w.stubArray=pu,w.stubFalse=gu,w.stubObject=Tw,w.stubString=Rw,w.stubTrue=Ow,w.multiply=Ww,w.nth=n1,w.noConflict=ww,w.noop=du,w.now=uh,w.pad=G_,w.padEnd=q_,w.padStart=Y_,w.parseInt=K_,w.random=B_,w.reduce=ov,w.reduceRight=hv,w.repeat=j_,w.replace=J_,w.result=E_,w.round=Gw,w.runInContext=E,w.sample=uv,w.size=fv,w.snakeCase=X_,w.some=dv,w.sortedIndex=a1,w.sortedIndexBy=c1,w.sortedIndexOf=f1,w.sortedLastIndex=d1,w.sortedLastIndexBy=p1,w.sortedLastIndexOf=g1,w.startCase=Q_,w.startsWith=$_,w.subtract=qw,w.sum=Yw,w.sumBy=Kw,w.template=tw,w.times=Iw,w.toFinite=fn,w.toInteger=vt,w.toLength=lf,w.toLower=ew,w.toNumber=li,w.toSafeInteger=e_,w.toString=Vt,w.toUpper=iw,w.trim=nw,w.trimEnd=sw,w.trimStart=rw,w.truncate=ow,w.unescape=hw,w.uniqueId=Pw,w.upperCase=lw,w.upperFirst=uu,w.each=Kc,w.eachRight=jc,w.first=Wc,fu(w,function(){var n={};return qi(w,function(o,u){qt.call(w.prototype,u)||(n[u]=o)}),n}(),{chain:!1}),w.VERSION=i,ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){w[n].placeholder=w}),ii(["drop","take"],function(n,o){Ct.prototype[n]=function(u){u=u===e?1:ce(vt(u),0);var p=this.__filtered__&&!o?new Ct(this):this.clone();return p.__filtered__?p.__takeCount__=xe(u,p.__takeCount__):p.__views__.push({size:xe(u,B),type:n+(p.__dir__<0?"Right":"")}),p},Ct.prototype[n+"Right"]=function(u){return this.reverse()[n](u).reverse()}}),ii(["filter","map","takeWhile"],function(n,o){var u=o+1,p=u==yt||u==K;Ct.prototype[n]=function(v){var y=this.clone();return y.__iteratees__.push({iteratee:ht(v,3),type:u}),y.__filtered__=y.__filtered__||p,y}}),ii(["head","last"],function(n,o){var u="take"+(o?"Right":"");Ct.prototype[n]=function(){return this[u](1).value()[0]}}),ii(["initial","tail"],function(n,o){var u="drop"+(o?"":"Right");Ct.prototype[n]=function(){return this.__filtered__?new Ct(this):this[u](1)}}),Ct.prototype.compact=function(){return this.filter(ke)},Ct.prototype.find=function(n){return this.filter(n).head()},Ct.prototype.findLast=function(n){return this.reverse().find(n)},Ct.prototype.invokeMap=wt(function(n,o){return typeof n=="function"?new Ct(this):this.map(function(u){return Kr(u,n,o)})}),Ct.prototype.reject=function(n){return this.filter(ch(ht(n)))},Ct.prototype.slice=function(n,o){n=vt(n);var u=this;return u.__filtered__&&(n>0||o<0)?new Ct(u):(n<0?u=u.takeRight(-n):n&&(u=u.drop(n)),o!==e&&(o=vt(o),u=o<0?u.dropRight(-o):u.take(o-n)),u)},Ct.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ct.prototype.toArray=function(){return this.take(B)},qi(Ct.prototype,function(n,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),p=/^(?:head|last)$/.test(o),v=w[p?"take"+(o=="last"?"Right":""):o],y=p||/^find/.test(o);v&&(w.prototype[o]=function(){var M=this.__wrapped__,x=p?[1]:arguments,T=M instanceof Ct,z=x[0],V=T||gt(M),W=function(St){var Tt=v.apply(w,Un([St],x));return p&&X?Tt[0]:Tt};V&&u&&typeof z=="function"&&z.length!=1&&(T=V=!1);var X=this.__chain__,st=!!this.__actions__.length,lt=y&&!X,_t=T&&!st;if(!y&&V){M=_t?M:new Ct(this);var ut=n.apply(M,x);return ut.__actions__.push({func:hh,args:[W],thisArg:e}),new si(ut,X)}return lt&&_t?n.apply(this,x):(ut=this.thru(W),lt?p?ut.value()[0]:ut.value():ut)})}),ii(["pop","push","shift","sort","splice","unshift"],function(n){var o=Lo[n],u=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",p=/^(?:pop|shift)$/.test(n);w.prototype[n]=function(){var v=arguments;if(p&&!this.__chain__){var y=this.value();return o.apply(gt(y)?y:[],v)}return this[u](function(M){return o.apply(gt(M)?M:[],v)})}}),qi(Ct.prototype,function(n,o){var u=w[o];if(u){var p=u.name+"";qt.call(dr,p)||(dr[p]=[]),dr[p].push({name:o,func:u})}}),dr[th(e,k).name]=[{name:"wrapper",func:e}],Ct.prototype.clone=hg,Ct.prototype.reverse=lg,Ct.prototype.value=ug,w.prototype.at=D1,w.prototype.chain=z1,w.prototype.commit=V1,w.prototype.next=U1,w.prototype.plant=W1,w.prototype.reverse=G1,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=q1,w.prototype.first=w.prototype.head,Vr&&(w.prototype[Vr]=H1),w},ar=V0();Ii?((Ii.exports=ar)._=ar,Dr._=ar):ue._=ar}).call(eo)})(P2,di);function Fd(s,t=0){var e=Math.pow(10,t),i=s*e*(1+Number.EPSILON);return Math.round(i)/e}function Mr(s,t){return di.minBy(s,e=>Math.abs(new Date(e.timestamp).getTime()-new Date(t).getTime()))}function Gp(s,t){let e=[],i=di.cloneDeep(s).reverse(),r=[];for(;i.length>0;){const h=i.pop();if(t([...r,h]))r=[...r,h];else if(t([h]))e.push(r),r=[h];else{console.log(`Item ${h} did not match condition and was discarded.`);continue}}return e.push(r),e}const L2=2048;function N2(s,t,e){return Gp(s,i=>(t+e(i)).length<=L2)}function qp(s,t){return function(){return s.apply(t,arguments)}}const{toString:Yp}=Object.prototype,{getPrototypeOf:ra}=Object,oa=(s=>t=>{const e=Yp.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),vn=s=>(s=s.toLowerCase(),t=>oa(t)===s),tl=s=>t=>typeof t===s,{isArray:Pr}=Array,_o=tl("undefined");function F2(s){return s!==null&&!_o(s)&&s.constructor!==null&&!_o(s.constructor)&&$n(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Kp=vn("ArrayBuffer");function B2(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&Kp(s.buffer),t}const k2=tl("string"),$n=tl("function"),jp=tl("number"),ha=s=>s!==null&&typeof s=="object",D2=s=>s===!0||s===!1,Lh=s=>{if(oa(s)!=="object")return!1;const t=ra(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},z2=vn("Date"),V2=vn("File"),U2=vn("Blob"),H2=vn("FileList"),W2=s=>ha(s)&&$n(s.pipe),G2=s=>{const t="[object FormData]";return s&&(typeof FormData=="function"&&s instanceof FormData||Yp.call(s)===t||$n(s.toString)&&s.toString()===t)},q2=vn("URLSearchParams"),Y2=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let i,r;if(typeof s!="object"&&(s=[s]),Pr(s))for(i=0,r=s.length;i<r;i++)t.call(null,s[i],i,s);else{const h=e?Object.getOwnPropertyNames(s):Object.keys(s),l=h.length;let a;for(i=0;i<l;i++)a=h[i],t.call(null,s[a],a,s)}}function Jp(s,t){t=t.toLowerCase();const e=Object.keys(s);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const Xp=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Zp=s=>!_o(s)&&s!==Xp;function Gu(){const{caseless:s}=Zp(this)&&this||{},t={},e=(i,r)=>{const h=s&&Jp(t,r)||r;Lh(t[h])&&Lh(i)?t[h]=Gu(t[h],i):Lh(i)?t[h]=Gu({},i):Pr(i)?t[h]=i.slice():t[h]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&xo(arguments[i],e);return t}const K2=(s,t,e,{allOwnKeys:i}={})=>(xo(t,(r,h)=>{e&&$n(r)?s[h]=qp(r,e):s[h]=r},{allOwnKeys:i}),s),j2=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),J2=(s,t,e,i)=>{s.prototype=Object.create(t.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},X2=(s,t,e,i)=>{let r,h,l;const a={};if(t=t||{},s==null)return t;do{for(r=Object.getOwnPropertyNames(s),h=r.length;h-- >0;)l=r[h],(!i||i(l,s,t))&&!a[l]&&(t[l]=s[l],a[l]=!0);s=e!==!1&&ra(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},Z2=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const i=s.indexOf(t,e);return i!==-1&&i===e},Q2=s=>{if(!s)return null;if(Pr(s))return s;let t=s.length;if(!jp(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},$2=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&ra(Uint8Array)),tM=(s,t)=>{const i=(s&&s[Symbol.iterator]).call(s);let r;for(;(r=i.next())&&!r.done;){const h=r.value;t.call(s,h[0],h[1])}},eM=(s,t)=>{let e;const i=[];for(;(e=s.exec(t))!==null;)i.push(e);return i},iM=vn("HTMLFormElement"),nM=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),Bd=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),sM=vn("RegExp"),Qp=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),i={};xo(e,(r,h)=>{t(r,h,s)!==!1&&(i[h]=r)}),Object.defineProperties(s,i)},rM=s=>{Qp(s,(t,e)=>{if($n(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=s[e];if($n(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},oM=(s,t)=>{const e={},i=r=>{r.forEach(h=>{e[h]=!0})};return Pr(s)?i(s):i(String(s).split(t)),e},hM=()=>{},lM=(s,t)=>(s=+s,Number.isFinite(s)?s:t),Fu="abcdefghijklmnopqrstuvwxyz",kd="0123456789",$p={DIGIT:kd,ALPHA:Fu,ALPHA_DIGIT:Fu+Fu.toUpperCase()+kd},uM=(s=16,t=$p.ALPHA_DIGIT)=>{let e="";const{length:i}=t;for(;s--;)e+=t[Math.random()*i|0];return e};function aM(s){return!!(s&&$n(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const cM=s=>{const t=new Array(10),e=(i,r)=>{if(ha(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const h=Pr(i)?[]:{};return xo(i,(l,a)=>{const c=e(l,r+1);!_o(c)&&(h[a]=c)}),t[r]=void 0,h}}return i};return e(s,0)},D={isArray:Pr,isArrayBuffer:Kp,isBuffer:F2,isFormData:G2,isArrayBufferView:B2,isString:k2,isNumber:jp,isBoolean:D2,isObject:ha,isPlainObject:Lh,isUndefined:_o,isDate:z2,isFile:V2,isBlob:U2,isRegExp:sM,isFunction:$n,isStream:W2,isURLSearchParams:q2,isTypedArray:$2,isFileList:H2,forEach:xo,merge:Gu,extend:K2,trim:Y2,stripBOM:j2,inherits:J2,toFlatObject:X2,kindOf:oa,kindOfTest:vn,endsWith:Z2,toArray:Q2,forEachEntry:tM,matchAll:eM,isHTMLForm:iM,hasOwnProperty:Bd,hasOwnProp:Bd,reduceDescriptors:Qp,freezeMethods:rM,toObjectSet:oM,toCamelCase:nM,noop:hM,toFiniteNumber:lM,findKey:Jp,global:Xp,isContextDefined:Zp,ALPHABET:$p,generateString:uM,isSpecCompliantForm:aM,toJSONObject:cM};function Ft(s,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r)}D.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const t0=Ft.prototype,e0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{e0[s]={value:s}});Object.defineProperties(Ft,e0);Object.defineProperty(t0,"isAxiosError",{value:!0});Ft.from=(s,t,e,i,r,h)=>{const l=Object.create(t0);return D.toFlatObject(s,l,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Ft.call(l,s.message,t,e,i,r),l.cause=s,l.name=s.name,h&&Object.assign(l,h),l};const fM=null;function qu(s){return D.isPlainObject(s)||D.isArray(s)}function i0(s){return D.endsWith(s,"[]")?s.slice(0,-2):s}function Dd(s,t,e){return s?s.concat(t).map(function(r,h){return r=i0(r),!e&&h?"["+r+"]":r}).join(e?".":""):t}function dM(s){return D.isArray(s)&&!s.some(qu)}const pM=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function el(s,t,e){if(!D.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=D.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,R){return!D.isUndefined(R[S])});const i=e.metaTokens,r=e.visitor||f,h=e.dots,l=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(r))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(D.isDate(_))return _.toISOString();if(!c&&D.isBlob(_))throw new Ft("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(_)||D.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,S,R){let k=_;if(_&&!R&&typeof _=="object"){if(D.endsWith(S,"{}"))S=i?S:S.slice(0,-2),_=JSON.stringify(_);else if(D.isArray(_)&&dM(_)||(D.isFileList(_)||D.endsWith(S,"[]"))&&(k=D.toArray(_)))return S=i0(S),k.forEach(function(G,N){!(D.isUndefined(G)||G===null)&&t.append(l===!0?Dd([S],N,h):l===null?S:S+"[]",d(G))}),!1}return qu(_)?!0:(t.append(Dd(R,S,h),d(_)),!1)}const g=[],m=Object.assign(pM,{defaultVisitor:f,convertValue:d,isVisitable:qu});function b(_,S){if(!D.isUndefined(_)){if(g.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(_),D.forEach(_,function(k,L){(!(D.isUndefined(k)||k===null)&&r.call(t,k,D.isString(L)?L.trim():L,S,m))===!0&&b(k,S?S.concat(L):[L])}),g.pop()}}if(!D.isObject(s))throw new TypeError("data must be an object");return b(s),t}function zd(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function la(s,t){this._pairs=[],s&&el(s,this,t)}const n0=la.prototype;n0.append=function(t,e){this._pairs.push([t,e])};n0.toString=function(t){const e=t?function(i){return t.call(this,i,zd)}:zd;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function gM(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s0(s,t,e){if(!t)return s;const i=e&&e.encode||gM,r=e&&e.serialize;let h;if(r?h=r(t,e):h=D.isURLSearchParams(t)?t.toString():new la(t,e).toString(i),h){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+h}return s}class mM{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Vd=mM,r0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vM=typeof URLSearchParams<"u"?URLSearchParams:la,_M=typeof FormData<"u"?FormData:null,wM=typeof Blob<"u"?Blob:null,bM=(()=>{let s;return typeof navigator<"u"&&((s=navigator.product)==="ReactNative"||s==="NativeScript"||s==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),yM=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Zi={isBrowser:!0,classes:{URLSearchParams:vM,FormData:_M,Blob:wM},isStandardBrowserEnv:bM,isStandardBrowserWebWorkerEnv:yM,protocols:["http","https","file","blob","url","data"]};function SM(s,t){return el(s,new Zi.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,h){return Zi.isNode&&D.isBuffer(e)?(this.append(i,e.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function MM(s){return D.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xM(s){const t={},e=Object.keys(s);let i;const r=e.length;let h;for(i=0;i<r;i++)h=e[i],t[h]=s[h];return t}function o0(s){function t(e,i,r,h){let l=e[h++];const a=Number.isFinite(+l),c=h>=e.length;return l=!l&&D.isArray(r)?r.length:l,c?(D.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!a):((!r[l]||!D.isObject(r[l]))&&(r[l]=[]),t(e,i,r[l],h)&&D.isArray(r[l])&&(r[l]=xM(r[l])),!a)}if(D.isFormData(s)&&D.isFunction(s.entries)){const e={};return D.forEachEntry(s,(i,r)=>{t(MM(i),r,e,0)}),e}return null}const CM={"Content-Type":void 0};function EM(s,t,e){if(D.isString(s))try{return(t||JSON.parse)(s),D.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(s)}const il={transitional:r0,adapter:["xhr","http"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,h=D.isObject(t);if(h&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return r&&r?JSON.stringify(o0(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(h){if(i.indexOf("application/x-www-form-urlencoded")>-1)return SM(t,this.formSerializer).toString();if((a=D.isFileList(t))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return el(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return h||r?(e.setContentType("application/json",!1),EM(t)):t}],transformResponse:[function(t){const e=this.transitional||il.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(t&&D.isString(t)&&(i&&!this.responseType||r)){const l=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(l)throw a.name==="SyntaxError"?Ft.from(a,Ft.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zi.classes.FormData,Blob:Zi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],function(t){il.headers[t]={}});D.forEach(["post","put","patch"],function(t){il.headers[t]=D.merge(CM)});const ua=il,TM=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RM=s=>{const t={};let e,i,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),e=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!e||t[e]&&TM[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},Ud=Symbol("internals");function so(s){return s&&String(s).trim().toLowerCase()}function Nh(s){return s===!1||s==null?s:D.isArray(s)?s.map(Nh):String(s)}function OM(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(s);)t[i[1]]=i[2];return t}function IM(s){return/^[-_a-zA-Z]+$/.test(s.trim())}function Bu(s,t,e,i,r){if(D.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!D.isString(t)){if(D.isString(i))return t.indexOf(i)!==-1;if(D.isRegExp(i))return i.test(t)}}function AM(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function PM(s,t){const e=D.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+e,{value:function(r,h,l){return this[i].call(this,t,r,h,l)},configurable:!0})})}class nl{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function h(a,c,d){const f=so(c);if(!f)throw new Error("header name must be a non-empty string");const g=D.findKey(r,f);(!g||r[g]===void 0||d===!0||d===void 0&&r[g]!==!1)&&(r[g||c]=Nh(a))}const l=(a,c)=>D.forEach(a,(d,f)=>h(d,f,c));return D.isPlainObject(t)||t instanceof this.constructor?l(t,e):D.isString(t)&&(t=t.trim())&&!IM(t)?l(RM(t),e):t!=null&&h(e,t,i),this}get(t,e){if(t=so(t),t){const i=D.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return OM(r);if(D.isFunction(e))return e.call(this,r,i);if(D.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=so(t),t){const i=D.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||Bu(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function h(l){if(l=so(l),l){const a=D.findKey(i,l);a&&(!e||Bu(i,i[a],a,e))&&(delete i[a],r=!0)}}return D.isArray(t)?t.forEach(h):h(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const h=e[i];(!t||Bu(this,this[h],h,t,!0))&&(delete this[h],r=!0)}return r}normalize(t){const e=this,i={};return D.forEach(this,(r,h)=>{const l=D.findKey(i,h);if(l){e[l]=Nh(r),delete e[h];return}const a=t?AM(h):String(h).trim();a!==h&&delete e[h],e[a]=Nh(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return D.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&D.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[Ud]=this[Ud]={accessors:{}}).accessors,r=this.prototype;function h(l){const a=so(l);i[a]||(PM(r,l),i[a]=!0)}return D.isArray(t)?t.forEach(h):h(t),this}}nl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.freezeMethods(nl.prototype);D.freezeMethods(nl);const mn=nl;function ku(s,t){const e=this||ua,i=t||e,r=mn.from(i.headers);let h=i.data;return D.forEach(s,function(a){h=a.call(e,h,r.normalize(),t?t.status:void 0)}),r.normalize(),h}function h0(s){return!!(s&&s.__CANCEL__)}function Co(s,t,e){Ft.call(this,s??"canceled",Ft.ERR_CANCELED,t,e),this.name="CanceledError"}D.inherits(Co,Ft,{__CANCEL__:!0});function LM(s,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?s(e):t(new Ft("Request failed with status code "+e.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}const NM=Zi.isStandardBrowserEnv?function(){return{write:function(e,i,r,h,l,a){const c=[];c.push(e+"="+encodeURIComponent(i)),D.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),D.isString(h)&&c.push("path="+h),D.isString(l)&&c.push("domain="+l),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){const i=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function FM(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function BM(s,t){return t?s.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):s}function l0(s,t){return s&&!FM(t)?BM(s,t):t}const kM=Zi.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function r(h){let l=h;return t&&(e.setAttribute("href",l),l=e.href),e.setAttribute("href",l),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=r(window.location.href),function(l){const a=D.isString(l)?r(l):l;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function DM(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function zM(s,t){s=s||10;const e=new Array(s),i=new Array(s);let r=0,h=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=i[h];l||(l=d),e[r]=c,i[r]=d;let g=h,m=0;for(;g!==r;)m+=e[g++],g=g%s;if(r=(r+1)%s,r===h&&(h=(h+1)%s),d-l<t)return;const b=f&&d-f;return b?Math.round(m*1e3/b):void 0}}function Hd(s,t){let e=0;const i=zM(50,250);return r=>{const h=r.loaded,l=r.lengthComputable?r.total:void 0,a=h-e,c=i(a),d=h<=l;e=h;const f={loaded:h,total:l,progress:l?h/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&d?(l-h)/c:void 0,event:r};f[t?"download":"upload"]=!0,s(f)}}const VM=typeof XMLHttpRequest<"u",UM=VM&&function(s){return new Promise(function(e,i){let r=s.data;const h=mn.from(s.headers).normalize(),l=s.responseType;let a;function c(){s.cancelToken&&s.cancelToken.unsubscribe(a),s.signal&&s.signal.removeEventListener("abort",a)}D.isFormData(r)&&(Zi.isStandardBrowserEnv||Zi.isStandardBrowserWebWorkerEnv)&&h.setContentType(!1);let d=new XMLHttpRequest;if(s.auth){const b=s.auth.username||"",_=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";h.set("Authorization","Basic "+btoa(b+":"+_))}const f=l0(s.baseURL,s.url);d.open(s.method.toUpperCase(),s0(f,s.params,s.paramsSerializer),!0),d.timeout=s.timeout;function g(){if(!d)return;const b=mn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:b,config:s,request:d};LM(function(k){e(k),c()},function(k){i(k),c()},S),d=null}if("onloadend"in d?d.onloadend=g:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(g)},d.onabort=function(){d&&(i(new Ft("Request aborted",Ft.ECONNABORTED,s,d)),d=null)},d.onerror=function(){i(new Ft("Network Error",Ft.ERR_NETWORK,s,d)),d=null},d.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||r0;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),i(new Ft(_,S.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,s,d)),d=null},Zi.isStandardBrowserEnv){const b=(s.withCredentials||kM(f))&&s.xsrfCookieName&&NM.read(s.xsrfCookieName);b&&h.set(s.xsrfHeaderName,b)}r===void 0&&h.setContentType(null),"setRequestHeader"in d&&D.forEach(h.toJSON(),function(_,S){d.setRequestHeader(S,_)}),D.isUndefined(s.withCredentials)||(d.withCredentials=!!s.withCredentials),l&&l!=="json"&&(d.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&d.addEventListener("progress",Hd(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Hd(s.onUploadProgress)),(s.cancelToken||s.signal)&&(a=b=>{d&&(i(!b||b.type?new Co(null,s,d):b),d.abort(),d=null)},s.cancelToken&&s.cancelToken.subscribe(a),s.signal&&(s.signal.aborted?a():s.signal.addEventListener("abort",a)));const m=DM(f);if(m&&Zi.protocols.indexOf(m)===-1){i(new Ft("Unsupported protocol "+m+":",Ft.ERR_BAD_REQUEST,s));return}d.send(r||null)})},Fh={http:fM,xhr:UM};D.forEach(Fh,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const HM={getAdapter:s=>{s=D.isArray(s)?s:[s];const{length:t}=s;let e,i;for(let r=0;r<t&&(e=s[r],!(i=D.isString(e)?Fh[e.toLowerCase()]:e));r++);if(!i)throw i===!1?new Ft(`Adapter ${e} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(D.hasOwnProp(Fh,e)?`Adapter '${e}' is not available in the build`:`Unknown adapter '${e}'`);if(!D.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Fh};function Du(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Co(null,s)}function Wd(s){return Du(s),s.headers=mn.from(s.headers),s.data=ku.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),HM.getAdapter(s.adapter||ua.adapter)(s).then(function(i){return Du(s),i.data=ku.call(s,s.transformResponse,i),i.headers=mn.from(i.headers),i},function(i){return h0(i)||(Du(s),i&&i.response&&(i.response.data=ku.call(s,s.transformResponse,i.response),i.response.headers=mn.from(i.response.headers))),Promise.reject(i)})}const Gd=s=>s instanceof mn?s.toJSON():s;function Rr(s,t){t=t||{};const e={};function i(d,f,g){return D.isPlainObject(d)&&D.isPlainObject(f)?D.merge.call({caseless:g},d,f):D.isPlainObject(f)?D.merge({},f):D.isArray(f)?f.slice():f}function r(d,f,g){if(D.isUndefined(f)){if(!D.isUndefined(d))return i(void 0,d,g)}else return i(d,f,g)}function h(d,f){if(!D.isUndefined(f))return i(void 0,f)}function l(d,f){if(D.isUndefined(f)){if(!D.isUndefined(d))return i(void 0,d)}else return i(void 0,f)}function a(d,f,g){if(g in t)return i(d,f);if(g in s)return i(void 0,d)}const c={url:h,method:h,data:h,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(d,f)=>r(Gd(d),Gd(f),!0)};return D.forEach(Object.keys(s).concat(Object.keys(t)),function(f){const g=c[f]||r,m=g(s[f],t[f],f);D.isUndefined(m)&&g!==a||(e[f]=m)}),e}const u0="1.3.4",aa={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{aa[s]=function(i){return typeof i===s||"a"+(t<1?"n ":" ")+s}});const qd={};aa.transitional=function(t,e,i){function r(h,l){return"[Axios v"+u0+"] Transitional option '"+h+"'"+l+(i?". "+i:"")}return(h,l,a)=>{if(t===!1)throw new Ft(r(l," has been removed"+(e?" in "+e:"")),Ft.ERR_DEPRECATED);return e&&!qd[l]&&(qd[l]=!0,console.warn(r(l," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(h,l,a):!0}};function WM(s,t,e){if(typeof s!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let r=i.length;for(;r-- >0;){const h=i[r],l=t[h];if(l){const a=s[h],c=a===void 0||l(a,h,s);if(c!==!0)throw new Ft("option "+h+" must be "+c,Ft.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Ft("Unknown option "+h,Ft.ERR_BAD_OPTION)}}const Yu={assertOptions:WM,validators:aa},Zn=Yu.validators;let qh=class{constructor(t){this.defaults=t,this.interceptors={request:new Vd,response:new Vd}}request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Rr(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:h}=e;i!==void 0&&Yu.assertOptions(i,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),r!==void 0&&Yu.assertOptions(r,{encode:Zn.function,serialize:Zn.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l;l=h&&D.merge(h.common,h[e.method]),l&&D.forEach(["delete","get","head","post","put","patch","common"],_=>{delete h[_]}),e.headers=mn.concat(l,h);const a=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(e)===!1||(c=c&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,g=0,m;if(!c){const _=[Wd.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,d),m=_.length,f=Promise.resolve(e);g<m;)f=f.then(_[g++],_[g++]);return f}m=a.length;let b=e;for(g=0;g<m;){const _=a[g++],S=a[g++];try{b=_(b)}catch(R){S.call(this,R);break}}try{f=Wd.call(this,b)}catch(_){return Promise.reject(_)}for(g=0,m=d.length;g<m;)f=f.then(d[g++],d[g++]);return f}getUri(t){t=Rr(this.defaults,t);const e=l0(t.baseURL,t.url);return s0(e,t.params,t.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(t){qh.prototype[t]=function(e,i){return this.request(Rr(i||{},{method:t,url:e,data:(i||{}).data}))}});D.forEach(["post","put","patch"],function(t){function e(i){return function(h,l,a){return this.request(Rr(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:h,data:l}))}}qh.prototype[t]=e(),qh.prototype[t+"Form"]=e(!0)});const Bh=qh;class ca{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(h){e=h});const i=this;this.promise.then(r=>{if(!i._listeners)return;let h=i._listeners.length;for(;h-- >0;)i._listeners[h](r);i._listeners=null}),this.promise.then=r=>{let h;const l=new Promise(a=>{i.subscribe(a),h=a}).then(r);return l.cancel=function(){i.unsubscribe(h)},l},t(function(h,l,a){i.reason||(i.reason=new Co(h,l,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}static source(){let t;return{token:new ca(function(r){t=r}),cancel:t}}}const GM=ca;function qM(s){return function(e){return s.apply(null,e)}}function YM(s){return D.isObject(s)&&s.isAxiosError===!0}const Ku={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ku).forEach(([s,t])=>{Ku[t]=s});const KM=Ku;function a0(s){const t=new Bh(s),e=qp(Bh.prototype.request,t);return D.extend(e,Bh.prototype,t,{allOwnKeys:!0}),D.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return a0(Rr(s,r))},e}const fe=a0(ua);fe.Axios=Bh;fe.CanceledError=Co;fe.CancelToken=GM;fe.isCancel=h0;fe.VERSION=u0;fe.toFormData=el;fe.AxiosError=Ft;fe.Cancel=fe.CanceledError;fe.all=function(t){return Promise.all(t)};fe.spread=qM;fe.isAxiosError=YM;fe.mergeConfig=Rr;fe.AxiosHeaders=mn;fe.formToJSON=s=>o0(D.isHTMLForm(s)?new FormData(s):s);fe.HttpStatusCode=KM;fe.default=fe;const jM=fe;class c0{constructor(t){to(this,"api");this.baseURL=t,this.api=jM.create({baseURL:t})}async fetchJson(t){return(await this.api.get(t,{headers:{accept:"application/json"}})).data}}class JM{constructor(){to(this,"api");this.api=new c0("https://coins.llama.fi")}getPriceRoute(t,e="4h"){return`/prices/current/${t}?searchWidth=${e}`}async _getPrices(t){const e=Object.fromEntries(t.map(({id:l,token:a})=>[`${a.chain}:${a.address}`,l])),i=this.getPriceRoute(Object.keys(e).join(",")),h=(await this.api.fetchJson(i)).coins??{};return Object.fromEntries(Object.entries(e).map(([l,a])=>[a,h[l]]).map(([l,a])=>[l,a?{usd:a.price,timestamp:new Date(a.timestamp>1775369079?a.timestamp:Date.now()).toISOString(),source:this.api.baseURL+i}:null]))}async getPrices(t){const e=N2(t,this.api.baseURL,r=>this.getPriceRoute(r.map(({token:h})=>`${h.chain}:${h.address}`).join(","))),i=await Promise.all(e.map(r=>this._getPrices(r)));return di.merge({},...i)}async getPrice(t){return(await this.getPrices([t]))[t.id]}}const XM=2048,ZM=30;class QM{constructor(){to(this,"api");this.api=new c0("https://api.dexscreener.com")}getPriceRoute(t){return`/latest/dex/tokens/${t}`}async _getPrices(t){const e=Object.fromEntries(t.map(d=>[`${d.token.chain}:${d.token.address}`,d])),i=this.getPriceRoute(Object.keys(e).join(",")),l=((await this.api.fetchJson(i)).pairs??[]).filter(d=>d.baseToken.address in e),a=di.groupBy(l,"baseToken.address");return Object.fromEntries(Object.entries(a).map(([d,f])=>[e[d].id,e[d].token.chain,f]).map(([d,f,g])=>[d,g.filter(m=>m.chainId==f)]).map(([d,f])=>[d,{usd:FS(di.map(f,"priceUsd")),timestamp:new Date().toISOString(),source:this.api.baseURL+i}]))}async getPrices(t){const e=Gp(t,r=>(this.api.baseURL+this.getPriceRoute(di.map(r,"token.address").join(","))).length<=XM&&r.length<=ZM),i=await Promise.all(e.map(r=>this._getPrices(r)));return di.merge({},...i)}async getPrice(t){return(await this.getPrices([t]))[t.id]}}class $M extends A2{constructor(){super({defillama:JM,dexscreener:QM})}async getPrices(t){let e={};for(const i of this.instances)if(e={...e,...await i.getPrices(t.filter(({id:r})=>!e[r]))},t.every(({id:r})=>e[r]))break;return e}async getPrice(t){return(await this.getPrices([t]))[t.id]}}var wo={},tx={get exports(){return wo},set exports(s){wo=s}},fa=Yh;function Yh(s,t){if(!(this instanceof Yh))return new Yh(s,t);if(Array.isArray(s)||(t=s,s=[]),t=t||{},this.data=s||[],this.length=this.data.length,this.compare=t.compare||ix,this.setNodeId=t.setNodeId||ex,this.length>0)for(var e=this.length>>1;e>=0;e--)this._down(e);if(t.setNodeId)for(var e=0;e<this.length;++e)this.setNodeId(this.data[e],e)}function ex(){}function ix(s,t){return s-t}Yh.prototype={push:function(s){this.data.push(s),this.setNodeId(s,this.length),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var s=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this.setNodeId(this.data[0],0),this._down(0)),this.data.pop(),s}},peek:function(){return this.data[0]},updateItem:function(s){this._down(s),this._up(s)},_up:function(s){for(var t=this.data,e=this.compare,i=this.setNodeId,r=t[s];s>0;){var h=s-1>>1,l=t[h];if(e(r,l)>=0)break;t[s]=l,i(l,s),s=h}t[s]=r,i(r,s)},_down:function(s){for(var t=this.data,e=this.compare,i=this.length>>1,r=t[s],h=this.setNodeId;s<i;){var l=(s<<1)+1,a=l+1,c=t[l];if(a<this.length&&e(t[a],c)<0&&(l=a,c=t[a]),e(c,r)>=0)break;t[s]=c,h(c,s),s=l}t[s]=r,h(r,s)}};function nx(s){this.node=s,this.parent=null,this.closed=!1,this.open=0,this.distanceToSource=Number.POSITIVE_INFINITY,this.fScore=Number.POSITIVE_INFINITY,this.heapIndex=-1}function sx(){var s=0,t=[];return{createNewState:i,reset:e};function e(){s=0}function i(r){var h=t[s];return h?(h.node=r,h.parent=null,h.closed=!1,h.open=0,h.distanceToSource=Number.POSITIVE_INFINITY,h.fScore=Number.POSITIVE_INFINITY,h.heapIndex=-1):(h=new nx(r),t[s]=h),s++,h}}var f0=sx,da={l2:rx,l1:ox};function rx(s,t){var e=s.x-t.x,i=s.y-t.y;return Math.sqrt(e*e+i*i)}function ox(s,t){var e=s.x-t.x,i=s.y-t.y;return Math.abs(e)+Math.abs(i)}var d0=[];typeof Object.freeze=="function"&&Object.freeze(d0);var pa={heuristic:hx,distance:lx,compareFScore:ux,NO_PATH:d0,setHeapIndex:ax,setH1:dx,setH2:px,compareF1Score:cx,compareF2Score:fx};function hx(){return 0}function lx(){return 1}function ux(s,t){var e=s.fScore-t.fScore;return e}function ax(s,t){s.heapIndex=t}function cx(s,t){return s.f1-t.f1}function fx(s,t){return s.f2-t.f2}function dx(s,t){s.h1=t}function px(s,t){s.h2=t}tx.exports=_x;var gx=fa,mx=f0,p0=da,uo=pa,vx=uo.NO_PATH;wo.l2=p0.l2;wo.l1=p0.l1;function _x(s,t){t=t||{};var e=t.oriented,i=t.heuristic;i||(i=uo.heuristic);var r=t.distance;r||(r=uo.distance);var h=mx();return{find:l};function l(a,c){var d=s.getNode(a);if(!d)throw new Error("fromId is not defined in this graph: "+a);var f=s.getNode(c);if(!f)throw new Error("toId is not defined in this graph: "+c);h.reset();var g=new Map,m=new gx({compare:uo.compareFScore,setNodeId:uo.setHeapIndex}),b=h.createNewState(d);g.set(a,b),b.fScore=i(d,f),b.distanceToSource=0,m.push(b),b.open=1;for(var _;m.length>0;){if(_=m.pop(),wx(_,f))return bx(_);_.closed=!0,s.forEachLinkedNode(_.node.id,S,e)}return vx;function S(R,k){var L=g.get(R.id);if(L||(L=h.createNewState(R),g.set(R.id,L)),!L.closed){L.open===0&&(m.push(L),L.open=1);var G=_.distanceToSource+r(R,_.node,k);G>=L.distanceToSource||(L.parent=_,L.distanceToSource=G,L.fScore=G+i(L.node,f),m.updateItem(L.heapIndex))}}}}function wx(s,t){return s.node===t}function bx(s){for(var t=[s.node],e=s.parent;e;)t.push(e.node),e=e.parent;return t}var bo={},yx={get exports(){return bo},set exports(s){bo=s}};yx.exports=xx;var Yd=fa,Sx=f0,g0=da,Rs=pa,ro=1,zu=2,Mx=Rs.NO_PATH;bo.l2=g0.l2;bo.l1=g0.l1;function xx(s,t){t=t||{};var e=t.oriented,i=t.heuristic;i||(i=Rs.heuristic);var r=t.distance;r||(r=Rs.distance);var h=Sx();return{find:l};function l(a,c){var d=s.getNode(a);if(!d)throw new Error("fromId is not defined in this graph: "+a);var f=s.getNode(c);if(!f)throw new Error("toId is not defined in this graph: "+c);if(d===f)return[d];h.reset();var g=e?H:Z,m=new Map,b=new Yd({compare:Rs.compareFScore,setNodeId:Rs.setHeapIndex}),_=new Yd({compare:Rs.compareFScore,setNodeId:Rs.setHeapIndex}),S=h.createNewState(d);m.set(a,S),S.fScore=i(d,f),S.distanceToSource=0,b.push(S),S.open=ro;var R=h.createNewState(f);R.fScore=i(f,d),R.distanceToSource=0,_.push(R),R.open=zu;for(var k=Number.POSITIVE_INFINITY,L,G,N=b,nt=ro;b.length>0&&_.length>0;){b.length<_.length?(nt=ro,N=b):(nt=zu,N=_);var ct=N.pop();if(ct.closed=!0,!(ct.distanceToSource>k)&&(s.forEachLinkedNode(ct.node.id,g),L&&G))return Et(L,G)}return Mx;function Z(ft,mt){return bt(ft,mt,ct)}function H(ft,mt){if(nt===ro){if(mt.fromId===ct.node.id)return bt(ft,mt,ct)}else if(nt===zu&&mt.toId===ct.node.id)return bt(ft,mt,ct)}function it(ft){var mt=ft.open;return!!(mt&&mt!==nt)}function Et(ft,mt){for(var yt=[],O=ft;O;)yt.push(O.node),O=O.parent;for(var K=mt;K;)yt.unshift(K.node),K=K.parent;return yt}function bt(ft,mt,yt){var O=m.get(ft.id);if(O||(O=h.createNewState(ft),m.set(ft.id,O)),!O.closed){if(it(O)){var K=O.distanceToSource+yt.distanceToSource;K<k&&(L=O,G=yt,k=K);return}var U=yt.distanceToSource+r(O.node,yt.node,mt);if(!(U>=O.distanceToSource)){var j=nt===ro?f:d,q=U+i(O.node,j);q>=k||(O.fScore=q,O.open===0&&(N.push(O),N.updateItem(O.heapIndex),O.open=nt),O.parent=yt,O.distanceToSource=U)}}}}}var yo={},Cx={get exports(){return yo},set exports(s){yo=s}},Ex=Rx;function Tx(s){this.node=s,this.p1=null,this.p2=null,this.closed=!1,this.g1=Number.POSITIVE_INFINITY,this.g2=Number.POSITIVE_INFINITY,this.f1=Number.POSITIVE_INFINITY,this.f2=Number.POSITIVE_INFINITY,this.h1=-1,this.h2=-1}function Rx(){var s=0,t=[];return{createNewState:i,reset:e};function e(){s=0}function i(r){var h=t[s];return h?(h.node=r,h.p1=null,h.p2=null,h.closed=!1,h.g1=Number.POSITIVE_INFINITY,h.g2=Number.POSITIVE_INFINITY,h.f1=Number.POSITIVE_INFINITY,h.f2=Number.POSITIVE_INFINITY,h.h1=-1,h.h2=-1):(h=new Tx(r),t[s]=h),s++,h}}Cx.exports=Ax;var Kd=fa,m0=da,Os=pa,Ox=Ex,Ix=Os.NO_PATH;yo.l2=m0.l2;yo.l1=m0.l1;function Ax(s,t){t=t||{};var e=t.oriented,i=t.quitFast,r=t.heuristic;r||(r=Os.heuristic);var h=t.distance;h||(h=Os.distance);var l=Ox();return{find:a};function a(c,d){var f=s.getNode(c);if(!f)throw new Error("fromId is not defined in this graph: "+c);var g=s.getNode(d);if(!g)throw new Error("toId is not defined in this graph: "+d);l.reset();var m=e?yt:bt,b=e?mt:ft,_=new Map,S=new Kd({compare:Os.compareF1Score,setNodeId:Os.setH1}),R=new Kd({compare:Os.compareF2Score,setNodeId:Os.setH2}),k,L=Number.POSITIVE_INFINITY,G=l.createNewState(f);_.set(c,G),G.g1=0;var N=r(f,g);G.f1=N,S.push(G);var nt=l.createNewState(g);_.set(d,nt),nt.g2=0;var ct=N;nt.f2=ct,R.push(nt);for(var Z;R.length&&S.length&&(S.length<R.length?it():Et(),!(i&&k)););var H=Px(k);return H;function it(){Z=S.pop(),!Z.closed&&(Z.closed=!0,Z.f1<L&&Z.g1+ct-r(f,Z.node)<L&&s.forEachLinkedNode(Z.node.id,m),S.length>0&&(N=S.peek().f1))}function Et(){Z=R.pop(),!Z.closed&&(Z.closed=!0,Z.f2<L&&Z.g2+N-r(Z.node,g)<L&&s.forEachLinkedNode(Z.node.id,b),R.length>0&&(ct=R.peek().f2))}function bt(O,K){var U=_.get(O.id);if(U||(U=l.createNewState(O),_.set(O.id,U)),!U.closed){var j=Z.g1+h(Z.node,O,K);j<U.g1&&(U.g1=j,U.f1=j+r(U.node,g),U.p1=Z,U.h1<0?S.push(U):S.updateItem(U.h1));var q=U.g1+U.g2;q<L&&(L=q,k=U)}}function ft(O,K){var U=_.get(O.id);if(U||(U=l.createNewState(O),_.set(O.id,U)),!U.closed){var j=Z.g2+h(Z.node,O,K);j<U.g2&&(U.g2=j,U.f2=j+r(f,U.node),U.p2=Z,U.h2<0?R.push(U):R.updateItem(U.h2));var q=U.g1+U.g2;q<L&&(L=q,k=U)}}function mt(O,K){if(K.toId===Z.node.id)return ft(O,K)}function yt(O,K){if(K.fromId===Z.node.id)return bt(O,K)}}}function Px(s){if(!s)return Ix;for(var t=[s.node],e=s.p1;e;)t.push(e.node),e=e.p1;for(var i=s.p2;i;)t.unshift(i.node),i=i.p2;return t}var Lx={aStar:wo,aGreedy:bo,nba:yo};function Kh(s,t,e="down"){const i=d=>e=="down"?d.fromId:d.toId,r=d=>e=="down"?d.toId:d.fromId;let h=fp(),l=Lx.aStar(h,{oriented:!0});if(!s.hasNode(t))return h;const a=s.getNode(t);let c=[a];for(h.addNode(t,a.data);c.length>0;){let d=c.shift();const f=[...s.getLinks(d.id)??[]].filter(g=>i(g)==d.id);for(const g of f){if(h.hasLink(i(g),r(g))||h.hasNode(r(g))&&h.hasNode(i(g))&&l.find(r(g),i(g)).length>0)continue;const m=s.getNode(r(g));h.addNode(m.id,m.data),h.addLink(i(g),r(g),g.data),c.push(m)}}return h}function jh(s,t){let e=fp();if(!s.hasNode(t))return e;let i=[s.getNode(t)];for(;i.length>0;){let r=i.shift();const h=r.data.history.map(a=>{const c=[...e.getLinks(r.id)??[]].filter(f=>f.toId==r.id),d=c.length?di.sumBy(c,({data:f})=>{var g;return((g=Mr(f.history,a.timestamp))==null?void 0:g.value)??0}):a.mcap??0;return{...a,mcap:d}});e.addNode(r.id,{...r.data,history:h});const l=[...s.getLinks(r.id)??[]].filter(a=>a.fromId==r.id);for(const a of l){const c=s.getNode(a.toId),d=a.data.history.map((f,g)=>{var b;let m=0;if(f.amount&&f.value){const _=di.sumBy(l,({data:R})=>{var k;return((k=R.history[g])==null?void 0:k.value)??0});m=f.value/_*(((b=Mr(h,f.timestamp))==null?void 0:b.mcap)??0)}return{...f,value:m}});e.addLink(a.fromId,a.toId,{...a.data,history:d}),i.push(c)}}return e}function jd(s,t,e){const i=s.slice();return i[34]=t[e],i}function Jd(s,t,e){const i=s.slice();return i[37]=t[e],i}function Xd(s){let t,e;return t=new ju({props:{href:ci+"/issuers/"+s[12].id,icon:yb,$$slots:{default:[Nx]},$$scope:{ctx:s}}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},p(i,r){const h={};r[0]&4096&&(h.href=ci+"/issuers/"+i[12].id),r[0]&4096|r[1]&512&&(h.$$scope={dirty:r,ctx:i}),t.$set(h)},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function Nx(s){let t=s[12].name+"",e;return{c(){e=$t(t)},l(i){e=te(i,t)},m(i,r){et(i,e,r)},p(i,r){r[0]&4096&&t!==(t=i[12].name+"")&&Ee(e,t)},d(i){i&&P(e)}}}function Zd(s){let t,e;return t=new ju({props:{href:ci+"/chains/"+s[11].id,icon:_b,$$slots:{default:[Fx]},$$scope:{ctx:s}}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},p(i,r){const h={};r[0]&2048&&(h.href=ci+"/chains/"+i[11].id),r[0]&2048|r[1]&512&&(h.$$scope={dirty:r,ctx:i}),t.$set(h)},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function Fx(s){let t=s[11].name+"",e;return{c(){e=$t(t)},l(i){e=te(i,t)},m(i,r){et(i,e,r)},p(i,r){r[0]&2048&&t!==(t=i[11].name+"")&&Ee(e,t)},d(i){i&&P(e)}}}function Qd(s){let t,e;return t=new ju({props:{icon:fb,$$slots:{default:[Bx]},$$scope:{ctx:s}}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},p(i,r){const h={};r[0]&1024|r[1]&512&&(h.$$scope={dirty:r,ctx:i}),t.$set(h)},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function Bx(s){let t,e=new Date(s[10]).toLocaleDateString()+"",i;return{c(){t=$t("Updated on "),i=$t(e)},l(r){t=te(r,"Updated on "),i=te(r,e)},m(r,h){et(r,t,h),et(r,i,h)},p(r,h){h[0]&1024&&e!==(e=new Date(r[10]).toLocaleDateString()+"")&&Ee(i,e)},d(r){r&&P(t),r&&P(i)}}}function kx(s){let t,e,i,r,h=s[12]&&Xd(s),l=s[11]&&Zd(s),a=s[10]&&Qd(s);return{c(){h&&h.c(),t=jt(),l&&l.c(),e=jt(),a&&a.c(),i=fi()},l(c){h&&h.l(c),t=Jt(c),l&&l.l(c),e=Jt(c),a&&a.l(c),i=fi()},m(c,d){h&&h.m(c,d),et(c,t,d),l&&l.m(c,d),et(c,e,d),a&&a.m(c,d),et(c,i,d),r=!0},p(c,d){c[12]?h?(h.p(c,d),d[0]&4096&&J(h,1)):(h=Xd(c),h.c(),J(h,1),h.m(t.parentNode,t)):h&&(Ke(),tt(h,1,1,()=>{h=null}),je()),c[11]?l?(l.p(c,d),d[0]&2048&&J(l,1)):(l=Zd(c),l.c(),J(l,1),l.m(e.parentNode,e)):l&&(Ke(),tt(l,1,1,()=>{l=null}),je()),c[10]?a?(a.p(c,d),d[0]&1024&&J(a,1)):(a=Qd(c),a.c(),J(a,1),a.m(i.parentNode,i)):a&&(Ke(),tt(a,1,1,()=>{a=null}),je())},i(c){r||(J(h),J(l),J(a),r=!0)},o(c){tt(h),tt(l),tt(a),r=!1},d(c){h&&h.d(c),c&&P(t),l&&l.d(c),c&&P(e),a&&a.d(c),c&&P(i)}}}function $d(s){let t,e,i;return e=new ob({props:{fillPercent:s[37].value,class:"h-full w-full",waveColor:"#FFDDDD",waveAnimateTime:2e3,waveHeight:.1,waveHeightScaling:!0}}),{c(){t=Rt("div"),It(e.$$.fragment),this.h()},l(r){t=Ot(r,"DIV",{class:!0});var h=$(t);At(e.$$.fragment,h),h.forEach(P),this.h()},h(){I(t,"class","absolute top-0 left-0 h-full w-full")},m(r,h){et(r,t,h),Pt(e,t,null),i=!0},p(r,h){const l={};h[0]&256&&(l.fillPercent=r[37].value),e.$set(l)},i(r){i||(J(e.$$.fragment,r),i=!0)},o(r){tt(e.$$.fragment,r),i=!1},d(r){r&&P(t),Lt(e)}}}function Dx(s){let t=s[37].value+"",e;return{c(){e=$t(t)},l(i){e=te(i,t)},m(i,r){et(i,e,r)},p(i,r){r[0]&256&&t!==(t=i[37].value+"")&&Ee(e,t)},d(i){i&&P(e)}}}function zx(s){let t=Is(s[37].value)+"",e;return{c(){e=$t(t)},l(i){e=te(i,t)},m(i,r){et(i,e,r)},p(i,r){r[0]&256&&t!==(t=Is(i[37].value)+"")&&Ee(e,t)},d(i){i&&P(e)}}}function Vx(s){let t=Ae(s[37].value)+"",e;return{c(){e=$t(t)},l(i){e=te(i,t)},m(i,r){et(i,e,r)},p(i,r){r[0]&256&&t!==(t=Ae(i[37].value)+"")&&Ee(e,t)},d(i){i&&P(e)}}}function Ux(s){let t=s[37].value+"",e;return{c(){e=$t(t)},l(i){e=te(i,t)},m(i,r){et(i,e,r)},p(i,r){r[0]&256&&t!==(t=i[37].value+"")&&Ee(e,t)},d(i){i&&P(e)}}}function Hx(s){let t,e,i,r=s[37].name+"",h,l,a,c,d=s[37].type=="percent"&&typeof s[37].value=="number"&&$d(s);function f(b,_){return b[37].type=="standard"?Ux:b[37].type=="currency"&&typeof b[37].value=="number"?Vx:b[37].type=="percent"&&typeof b[37].value=="number"?zx:Dx}let g=f(s),m=g(s);return{c(){d&&d.c(),t=jt(),e=Rt("dl"),i=Rt("dt"),h=$t(r),l=Rt("dd"),m.c(),a=jt(),this.h()},l(b){d&&d.l(b),t=Jt(b),e=Ot(b,"DL",{class:!0});var _=$(e);i=Ot(_,"DT",{class:!0});var S=$(i);h=te(S,r),S.forEach(P),l=Ot(_,"DD",{class:!0});var R=$(l);m.l(R),R.forEach(P),_.forEach(P),a=Jt(b),this.h()},h(){I(i,"class","text-sm font-medium text-gray-500 truncate"),I(l,"class","mt-1 text-3xl font-semibold text-gray-900"),I(e,"class","relative")},m(b,_){d&&d.m(b,_),et(b,t,_),et(b,e,_),rt(e,i),rt(i,h),rt(e,l),m.m(l,null),et(b,a,_),c=!0},p(b,_){b[37].type=="percent"&&typeof b[37].value=="number"?d?(d.p(b,_),_[0]&256&&J(d,1)):(d=$d(b),d.c(),J(d,1),d.m(t.parentNode,t)):d&&(Ke(),tt(d,1,1,()=>{d=null}),je()),(!c||_[0]&256)&&r!==(r=b[37].name+"")&&Ee(h,r),g===(g=f(b))&&m?m.p(b,_):(m.d(1),m=g(b),m&&(m.c(),m.m(l,null)))},i(b){c||(J(d),c=!0)},o(b){tt(d),c=!1},d(b){d&&d.d(b),b&&P(t),b&&P(e),m.d(),b&&P(a)}}}function tp(s){let t,e;return t=new Qn({props:{class:"relative px-4 py-5 sm:p-6",$$slots:{default:[Hx]},$$scope:{ctx:s}}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},p(i,r){const h={};r[0]&256|r[1]&512&&(h.$$scope={dirty:r,ctx:i}),t.$set(h)},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function ep(s){let t,e,i,r=s[6].length>0&&ip(s);return e=new Qn({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[qx]},$$scope:{ctx:s}}}),{c(){r&&r.c(),t=jt(),It(e.$$.fragment)},l(h){r&&r.l(h),t=Jt(h),At(e.$$.fragment,h)},m(h,l){r&&r.m(h,l),et(h,t,l),Pt(e,h,l),i=!0},p(h,l){h[6].length>0?r?(r.p(h,l),l[0]&64&&J(r,1)):(r=ip(h),r.c(),J(r,1),r.m(t.parentNode,t)):r&&(Ke(),tt(r,1,1,()=>{r=null}),je());const a={};l[0]&183|l[1]&512&&(a.$$scope={dirty:l,ctx:h}),e.$set(a)},i(h){i||(J(r),J(e.$$.fragment,h),i=!0)},o(h){tt(r),tt(e.$$.fragment,h),i=!1},d(h){r&&r.d(h),h&&P(t),Lt(e,h)}}}function ip(s){let t,e,i,r,h;return e=new Qn({props:{$$slots:{default:[Wx]},$$scope:{ctx:s}}}),r=new Qn({props:{$$slots:{default:[Gx]},$$scope:{ctx:s}}}),{c(){t=Rt("div"),It(e.$$.fragment),i=jt(),It(r.$$.fragment),this.h()},l(l){t=Ot(l,"DIV",{class:!0});var a=$(t);At(e.$$.fragment,a),i=Jt(a),At(r.$$.fragment,a),a.forEach(P),this.h()},h(){I(t,"class","grid grid-cols-1 gap-4 lg:grid-cols-2 shadow-none")},m(l,a){et(l,t,a),Pt(e,t,null),rt(t,i),Pt(r,t,null),h=!0},p(l,a){const c={};a[0]&180|a[1]&512&&(c.$$scope={dirty:a,ctx:l}),e.$set(c);const d={};a[0]&15|a[1]&512&&(d.$$scope={dirty:a,ctx:l}),r.$set(d)},i(l){h||(J(e.$$.fragment,l),J(r.$$.fragment,l),h=!0)},o(l){tt(e.$$.fragment,l),tt(r.$$.fragment,l),h=!1},d(l){l&&P(t),Lt(e),Lt(r)}}}function Wx(s){var nt,ct,Z;let t,e,i,r,h,l,a,c=Ae(s[4].underlying.usd)+"",d,f,g,m,b,_,S=((Z=(ct=(nt=s[7])==null?void 0:nt.history)==null?void 0:ct.at(-1))!=null&&Z.mcap?Ae(s[7].history.at(-1).mcap):"UNK")+"",R,k,L,G,N;return t=new zs({props:{title:"Backing History",subtitle:"View "+s[2].name+"'s backing history."}}),G=new Bp({props:{data:s[5].length?[...new Set(s[5].flatMap(s[20]))].sort().map(s[21]):[{date:new Date().toISOString(),value:0}]}}),{c(){It(t.$$.fragment),e=jt(),i=Rt("div"),r=Rt("dl"),h=Rt("dt"),l=$t("Current Backing"),a=Rt("dd"),d=$t(c),f=jt(),g=Rt("dl"),m=Rt("dt"),b=$t("Current Market Cap"),_=Rt("dd"),R=$t(S),k=jt(),L=Rt("div"),It(G.$$.fragment),this.h()},l(H){At(t.$$.fragment,H),e=Jt(H),i=Ot(H,"DIV",{class:!0});var it=$(i);r=Ot(it,"DL",{});var Et=$(r);h=Ot(Et,"DT",{class:!0});var bt=$(h);l=te(bt,"Current Backing"),bt.forEach(P),a=Ot(Et,"DD",{class:!0});var ft=$(a);d=te(ft,c),ft.forEach(P),Et.forEach(P),f=Jt(it),g=Ot(it,"DL",{class:!0});var mt=$(g);m=Ot(mt,"DT",{class:!0});var yt=$(m);b=te(yt,"Current Market Cap"),yt.forEach(P),_=Ot(mt,"DD",{class:!0});var O=$(_);R=te(O,S),O.forEach(P),mt.forEach(P),it.forEach(P),k=Jt(H),L=Ot(H,"DIV",{class:!0});var K=$(L);At(G.$$.fragment,K),K.forEach(P),this.h()},h(){I(h,"class","text-sm font-medium text-gray-500 truncate"),I(a,"class","mt-1 text-3xl font-semibold text-gray-900"),I(m,"class","text-sm font-medium text-gray-500 truncate"),I(_,"class","mt-1 text-3xl font-semibold text-gray-900"),I(g,"class","text-right"),I(i,"class","flex items-center justify-between mt-5 sm:mt-6 px-4 sm:px-6"),I(L,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(H,it){Pt(t,H,it),et(H,e,it),et(H,i,it),rt(i,r),rt(r,h),rt(h,l),rt(r,a),rt(a,d),rt(i,f),rt(i,g),rt(g,m),rt(m,b),rt(g,_),rt(_,R),et(H,k,it),et(H,L,it),Pt(G,L,null),N=!0},p(H,it){var ft,mt,yt;const Et={};it[0]&4&&(Et.subtitle="View "+H[2].name+"'s backing history."),t.$set(Et),(!N||it[0]&16)&&c!==(c=Ae(H[4].underlying.usd)+"")&&Ee(d,c),(!N||it[0]&128)&&S!==(S=((yt=(mt=(ft=H[7])==null?void 0:ft.history)==null?void 0:mt.at(-1))!=null&&yt.mcap?Ae(H[7].history.at(-1).mcap):"UNK")+"")&&Ee(R,S);const bt={};it[0]&160&&(bt.data=H[5].length?[...new Set(H[5].flatMap(H[20]))].sort().map(H[21]):[{date:new Date().toISOString(),value:0}]),G.$set(bt)},i(H){N||(J(t.$$.fragment,H),J(G.$$.fragment,H),N=!0)},o(H){tt(t.$$.fragment,H),tt(G.$$.fragment,H),N=!1},d(H){Lt(t,H),H&&P(e),H&&P(i),H&&P(k),H&&P(L),Lt(G)}}}function Gx(s){let t,e,i,r,h;return t=new zs({props:{title:"Underlying Chain",subtitle:"View the full chain of "+s[2].name+"'s underlying assets."}}),r=new Wp({props:{graph:jh(Kh(s[1],s[3],"down"),s[3]),data:s[0]}}),{c(){It(t.$$.fragment),e=jt(),i=Rt("div"),It(r.$$.fragment),this.h()},l(l){At(t.$$.fragment,l),e=Jt(l),i=Ot(l,"DIV",{class:!0});var a=$(i);At(r.$$.fragment,a),a.forEach(P),this.h()},h(){I(i,"class","mt-5 sm:mt-6 h-full justify-center")},m(l,a){Pt(t,l,a),et(l,e,a),et(l,i,a),Pt(r,i,null),h=!0},p(l,a){const c={};a[0]&4&&(c.subtitle="View the full chain of "+l[2].name+"'s underlying assets."),t.$set(c);const d={};a[0]&10&&(d.graph=jh(Kh(l[1],l[3],"down"),l[3])),a[0]&1&&(d.data=l[0]),r.$set(d)},i(l){h||(J(t.$$.fragment,l),J(r.$$.fragment,l),h=!0)},o(l){tt(t.$$.fragment,l),tt(r.$$.fragment,l),h=!1},d(l){Lt(t,l),l&&P(e),l&&P(i),Lt(r)}}}function qx(s){let t,e,i,r;return t=new zs({props:{title:"Underlying Assets",subtitle:"List of "+s[2].name+"'s underlying assets."}}),i=new cp({props:{data:s[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"share",title:"%",class:""},{id:"price",title:"Price",class:"hidden lg:table-cell"},{id:"amount",title:"Amount",class:"hidden sm:table-cell"},{id:"underlying-usd",title:"Backing",class:""},{id:"underlying-ratio",title:"Mcap Ratio",class:"hidden sm:table-cell"}],rows:s[5].map(s[22]).map(s[23]),sort:[{by:"share"}],class:"mt-5 sm:mt-6"}}),{c(){It(t.$$.fragment),e=jt(),It(i.$$.fragment)},l(h){At(t.$$.fragment,h),e=Jt(h),At(i.$$.fragment,h)},m(h,l){Pt(t,h,l),et(h,e,l),Pt(i,h,l),r=!0},p(h,l){const a={};l[0]&4&&(a.subtitle="List of "+h[2].name+"'s underlying assets."),t.$set(a);const c={};l[0]&1&&(c.data=h[0]),l[0]&178&&(c.rows=h[5].map(h[22]).map(h[23])),i.$set(c)},i(h){r||(J(t.$$.fragment,h),J(i.$$.fragment,h),r=!0)},o(h){tt(t.$$.fragment,h),tt(i.$$.fragment,h),r=!1},d(h){Lt(t,h),h&&P(e),Lt(i,h)}}}function np(s){let t,e,i,r=s[6].length>0&&sp(s);return e=new Qn({props:{class:"sm:mx-0 divide-y divide-gray-200",$$slots:{default:[jx]},$$scope:{ctx:s}}}),{c(){r&&r.c(),t=jt(),It(e.$$.fragment)},l(h){r&&r.l(h),t=Jt(h),At(e.$$.fragment,h)},m(h,l){r&&r.m(h,l),et(h,t,l),Pt(e,h,l),i=!0},p(h,l){h[6].length>0?r?(r.p(h,l),l[0]&64&&J(r,1)):(r=sp(h),r.c(),J(r,1),r.m(t.parentNode,t)):r&&(Ke(),tt(r,1,1,()=>{r=null}),je());const a={};l[0]&8343|l[1]&512&&(a.$$scope={dirty:l,ctx:h}),e.$set(a)},i(h){i||(J(r),J(e.$$.fragment,h),i=!0)},o(h){tt(r),tt(e.$$.fragment,h),i=!1},d(h){r&&r.d(h),h&&P(t),Lt(e,h)}}}function sp(s){let t,e,i,r,h;return e=new Qn({props:{$$slots:{default:[Yx]},$$scope:{ctx:s}}}),r=new Qn({props:{$$slots:{default:[Kx]},$$scope:{ctx:s}}}),{c(){t=Rt("div"),It(e.$$.fragment),i=jt(),It(r.$$.fragment),this.h()},l(l){t=Ot(l,"DIV",{class:!0});var a=$(t);At(e.$$.fragment,a),i=Jt(a),At(r.$$.fragment,a),a.forEach(P),this.h()},h(){I(t,"class","grid grid-cols-1 gap-4 lg:grid-cols-2 shadow-none")},m(l,a){et(l,t,a),Pt(e,t,null),rt(t,i),Pt(r,t,null),h=!0},p(l,a){const c={};a[0]&8340|a[1]&512&&(c.$$scope={dirty:a,ctx:l}),e.$set(c);const d={};a[0]&15|a[1]&512&&(d.$$scope={dirty:a,ctx:l}),r.$set(d)},i(l){h||(J(e.$$.fragment,l),J(r.$$.fragment,l),h=!0)},o(l){tt(e.$$.fragment,l),tt(r.$$.fragment,l),h=!1},d(l){l&&P(t),Lt(e),Lt(r)}}}function Yx(s){var nt,ct,Z;let t,e,i,r,h,l,a,c=Ae(s[4].derivative.usd)+"",d,f,g,m,b,_,S=((Z=(ct=(nt=s[7])==null?void 0:nt.history)==null?void 0:ct.at(-1))!=null&&Z.mcap?Ae(s[7].history.at(-1).mcap):"UNK")+"",R,k,L,G,N;return t=new zs({props:{title:"History of Derivative Market Cap Ratio",subtitle:"View "+s[2].name+"'s derivative history."}}),G=new Bp({props:{data:s[13].length?[...new Set(s[13].flatMap(s[24]))].sort().map(s[25]):[{date:new Date().toISOString(),value:0}]}}),{c(){It(t.$$.fragment),e=jt(),i=Rt("div"),r=Rt("dl"),h=Rt("dt"),l=$t(`Current Derivative Market Cap
							`),a=Rt("dd"),d=$t(c),f=jt(),g=Rt("dl"),m=Rt("dt"),b=$t("Current Market Cap"),_=Rt("dd"),R=$t(S),k=jt(),L=Rt("div"),It(G.$$.fragment),this.h()},l(H){At(t.$$.fragment,H),e=Jt(H),i=Ot(H,"DIV",{class:!0});var it=$(i);r=Ot(it,"DL",{});var Et=$(r);h=Ot(Et,"DT",{class:!0});var bt=$(h);l=te(bt,`Current Derivative Market Cap
							`),bt.forEach(P),a=Ot(Et,"DD",{class:!0});var ft=$(a);d=te(ft,c),ft.forEach(P),Et.forEach(P),f=Jt(it),g=Ot(it,"DL",{class:!0});var mt=$(g);m=Ot(mt,"DT",{class:!0});var yt=$(m);b=te(yt,"Current Market Cap"),yt.forEach(P),_=Ot(mt,"DD",{class:!0});var O=$(_);R=te(O,S),O.forEach(P),mt.forEach(P),it.forEach(P),k=Jt(H),L=Ot(H,"DIV",{class:!0});var K=$(L);At(G.$$.fragment,K),K.forEach(P),this.h()},h(){I(h,"class","text-sm font-medium text-gray-500 truncate"),I(a,"class","mt-1 text-3xl font-semibold text-gray-900"),I(m,"class","text-sm font-medium text-gray-500 truncate"),I(_,"class","mt-1 text-3xl font-semibold text-gray-900"),I(g,"class","text-right"),I(i,"class","flex items-center justify-between mt-5 sm:mt-6 px-4 sm:px-6"),I(L,"class","mt-5 sm:mt-6 h-full overflow-hidden")},m(H,it){Pt(t,H,it),et(H,e,it),et(H,i,it),rt(i,r),rt(r,h),rt(h,l),rt(r,a),rt(a,d),rt(i,f),rt(i,g),rt(g,m),rt(m,b),rt(g,_),rt(_,R),et(H,k,it),et(H,L,it),Pt(G,L,null),N=!0},p(H,it){var ft,mt,yt;const Et={};it[0]&4&&(Et.subtitle="View "+H[2].name+"'s derivative history."),t.$set(Et),(!N||it[0]&16)&&c!==(c=Ae(H[4].derivative.usd)+"")&&Ee(d,c),(!N||it[0]&128)&&S!==(S=((yt=(mt=(ft=H[7])==null?void 0:ft.history)==null?void 0:mt.at(-1))!=null&&yt.mcap?Ae(H[7].history.at(-1).mcap):"UNK")+"")&&Ee(R,S);const bt={};it[0]&8320&&(bt.data=H[13].length?[...new Set(H[13].flatMap(H[24]))].sort().map(H[25]):[{date:new Date().toISOString(),value:0}]),G.$set(bt)},i(H){N||(J(t.$$.fragment,H),J(G.$$.fragment,H),N=!0)},o(H){tt(t.$$.fragment,H),tt(G.$$.fragment,H),N=!1},d(H){Lt(t,H),H&&P(e),H&&P(i),H&&P(k),H&&P(L),Lt(G)}}}function Kx(s){let t,e,i,r,h;return t=new zs({props:{title:"Derivative Chain",subtitle:"View the full chain of "+s[2].name+"'s derivative assets."}}),r=new Wp({props:{graph:jh(Kh(s[1],s[3],"up"),s[3]),data:s[0]}}),{c(){It(t.$$.fragment),e=jt(),i=Rt("div"),It(r.$$.fragment),this.h()},l(l){At(t.$$.fragment,l),e=Jt(l),i=Ot(l,"DIV",{class:!0});var a=$(i);At(r.$$.fragment,a),a.forEach(P),this.h()},h(){I(i,"class","mt-5 sm:mt-6 h-full justify-center")},m(l,a){Pt(t,l,a),et(l,e,a),et(l,i,a),Pt(r,i,null),h=!0},p(l,a){const c={};a[0]&4&&(c.subtitle="View the full chain of "+l[2].name+"'s derivative assets."),t.$set(c);const d={};a[0]&10&&(d.graph=jh(Kh(l[1],l[3],"up"),l[3])),a[0]&1&&(d.data=l[0]),r.$set(d)},i(l){h||(J(t.$$.fragment,l),J(r.$$.fragment,l),h=!0)},o(l){tt(t.$$.fragment,l),tt(r.$$.fragment,l),h=!1},d(l){Lt(t,l),l&&P(e),l&&P(i),Lt(r)}}}function jx(s){let t,e,i,r;return t=new zs({props:{title:"Derivative Assets",subtitle:"List of "+s[2].name+"'s derivative assets."}}),i=new cp({props:{data:s[0],columns:[{id:"name",title:"Name",class:"font-medium",link:!0},{id:"share",title:"%",class:"hidden sm:table-cell"},{id:"price",title:"Price",class:"hidden lg:table-cell"},{id:"amount",title:"Amount",class:"hidden sm:table-cell"},{id:"derivative-usd",title:"Backing",class:""},{id:"derivative-ratio",title:"Mcap Ratio",class:""}],rows:s[13].map(s[26]).map(s[27]),sort:[{by:"derivative-ratio"}],class:"mt-5 sm:mt-6"}}),{c(){It(t.$$.fragment),e=jt(),It(i.$$.fragment)},l(h){At(t.$$.fragment,h),e=Jt(h),At(i.$$.fragment,h)},m(h,l){Pt(t,h,l),et(h,e,l),Pt(i,h,l),r=!0},p(h,l){const a={};l[0]&4&&(a.subtitle="List of "+h[2].name+"'s derivative assets."),t.$set(a);const c={};l[0]&1&&(c.data=h[0]),l[0]&8338&&(c.rows=h[13].map(h[26]).map(h[27])),i.$set(c)},i(h){r||(J(t.$$.fragment,h),J(i.$$.fragment,h),r=!0)},o(h){tt(t.$$.fragment,h),tt(i.$$.fragment,h),r=!1},d(h){Lt(t,h),h&&P(e),Lt(i,h)}}}function Jx(s){let t,e;return t=new gb({props:{class:"h-6 w-6 text-blue-500","aria-hidden":"true"}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function Xx(s){let t,e;return t=new Tb({props:{class:"h-6 w-6 text-green-500","aria-hidden":"true"}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function Zx(s){let t,e;return t=new xb({props:{class:"h-6 w-6 text-red-500","aria-hidden":"true"}}),{c(){It(t.$$.fragment)},l(i){At(t.$$.fragment,i)},m(i,r){Pt(t,i,r),e=!0},i(i){e||(J(t.$$.fragment,i),e=!0)},o(i){tt(t.$$.fragment,i),e=!1},d(i){Lt(t,i)}}}function rp(s){let t,e,i,r,h,l,a=s[34].html+"",c,d;const f=[Zx,Xx,Jx],g=[];function m(b,_){return b[34].type=="doubt"?0:b[34].type=="praise"?1:b[34].type=="addition"?2:-1}return~(i=m(s))&&(r=g[i]=f[i](s)),{c(){t=Rt("div"),e=Rt("div"),r&&r.c(),h=jt(),l=Rt("dl"),c=jt(),this.h()},l(b){t=Ot(b,"DIV",{class:!0});var _=$(t);e=Ot(_,"DIV",{class:!0});var S=$(e);r&&r.l(S),S.forEach(P),h=Jt(_),l=Ot(_,"DL",{class:!0});var R=$(l);R.forEach(P),c=Jt(_),_.forEach(P),this.h()},h(){I(e,"class","flex-shrink-0 mr-4"),I(l,"class","flex-1"),I(t,"class","relative flex")},m(b,_){et(b,t,_),rt(t,e),~i&&g[i].m(e,null),rt(t,h),rt(t,l),l.innerHTML=a,rt(t,c),d=!0},p(b,_){let S=i;i=m(b),i!==S&&(r&&(Ke(),tt(g[S],1,1,()=>{g[S]=null}),je()),~i?(r=g[i],r||(r=g[i]=f[i](b),r.c()),J(r,1),r.m(e,null)):r=null),(!d||_[0]&16384)&&a!==(a=b[34].html+"")&&(l.innerHTML=a)},i(b){d||(J(r),d=!0)},o(b){tt(r),d=!1},d(b){b&&P(t),~i&&g[i].d()}}}function Qx(s){let t,e,i,r;t=new zs({props:{title:"Praise and Doubts",subtitle:"Any praise and doubts the community has about "+s[2].name+"'s backing."}});let h=s[14],l=[];for(let c=0;c<h.length;c+=1)l[c]=rp(jd(s,h,c));const a=c=>tt(l[c],1,1,()=>{l[c]=null});return{c(){It(t.$$.fragment),e=jt(),i=Rt("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){At(t.$$.fragment,c),e=Jt(c),i=Ot(c,"DIV",{class:!0});var d=$(i);for(let f=0;f<l.length;f+=1)l[f].l(d);d.forEach(P),this.h()},h(){I(i,"class","p-5 sm:p-6 space-y-10 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:gap-y-12 lg:grid-cols-3 lg:gap-x-8")},m(c,d){Pt(t,c,d),et(c,e,d),et(c,i,d);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null);r=!0},p(c,d){const f={};if(d[0]&4&&(f.subtitle="Any praise and doubts the community has about "+c[2].name+"'s backing."),t.$set(f),d[0]&16384){h=c[14];let g;for(g=0;g<h.length;g+=1){const m=jd(c,h,g);l[g]?(l[g].p(m,d),J(l[g],1)):(l[g]=rp(m),l[g].c(),J(l[g],1),l[g].m(i,null))}for(Ke(),g=h.length;g<l.length;g+=1)a(g);je()}},i(c){if(!r){J(t.$$.fragment,c);for(let d=0;d<h.length;d+=1)J(l[d]);r=!0}},o(c){tt(t.$$.fragment,c),l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)tt(l[d]);r=!1},d(c){Lt(t,c),c&&P(e),c&&P(i),kh(l,c)}}}function $x(s){let t,e,i,r,h,l,a,c;t=new rb({props:{title:s[2].name,subtitle:s[2].symbol,iconUrl:ci+"/assets/"+s[3]+"/icon.svg",$$slots:{default:[kx]},$$scope:{ctx:s}}});let d=s[8],f=[];for(let _=0;_<d.length;_+=1)f[_]=tp(Jd(s,d,_));const g=_=>tt(f[_],1,1,()=>{f[_]=null});let m=s[5].length>0&&ep(s),b=s[13].length>0&&np(s);return a=new Qn({props:{$$slots:{default:[Qx]},$$scope:{ctx:s}}}),{c(){It(t.$$.fragment),e=jt(),i=Rt("div");for(let _=0;_<f.length;_+=1)f[_].c();r=jt(),m&&m.c(),h=jt(),b&&b.c(),l=jt(),It(a.$$.fragment),this.h()},l(_){At(t.$$.fragment,_),e=Jt(_),i=Ot(_,"DIV",{class:!0});var S=$(i);for(let R=0;R<f.length;R+=1)f[R].l(S);S.forEach(P),r=Jt(_),m&&m.l(_),h=Jt(_),b&&b.l(_),l=Jt(_),At(a.$$.fragment,_),this.h()},h(){I(i,"class","grid grid-cols-2 gap-[0.1rem] sm:gap-4 md:grid-cols-4 shadow sm:shadow-none")},m(_,S){Pt(t,_,S),et(_,e,S),et(_,i,S);for(let R=0;R<f.length;R+=1)f[R]&&f[R].m(i,null);et(_,r,S),m&&m.m(_,S),et(_,h,S),b&&b.m(_,S),et(_,l,S),Pt(a,_,S),c=!0},p(_,S){const R={};if(S[0]&4&&(R.title=_[2].name),S[0]&4&&(R.subtitle=_[2].symbol),S[0]&8&&(R.iconUrl=ci+"/assets/"+_[3]+"/icon.svg"),S[0]&7168|S[1]&512&&(R.$$scope={dirty:S,ctx:_}),t.$set(R),S[0]&256){d=_[8];let L;for(L=0;L<d.length;L+=1){const G=Jd(_,d,L);f[L]?(f[L].p(G,S),J(f[L],1)):(f[L]=tp(G),f[L].c(),J(f[L],1),f[L].m(i,null))}for(Ke(),L=d.length;L<f.length;L+=1)g(L);je()}_[5].length>0?m?(m.p(_,S),S[0]&32&&J(m,1)):(m=ep(_),m.c(),J(m,1),m.m(h.parentNode,h)):m&&(Ke(),tt(m,1,1,()=>{m=null}),je()),_[13].length>0?b?(b.p(_,S),S[0]&8192&&J(b,1)):(b=np(_),b.c(),J(b,1),b.m(l.parentNode,l)):b&&(Ke(),tt(b,1,1,()=>{b=null}),je());const k={};S[0]&16388|S[1]&512&&(k.$$scope={dirty:S,ctx:_}),a.$set(k)},i(_){if(!c){J(t.$$.fragment,_);for(let S=0;S<d.length;S+=1)J(f[S]);J(m),J(b),J(a.$$.fragment,_),c=!0}},o(_){tt(t.$$.fragment,_),f=f.filter(Boolean);for(let S=0;S<f.length;S+=1)tt(f[S]);tt(m),tt(b),tt(a.$$.fragment,_),c=!1},d(_){Lt(t,_),_&&P(e),_&&P(i),kh(f,_),_&&P(r),m&&m.d(_),_&&P(h),b&&b.d(_),_&&P(l),Lt(a,_)}}}function tC(s){let t,e,i,r;return t=new ub({props:{title:s[9].title,description:s[9].description,openGraph:{title:s[9].title,description:s[9].description,url:s[9].url,type:"website",images:[s[9].image]},twitter:{site:"@bcked_com",title:s[9].title,description:s[9].description,image:s[9].image.url,imageAlt:s[9].image.alt}}}),i=new hb({props:{class:"px-0",$$slots:{default:[$x]},$$scope:{ctx:s}}}),{c(){It(t.$$.fragment),e=jt(),It(i.$$.fragment)},l(h){At(t.$$.fragment,h),e=Jt(h),At(i.$$.fragment,h)},m(h,l){Pt(t,h,l),et(h,e,l),Pt(i,h,l),r=!0},p(h,l){const a={};l[0]&512&&(a.title=h[9].title),l[0]&512&&(a.description=h[9].description),l[0]&512&&(a.openGraph={title:h[9].title,description:h[9].description,url:h[9].url,type:"website",images:[h[9].image]}),l[0]&512&&(a.twitter={site:"@bcked_com",title:h[9].title,description:h[9].description,image:h[9].image.url,imageAlt:h[9].image.alt}),t.$set(a);const c={};l[0]&32255|l[1]&512&&(c.$$scope={dirty:l,ctx:h}),i.$set(c)},i(h){r||(J(t.$$.fragment,h),J(i.$$.fragment,h),r=!0)},o(h){tt(t.$$.fragment,h),tt(i.$$.fragment,h),r=!1},d(h){Lt(t,h),h&&P(e),Lt(i,h)}}}function eC(s,t,e){let i,r,h,l,a,c,d,f,g,m,b,_,S,R,k,L,G,N,nt,ct,Z;at(s,Qw,B=>e(19,Z=B));let{data:H}=t,it;const Et=new $M;async function bt(){f.contracts&&await Et.getPrice(f.contracts)}up(async()=>{await bt();const B=setInterval(async()=>{await bt()},5e3);return()=>{clearInterval(B)}});let ft=[];const mt=B=>mh.map(B.data.history,"timestamp"),yt=B=>{var Wt;const dt=(Wt=Mr(f.history,B))==null?void 0:Wt.mcap,Xt=dt?Fd(mh.sum(m.map(Gt=>Mr(Gt.data.history,B).value))/dt,4):0;return{date:B,value:Xt*100}},O=B=>({linkedNode:it.getNode(B.toId),linkData:B.data}),K=({linkedNode:B,linkData:dt})=>{var Xt,Wt,Gt,de,ve,ye,Se,bi,De,ze,yi,he,Pe,$i,le,Si,Fi,Me,pe,Ze,Le;return{name:{text:B==null?void 0:B.data.details.name,value:B==null?void 0:B.data.details.name,icon:`${ci}/assets/${B==null?void 0:B.id}/icon.svg`},"name-path":{text:`${ci}/assets/${B==null?void 0:B.id}`,value:`${ci}/assets/${B==null?void 0:B.id}`},price:{text:(Gt=(Wt=(Xt=B==null?void 0:B.data.history)==null?void 0:Xt.at(-1))==null?void 0:Wt.price)!=null&&Gt.usd?Ae(((ye=(ve=(de=B==null?void 0:B.data.history)==null?void 0:de.at(-1))==null?void 0:ve.price)==null?void 0:ye.usd)??0):"UNK",value:(De=(bi=(Se=B==null?void 0:B.data.history)==null?void 0:Se.at(-1))==null?void 0:bi.price)==null?void 0:De.usd},amount:{text:(yi=(ze=dt.history)==null?void 0:ze.at(-1))!=null&&yi.amount?xf(dt.history.at(-1).amount):"UNK",value:(Pe=(he=dt.history)==null?void 0:he.at(-1))==null?void 0:Pe.amount},share:(le=($i=dt.history)==null?void 0:$i.at(-1))!=null&&le.value?{text:Is(dt.history.at(-1).value/N.underlying.usd),value:dt.history.at(-1).value/N.underlying.usd}:{text:"UNK",value:void 0},"underlying-usd":(Fi=(Si=dt.history)==null?void 0:Si.at(-1))!=null&&Fi.value?{text:Ae(dt.history.at(-1).value),value:dt.history.at(-1).value}:{text:"UNK",value:void 0},"underlying-ratio":(pe=(Me=dt.history)==null?void 0:Me.at(-1))!=null&&pe.value&&((Le=(Ze=f==null?void 0:f.history)==null?void 0:Ze.at(-1))!=null&&Le.mcap)?{text:Is(dt.history.at(-1).value/(f==null?void 0:f.history.at(-1).mcap)),value:dt.history.at(-1).value/(f==null?void 0:f.history.at(-1).mcap)}:{text:"UNK",value:void 0}}},U=B=>mh.map(B.data.history,"timestamp"),j=B=>{var Wt;const dt=(Wt=Mr(f.history,B))==null?void 0:Wt.mcap,Xt=dt?Fd(mh.sum(b.map(Gt=>Mr(Gt.data.history,B).value))/dt,4):0;return{date:B,value:Xt*100}},q=B=>({linkedNode:it.getNode(B.fromId),linkData:B.data}),ot=({linkedNode:B,linkData:dt})=>{var Xt,Wt,Gt,de,ve,ye,Se,bi,De,ze,yi,he,Pe,$i,le,Si,Fi,Me;return{name:{text:B==null?void 0:B.data.details.name,value:B==null?void 0:B.data.details.name,icon:`${ci}/assets/${B==null?void 0:B.id}/icon.svg`},"name-path":{text:`${ci}/assets/${B==null?void 0:B.id}`,value:`${ci}/assets/${B==null?void 0:B.id}`},price:{text:(Gt=(Wt=(Xt=B==null?void 0:B.data.history)==null?void 0:Xt.at(-1))==null?void 0:Wt.price)!=null&&Gt.usd?Ae(B==null?void 0:B.data.history.at(-1).price.usd):"UNK",value:(ye=(ve=(de=B==null?void 0:B.data.history)==null?void 0:de.at(-1))==null?void 0:ve.price)==null?void 0:ye.usd},amount:{text:(bi=(Se=dt.history)==null?void 0:Se.at(-1))!=null&&bi.amount?xf(dt.history.at(-1).amount):"UNK",value:(ze=(De=dt.history)==null?void 0:De.at(-1))==null?void 0:ze.amount},share:(he=(yi=dt.history)==null?void 0:yi.at(-1))!=null&&he.value?{text:Is(dt.history.at(-1).value/N.derivative.usd),value:dt.history.at(-1).value/N.derivative.usd}:{text:"UNK",value:void 0},"derivative-usd":($i=(Pe=dt.history)==null?void 0:Pe.at(-1))!=null&&$i.value?{text:Ae(dt.history.at(-1).value),value:dt.history.at(-1).value}:{text:"UNK",value:void 0},"derivative-ratio":(Si=(le=dt.history)==null?void 0:le.at(-1))!=null&&Si.value&&((Me=(Fi=f==null?void 0:f.history)==null?void 0:Fi.at(-1))!=null&&Me.mcap)?{text:Is(dt.history.at(-1).value/f.history.at(-1).mcap),value:dt.history.at(-1).value/f.history.at(-1).mcap}:{text:"UNK",value:void 0}}};return s.$$set=B=>{"data"in B&&e(0,H=B.data)},s.$$.update=()=>{var B,dt,Xt;s.$$.dirty[0]&1&&e(15,{assetsPrice:i,assetsBacking:r,assetsStats:h,graphData:l,comments:a}=H,h,(e(18,l),e(0,H)),(e(14,a),e(0,H))),s.$$.dirty[0]&262144&&e(1,it=ap(l)),s.$$.dirty[0]&524288&&e(3,c=Z.params.id),s.$$.dirty[0]&10&&e(17,d=it.getNode(c)),s.$$.dirty[0]&131072&&e(7,f=d.data),s.$$.dirty[0]&10&&e(16,g=(it.getLinks(c)??[]).filter(Wt=>{var Gt;return(Gt=Wt.data.history.at(-1))==null?void 0:Gt.amount})),s.$$.dirty[0]&65544&&e(5,m=g.filter(Wt=>Wt.fromId==c)),s.$$.dirty[0]&65544&&e(13,b=g.filter(Wt=>Wt.fromId!=c)),s.$$.dirty[0]&128&&e(2,{details:_,issuer:S,chain:R,icon:k,contracts:L,history:G}=f,_,(e(12,S),e(7,f),e(17,d),e(1,it),e(3,c),e(18,l),e(19,Z),e(0,H)),(e(11,R),e(7,f),e(17,d),e(1,it),e(3,c),e(18,l),e(19,Z),e(0,H)),(e(6,G),e(7,f),e(17,d),e(1,it),e(3,c),e(18,l),e(19,Z),e(0,H))),s.$$.dirty[0]&32776&&e(4,N=h[c]),s.$$.dirty[0]&64&&e(10,nt=(B=G==null?void 0:G.at(-1))==null?void 0:B.timestamp),s.$$.dirty[0]&112&&e(8,ft=[(Xt=(dt=G==null?void 0:G.at(-1))==null?void 0:dt.price)!=null&&Xt.usd?{name:"Price",value:G.at(-1).price.usd,type:"currency"}:{name:"Price",value:"UNK",type:"standard"},{name:"Backing Assets",value:m.length,type:"standard"},N.underlying.ratio?{name:"Backing Ratio",value:N.underlying.ratio,type:"percent"}:{name:"Backing Ratio",value:"N/A",type:"standard"},N.underlying.count>0?{name:"Backing Uniformity",value:N.underlying.uniformity,type:"percent"}:{name:"Backing Uniformity",value:"N/A",type:"standard"}]),s.$$.dirty[0]&28&&e(9,ct={title:`${_.name} (${_.symbol}) Backing, History, Chain`,description:`${_.name} is backed ${N.underlying.ratio?`to ${Is(N.underlying.ratio)} `:""}
			with ${Ae(N.underlying.usd)} by ${N.underlying.count} ${N.underlying.count==1?"asset":"assets"}. Learn more ...`,url:`${Xe}/assets/${c}`,image:{url:`${Xe}/previews/assets/${c}.jpg`,width:1200,height:630,alt:`Preview of ${_.name}'s backing view.`}})},[H,it,_,c,N,m,G,f,ft,ct,nt,R,S,b,a,h,g,d,l,Z,mt,yt,O,K,U,j,q,ot]}class _C extends vi{constructor(t){super(),_i(this,t,eC,tC,wi,{data:0},null,[-1,-1])}}export{_C as default};
