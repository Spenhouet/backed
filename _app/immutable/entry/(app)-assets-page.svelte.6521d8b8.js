import{S as y,i as h,s as x,y as V,a as ee,k as ae,z as F,c as te,l as ie,m as ne,h as d,n as se,A as H,b as J,g as Q,d as W,B as X}from"../chunks/index.e8ba378b.js";import{b as f}from"../chunks/paths.df959ebb.js";import{T as le,n as re}from"../chunks/index.787091e2.js";import{P as Y}from"../chunks/public.d1f81b30.js";import{f as k,a as Z}from"../chunks/string-formatting.ca7775a2.js";import{S as ue}from"../chunks/index.36ed8b92.js";function me(t){let n,s,u,l,r;return n=new ue({props:{title:t[2].title,description:t[2].description,openGraph:{title:t[2].title,description:t[2].description,url:t[2].url,type:"website",images:[t[2].image]},twitter:{site:"@bcked_com",title:t[2].title,description:t[2].description,image:t[2].image.url,imageAlt:t[2].image.alt}}}),l=new le({props:{data:t[0],columns:[{id:"rank",title:"#",class:""},{id:"name",title:"Name",class:"font-medium",link:!0},{id:"backing-usd",title:"Backing in USD",class:""},{id:"backing-ratio",title:"Backing Ratio",class:""},{id:"backing-assets",title:"Backing Assets",class:""},{id:"backing-uniformity",title:"Backing Uniformity",class:""},{id:"mcap",title:"Market Cap",class:""}],rows:t[1],sort:[{by:"mcap"},{by:"backing-usd"}],class:""}}),{c(){V(n.$$.fragment),s=ee(),u=ae("div"),V(l.$$.fragment),this.h()},l(e){F(n.$$.fragment,e),s=te(e),u=ie(e,"DIV",{class:!0});var i=ne(u);F(l.$$.fragment,i),i.forEach(d),this.h()},h(){se(u,"class","w-full pt-8")},m(e,i){H(n,e,i),J(e,s,i),J(e,u,i),H(l,u,null),r=!0},p(e,[i]){const m={};i&4&&(m.title=e[2].title),i&4&&(m.description=e[2].description),i&4&&(m.openGraph={title:e[2].title,description:e[2].description,url:e[2].url,type:"website",images:[e[2].image]}),i&4&&(m.twitter={site:"@bcked_com",title:e[2].title,description:e[2].description,image:e[2].image.url,imageAlt:e[2].image.alt}),n.$set(m);const o={};i&1&&(o.data=e[0]),i&2&&(o.rows=e[1]),l.$set(o)},i(e){r||(Q(n.$$.fragment,e),Q(l.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),W(l.$$.fragment,e),r=!1},d(e){X(n,e),e&&d(s),e&&d(u),X(l)}}}function ge(t,n,s){let u,l,r,e,i,{data:m}=n,o;return t.$$set=g=>{"data"in g&&s(0,m=g.data)},t.$$.update=()=>{t.$$.dirty&1&&s(4,{assetsPrice:u,assetsBacking:l,graphData:r}=m,r),t.$$.dirty&16&&s(3,o=re(r)),t.$$.dirty&24&&s(1,e=r.nodes.filter(({id:g,data:{details:c}})=>{var a,p;return((a=o.getLinks(g))==null?void 0:a.length)&&!((p=c==null?void 0:c.tags)!=null&&p.includes("lp"))}).map(({id:g,data:{details:c,history:a}},p)=>{var b,v,_,$,w,N,S,U,A,B,P,K,C,D,I,R,j,q,G,L,M,T,z,E,O;return{rank:{text:(p+1).toString(),value:p},name:{text:c.name,value:c.name,icon:`${f}/assets/${g}/icon.svg`},price:{text:(v=(b=a==null?void 0:a.at(-1))==null?void 0:b.price)!=null&&v.usd?k(a.at(-1).price.usd):"UNK",value:($=(_=a==null?void 0:a.at(-1))==null?void 0:_.price)==null?void 0:$.usd},"backing-assets":{text:(N=(w=a.at(-1))==null?void 0:w.underlying)!=null&&N.count?a.at(-1).underlying.count.toString():"UNK",value:(U=(S=a.at(-1))==null?void 0:S.underlying)==null?void 0:U.count},"backing-ratio":{text:(B=(A=a.at(-1))==null?void 0:A.underlying)!=null&&B.ratio?Z(a.at(-1).underlying.ratio.value):"UNK",value:(C=(K=(P=a.at(-1))==null?void 0:P.underlying)==null?void 0:K.ratio)==null?void 0:C.value},"backing-usd":{text:(I=(D=a.at(-1))==null?void 0:D.underlying)!=null&&I.usd?k(a.at(-1).underlying.usd):"UNK",value:(j=(R=a.at(-1))==null?void 0:R.underlying)==null?void 0:j.usd},mcap:{text:(q=a.at(-1))!=null&&q.mcap?k(a.at(-1).mcap.value):"UNK",value:(L=(G=a.at(-1))==null?void 0:G.mcap)==null?void 0:L.value},"backing-uniformity":{text:(((z=(T=(M=a.at(-1))==null?void 0:M.underlying)==null?void 0:T.ratio)==null?void 0:z.value)??0)>0?Z(a.at(-1).underlying.uniformity):"N/A",value:(O=(E=a.at(-1))==null?void 0:E.underlying)==null?void 0:O.uniformity},"name-path":{text:`${f}/assets/${g}`,value:`${f}/assets/${g}`}}})),t.$$.dirty&2&&s(2,i={title:"bcked: Asset Ranking",description:`Ranking of ${e.length} unique assets based on their backing. See all ...`,url:`${Y}/assets`,image:{url:`${Y}/assets/preview.jpg`,width:1200,height:630,alt:"Preview of asset ranking."}})},[m,e,i,o,r]}class be extends y{constructor(n){super(),h(this,n,ge,me,x,{data:0})}}export{be as default};
