function j(n,r=2,t="USD",a="symbol",f=!0){const l={minimumFractionDigits:r,maximumFractionDigits:r,style:"currency",currency:t,currencyDisplay:a,useGrouping:f};let s="standard";return n>=1e3?s="compact":n<.1&&n>0&&(s="scientific"),Intl.NumberFormat("en-US",{notation:s,...l}).format(n)}function ee(n,r=2,t=!0){const a={minimumFractionDigits:r,maximumFractionDigits:r,useGrouping:t};let f="standard";return n>=1e3?f="compact":n<.1&&n>0&&(f="scientific"),Intl.NumberFormat("en-US",{notation:f,...a}).format(n)}function ne(n,r=0){return Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:r,maximumFractionDigits:r}).format(n)}function re(n,r,t=!0){let a;return n!==""&&r!==""&&!isNaN(n)&&!isNaN(r)?a=n-r:a=String(r).localeCompare(String(n)),a*(t?-1:1)}function te(...n){return(r,t)=>{if(!n)return 0;for(let a=n.length-1;a>=0;a--){const f=n[a](r,t);if(f!==0)return f}return 0}}var K=function(r){X(r);var t=Q(r);return r.on=t.on,r.off=t.off,r.fire=t.fire,r};function Q(n){var r=Object.create(null);return{on:function(t,a,f){if(typeof a!="function")throw new Error("callback is expected to be a function");var l=r[t];return l||(l=r[t]=[]),l.push({callback:a,ctx:f}),n},off:function(t,a){var f=typeof t>"u";if(f)return r=Object.create(null),n;if(r[t]){var l=typeof a!="function";if(l)delete r[t];else for(var s=r[t],p=0;p<s.length;++p)s[p].callback===a&&s.splice(p,1)}return n},fire:function(t){var a=r[t];if(!a)return n;var f;arguments.length>1&&(f=Array.prototype.splice.call(arguments,1));for(var l=0;l<a.length;++l){var s=a[l];s.callback.apply(s.ctx,f)}return n}}}function X(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],t=0;t<r.length;++t)if(n.hasOwnProperty(r[t]))throw new Error("Subject cannot be eventified, since it already has property '"+r[t]+"'")}var ie=$,Z=K;function $(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var r=new Map,t=new Map,a={},f=0,l=n.multigraph?T:P,s=[],p=y,L=y,m=y,k=y,h={version:20,addNode:x,addLink:R,removeLink:z,removeNode:S,getNode:v,getNodeCount:C,getLinkCount:E,getEdgeCount:E,getLinksCount:E,getNodesCount:C,getLinks:A,forEachNode:U,forEachLinkedNode:G,forEachLink:_,beginUpdate:m,endUpdate:k,clear:V,hasLink:w,hasNode:v,getLink:w};return Z(h),q(),h;function q(){var e=h.on;h.on=i;function i(){return h.beginUpdate=m=B,h.endUpdate=k=H,p=D,L=O,h.on=e,e.apply(h,arguments)}}function D(e,i){s.push({link:e,changeType:i})}function O(e,i){s.push({node:e,changeType:i})}function x(e,i){if(e===void 0)throw new Error("Invalid node identifier");m();var o=v(e);return o?(o.data=i,L(o,"update")):(o=new I(e,i),L(o,"add")),r.set(e,o),k(),o}function v(e){return r.get(e)}function S(e){var i=v(e);if(!i)return!1;m();var o=i.links;return o&&(o.forEach(F),i.links=null),r.delete(e),L(i,"remove"),k(),!0}function R(e,i,o){m();var u=v(e)||x(e),c=v(i)||x(i),d=l(e,i,o),g=t.has(d.id);return t.set(d.id,d),M(u,d),e!==i&&M(c,d),p(d,g?"update":"add"),k(),d}function P(e,i,o){var u=N(e,i),c=t.get(u);return c?(c.data=o,c):new b(e,i,o,u)}function T(e,i,o){var u=N(e,i),c=a.hasOwnProperty(u);if(c||w(e,i)){c||(a[u]=0);var d="@"+ ++a[u];u=N(e+d,i+d)}return new b(e,i,o,u)}function C(){return r.size}function E(){return t.size}function A(e){var i=v(e);return i?i.links:null}function z(e,i){return i!==void 0&&(e=w(e,i)),F(e)}function F(e){if(!e||!t.get(e.id))return!1;m(),t.delete(e.id);var i=v(e.fromId),o=v(e.toId);return i&&i.links.delete(e),o&&o.links.delete(e),p(e,"remove"),k(),!0}function w(e,i){if(!(e===void 0||i===void 0))return t.get(N(e,i))}function V(){m(),U(function(e){S(e.id)}),k()}function _(e){if(typeof e=="function")for(var i=t.values(),o=i.next();!o.done;){if(e(o.value))return!0;o=i.next()}}function G(e,i,o){var u=v(e);if(u&&u.links&&typeof i=="function")return o?Y(u.links,e,i):W(u.links,e,i)}function W(e,i,o){for(var u,c=e.values(),d=c.next();!d.done;){var g=d.value,J=g.fromId===i?g.toId:g.fromId;if(u=o(r.get(J),g),u)return!0;d=c.next()}}function Y(e,i,o){for(var u,c=e.values(),d=c.next();!d.done;){var g=d.value;if(g.fromId===i&&(u=o(r.get(g.toId),g),u))return!0;d=c.next()}}function y(){}function B(){f+=1}function H(){f-=1,f===0&&s.length>0&&(h.fire("changed",s),s.length=0)}function U(e){if(typeof e!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var i=r.values(),o=i.next();!o.done;){if(e(o.value))return!0;o=i.next()}}}function I(n,r){this.id=n,this.links=null,this.data=r}function M(n,r){n.links?n.links.add(r):n.links=new Set([r])}function b(n,r,t,a){this.fromId=n,this.toId=r,this.data=t,this.id=a}function N(n,r){return n.toString()+"ðŸ‘‰ "+r.toString()}function ae(n,r){let t;if(r===void 0)for(const a of n)a!=null&&(t<a||t===void 0&&a>=a)&&(t=a);else{let a=-1;for(let f of n)(f=r(f,++a,n))!=null&&(t<f||t===void 0&&f>=f)&&(t=f)}return t}function oe(n,r){let t;if(r===void 0)for(const a of n)a!=null&&(t>a||t===void 0&&a>=a)&&(t=a);else{let a=-1;for(let f of n)(f=r(f,++a,n))!=null&&(t>f||t===void 0&&f>=f)&&(t=f)}return t}function fe(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}export{ne as a,ae as b,ee as c,K as d,te as e,j as f,re as g,fe as i,oe as m,ie as n};
